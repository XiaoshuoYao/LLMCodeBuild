(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const nt of document.querySelectorAll('link[rel="modulepreload"]'))tt(nt);new MutationObserver(nt=>{for(const rt of nt)if(rt.type==="childList")for(const it of rt.addedNodes)it.tagName==="LINK"&&it.rel==="modulepreload"&&tt(it)}).observe(document,{childList:!0,subtree:!0});function et(nt){const rt={};return nt.integrity&&(rt.integrity=nt.integrity),nt.referrerPolicy&&(rt.referrerPolicy=nt.referrerPolicy),nt.crossOrigin==="use-credentials"?rt.credentials="include":nt.crossOrigin==="anonymous"?rt.credentials="omit":rt.credentials="same-origin",rt}function tt(nt){if(nt.ep)return;nt.ep=!0;const rt=et(nt);fetch(nt.href,rt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var $=_e.default;if(typeof $=="function"){var et=function tt(){return this instanceof tt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};et.prototype=$.prototype}else et={};return Object.defineProperty(et,"__esModule",{value:!0}),Object.keys(_e).forEach(function(tt){var nt=Object.getOwnPropertyDescriptor(_e,tt);Object.defineProperty(et,tt,nt.get?nt:{enumerable:!0,get:function(){return _e[tt]}})}),et}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$7=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$5=Symbol.for("react.forward_ref"),w$3=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$3(_e){return _e===null||typeof _e!="object"?null:(_e=z$3&&_e[z$3]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(_e,$,et){this.props=_e,this.context=$,this.refs=D$2,this.updater=et||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,$){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,$,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$1(){}F$1.prototype=E$2.prototype;function G$2(_e,$,et){this.props=_e,this.context=$,this.refs=D$2,this.updater=et||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(_e,$,et){var tt,nt={},rt=null,it=null;if($!=null)for(tt in $.ref!==void 0&&(it=$.ref),$.key!==void 0&&(rt=""+$.key),$)J.call($,tt)&&!L$2.hasOwnProperty(tt)&&(nt[tt]=$[tt]);var ot=arguments.length-2;if(ot===1)nt.children=et;else if(1<ot){for(var lt=Array(ot),ut=0;ut<ot;ut++)lt[ut]=arguments[ut+2];nt.children=lt}if(_e&&_e.defaultProps)for(tt in ot=_e.defaultProps,ot)nt[tt]===void 0&&(nt[tt]=ot[tt]);return{$$typeof:l$5,type:_e,key:rt,ref:it,props:nt,_owner:K$1.current}}function N$2(_e,$){return{$$typeof:l$5,type:_e.type,key:$,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$2(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$5}function escape(_e){var $={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(et){return $[et]})}var P$2=/\/+/g;function Q$2(_e,$){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape(""+_e.key):$.toString(36)}function R$2(_e,$,et,tt,nt){var rt=typeof _e;(rt==="undefined"||rt==="boolean")&&(_e=null);var it=!1;if(_e===null)it=!0;else switch(rt){case"string":case"number":it=!0;break;case"object":switch(_e.$$typeof){case l$5:case n$6:it=!0}}if(it)return it=_e,nt=nt(it),_e=tt===""?"."+Q$2(it,0):tt,I$2(nt)?(et="",_e!=null&&(et=_e.replace(P$2,"$&/")+"/"),R$2(nt,$,et,"",function(ut){return ut})):nt!=null&&(O$2(nt)&&(nt=N$2(nt,et+(!nt.key||it&&it.key===nt.key?"":(""+nt.key).replace(P$2,"$&/")+"/")+_e)),$.push(nt)),1;if(it=0,tt=tt===""?".":tt+":",I$2(_e))for(var ot=0;ot<_e.length;ot++){rt=_e[ot];var lt=tt+Q$2(rt,ot);it+=R$2(rt,$,et,lt,nt)}else if(lt=A$3(_e),typeof lt=="function")for(_e=lt.call(_e),ot=0;!(rt=_e.next()).done;)rt=rt.value,lt=tt+Q$2(rt,ot++),it+=R$2(rt,$,et,lt,nt);else if(rt==="object")throw $=String(_e),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return it}function S$2(_e,$,et){if(_e==null)return _e;var tt=[],nt=0;return R$2(_e,tt,"","",function(rt){return $.call(et,rt,nt++)}),tt}function T$1(_e){if(_e._status===-1){var $=_e._result;$=$(),$.then(function(et){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=et)},function(et){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=et)}),_e._status===-1&&(_e._status=0,_e._result=$)}if(_e._status===1)return _e._result.default;throw _e._result}var U$2={current:null},V$1={transition:null},W$2={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$2,forEach:function(_e,$,et){S$2(_e,function(){$.apply(this,arguments)},et)},count:function(_e){var $=0;return S$2(_e,function(){$++}),$},toArray:function(_e){return S$2(_e,function($){return $})||[]},only:function(_e){if(!O$2(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$7;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$3;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.cloneElement=function(_e,$,et){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var tt=C$2({},_e.props),nt=_e.key,rt=_e.ref,it=_e._owner;if($!=null){if($.ref!==void 0&&(rt=$.ref,it=K$1.current),$.key!==void 0&&(nt=""+$.key),_e.type&&_e.type.defaultProps)var ot=_e.type.defaultProps;for(lt in $)J.call($,lt)&&!L$2.hasOwnProperty(lt)&&(tt[lt]=$[lt]===void 0&&ot!==void 0?ot[lt]:$[lt])}var lt=arguments.length-2;if(lt===1)tt.children=et;else if(1<lt){ot=Array(lt);for(var ut=0;ut<lt;ut++)ot[ut]=arguments[ut+2];tt.children=ot}return{$$typeof:l$5,type:_e.type,key:nt,ref:rt,props:tt,_owner:it}};react_production_min.createContext=function(_e){return _e={$$typeof:u$4,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$6,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$2;react_production_min.createFactory=function(_e){var $=M$2.bind(null,_e);return $.type=_e,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$5,render:_e}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(_e){return{$$typeof:y$2,_payload:{_status:-1,_result:_e},_init:T$1}};react_production_min.memo=function(_e,$){return{$$typeof:x$2,type:_e,compare:$===void 0?null:$}};react_production_min.startTransition=function(_e){var $=V$1.transition;V$1.transition={};try{_e()}finally{V$1.transition=$}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_e,$){return U$2.current.useCallback(_e,$)};react_production_min.useContext=function(_e){return U$2.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$2.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,$){return U$2.current.useEffect(_e,$)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(_e,$,et){return U$2.current.useImperativeHandle(_e,$,et)};react_production_min.useInsertionEffect=function(_e,$){return U$2.current.useInsertionEffect(_e,$)};react_production_min.useLayoutEffect=function(_e,$){return U$2.current.useLayoutEffect(_e,$)};react_production_min.useMemo=function(_e,$){return U$2.current.useMemo(_e,$)};react_production_min.useReducer=function(_e,$,et){return U$2.current.useReducer(_e,$,et)};react_production_min.useRef=function(_e){return U$2.current.useRef(_e)};react_production_min.useState=function(_e){return U$2.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,$,et){return U$2.current.useSyncExternalStore(_e,$,et)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$4=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$5=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$6={key:!0,ref:!0,__self:!0,__source:!0};function q$5(_e,$,et){var tt,nt={},rt=null,it=null;et!==void 0&&(rt=""+et),$.key!==void 0&&(rt=""+$.key),$.ref!==void 0&&(it=$.ref);for(tt in $)m$5.call($,tt)&&!p$6.hasOwnProperty(tt)&&(nt[tt]=$[tt]);if(_e&&_e.defaultProps)for(tt in $=_e.defaultProps,$)nt[tt]===void 0&&(nt[tt]=$[tt]);return{$$typeof:k$4,type:_e,key:rt,ref:it,props:nt,_owner:n$5.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function $(Bt,jt){var zt=Bt.length;Bt.push(jt);e:for(;0<zt;){var Kt=zt-1>>>1,Sn=Bt[Kt];if(0<nt(Sn,jt))Bt[Kt]=jt,Bt[zt]=Sn,zt=Kt;else break e}}function et(Bt){return Bt.length===0?null:Bt[0]}function tt(Bt){if(Bt.length===0)return null;var jt=Bt[0],zt=Bt.pop();if(zt!==jt){Bt[0]=zt;e:for(var Kt=0,Sn=Bt.length,Hn=Sn>>>1;Kt<Hn;){var Qn=2*(Kt+1)-1,Vn=Bt[Qn],Wn=Qn+1,jr=Bt[Wn];if(0>nt(Vn,zt))Wn<Sn&&0>nt(jr,Vn)?(Bt[Kt]=jr,Bt[Wn]=zt,Kt=Wn):(Bt[Kt]=Vn,Bt[Qn]=zt,Kt=Qn);else if(Wn<Sn&&0>nt(jr,zt))Bt[Kt]=jr,Bt[Wn]=zt,Kt=Wn;else break e}}return jt}function nt(Bt,jt){var zt=Bt.sortIndex-jt.sortIndex;return zt!==0?zt:Bt.id-jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var rt=performance;_e.unstable_now=function(){return rt.now()}}else{var it=Date,ot=it.now();_e.unstable_now=function(){return it.now()-ot}}var lt=[],ut=[],ct=1,ht=null,dt=3,mt=!1,gt=!1,Ot=!1,wt=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,vt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Tt(Bt){for(var jt=et(ut);jt!==null;){if(jt.callback===null)tt(ut);else if(jt.startTime<=Bt)tt(ut),jt.sortIndex=jt.expirationTime,$(lt,jt);else break;jt=et(ut)}}function Et(Bt){if(Ot=!1,Tt(Bt),!gt)if(et(lt)!==null)gt=!0,En(Pt);else{var jt=et(ut);jt!==null&&vn(Et,jt.startTime-Bt)}}function Pt(Bt,jt){gt=!1,Ot&&(Ot=!1,St(Lt),Lt=-1),mt=!0;var zt=dt;try{for(Tt(jt),ht=et(lt);ht!==null&&(!(ht.expirationTime>jt)||Bt&&!Ut());){var Kt=ht.callback;if(typeof Kt=="function"){ht.callback=null,dt=ht.priorityLevel;var Sn=Kt(ht.expirationTime<=jt);jt=_e.unstable_now(),typeof Sn=="function"?ht.callback=Sn:ht===et(lt)&&tt(lt),Tt(jt)}else tt(lt);ht=et(lt)}if(ht!==null)var Hn=!0;else{var Qn=et(ut);Qn!==null&&vn(Et,Qn.startTime-jt),Hn=!1}return Hn}finally{ht=null,dt=zt,mt=!1}}var Mt=!1,Rt=null,Lt=-1,Wt=5,Ft=-1;function Ut(){return!(_e.unstable_now()-Ft<Wt)}function Xt(){if(Rt!==null){var Bt=_e.unstable_now();Ft=Bt;var jt=!0;try{jt=Rt(!0,Bt)}finally{jt?ln():(Mt=!1,Rt=null)}}else Mt=!1}var ln;if(typeof vt=="function")ln=function(){vt(Xt)};else if(typeof MessageChannel<"u"){var cn=new MessageChannel,yn=cn.port2;cn.port1.onmessage=Xt,ln=function(){yn.postMessage(null)}}else ln=function(){wt(Xt,0)};function En(Bt){Rt=Bt,Mt||(Mt=!0,ln())}function vn(Bt,jt){Lt=wt(function(){Bt(_e.unstable_now())},jt)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(Bt){Bt.callback=null},_e.unstable_continueExecution=function(){gt||mt||(gt=!0,En(Pt))},_e.unstable_forceFrameRate=function(Bt){0>Bt||125<Bt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Wt=0<Bt?Math.floor(1e3/Bt):5},_e.unstable_getCurrentPriorityLevel=function(){return dt},_e.unstable_getFirstCallbackNode=function(){return et(lt)},_e.unstable_next=function(Bt){switch(dt){case 1:case 2:case 3:var jt=3;break;default:jt=dt}var zt=dt;dt=jt;try{return Bt()}finally{dt=zt}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(Bt,jt){switch(Bt){case 1:case 2:case 3:case 4:case 5:break;default:Bt=3}var zt=dt;dt=Bt;try{return jt()}finally{dt=zt}},_e.unstable_scheduleCallback=function(Bt,jt,zt){var Kt=_e.unstable_now();switch(typeof zt=="object"&&zt!==null?(zt=zt.delay,zt=typeof zt=="number"&&0<zt?Kt+zt:Kt):zt=Kt,Bt){case 1:var Sn=-1;break;case 2:Sn=250;break;case 5:Sn=1073741823;break;case 4:Sn=1e4;break;default:Sn=5e3}return Sn=zt+Sn,Bt={id:ct++,callback:jt,priorityLevel:Bt,startTime:zt,expirationTime:Sn,sortIndex:-1},zt>Kt?(Bt.sortIndex=zt,$(ut,Bt),et(lt)===null&&Bt===et(ut)&&(Ot?(St(Lt),Lt=-1):Ot=!0,vn(Et,zt-Kt))):(Bt.sortIndex=Sn,$(lt,Bt),gt||mt||(gt=!0,En(Pt))),Bt},_e.unstable_shouldYield=Ut,_e.unstable_wrapCallback=function(Bt){var jt=dt;return function(){var zt=dt;dt=jt;try{return Bt.apply(this,arguments)}finally{dt=zt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$5(_e){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+_e,et=1;et<arguments.length;et++)$+="&args[]="+encodeURIComponent(arguments[et]);return"Minified React error #"+_e+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,$){ha(_e,$),ha(_e+"Capture",$)}function ha(_e,$){for(ea[_e]=$,_e=0;_e<$.length;_e++)da.add($[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,$,et,tt){if(et!==null&&et.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return tt?!1:et!==null?!et.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,$,et,tt){if($===null||typeof $>"u"||pa(_e,$,et,tt))return!0;if(tt)return!1;if(et!==null)switch(et.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$4(_e,$,et,tt,nt,rt,it){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=tt,this.attributeNamespace=nt,this.mustUseProperty=et,this.propertyName=_e,this.type=$,this.sanitizeURL=rt,this.removeEmptyString=it}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$2[_e]=new v$4(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var $=_e[0];z$2[$]=new v$4($,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$2[_e]=new v$4(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$2[_e]=new v$4(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$2[_e]=new v$4(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$2[_e]=new v$4(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$2[_e]=new v$4(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$2[_e]=new v$4(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$2[_e]=new v$4(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$2[$]=new v$4($,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$2[$]=new v$4($,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var $=_e.replace(ra,sa);z$2[$]=new v$4($,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$2[_e]=new v$4(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$2[_e]=new v$4(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,$,et,tt){var nt=z$2.hasOwnProperty($)?z$2[$]:null;(nt!==null?nt.type!==0:tt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,et,nt,tt)&&(et=null),tt||nt===null?oa($)&&(et===null?_e.removeAttribute($):_e.setAttribute($,""+et)):nt.mustUseProperty?_e[nt.propertyName]=et===null?nt.type===3?!1:"":et:($=nt.attributeName,tt=nt.attributeNamespace,et===null?_e.removeAttribute($):(nt=nt.type,et=nt===3||nt===4&&et===!0?"":""+et,tt?_e.setAttributeNS(tt,$,et):_e.setAttribute($,et))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$2=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(et){var $=et.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,$){if(!_e||Na)return"";Na=!0;var et=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(ut){var tt=ut}Reflect.construct(_e,[],$)}else{try{$.call()}catch(ut){tt=ut}_e.call($.prototype)}else{try{throw Error()}catch(ut){tt=ut}_e()}}catch(ut){if(ut&&tt&&typeof ut.stack=="string"){for(var nt=ut.stack.split(`
`),rt=tt.stack.split(`
`),it=nt.length-1,ot=rt.length-1;1<=it&&0<=ot&&nt[it]!==rt[ot];)ot--;for(;1<=it&&0<=ot;it--,ot--)if(nt[it]!==rt[ot]){if(it!==1||ot!==1)do if(it--,ot--,0>ot||nt[it]!==rt[ot]){var lt=`
`+nt[it].replace(" at new "," at ");return _e.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",_e.displayName)),lt}while(1<=it&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=et}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var $=_e.render;return _e=_e.displayName,_e||(_e=$.displayName||$.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return $=_e.displayName||null,$!==null?$:Qa(_e.type)||"Memo";case Ha:$=_e._payload,_e=_e._init;try{return Qa(_e($))}catch{}}return null}function Ra(_e){var $=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=$.render,_e=_e.displayName||_e.name||"",$.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var $=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(_e){var $=Ta(_e)?"checked":"value",et=Object.getOwnPropertyDescriptor(_e.constructor.prototype,$),tt=""+_e[$];if(!_e.hasOwnProperty($)&&typeof et<"u"&&typeof et.get=="function"&&typeof et.set=="function"){var nt=et.get,rt=et.set;return Object.defineProperty(_e,$,{configurable:!0,get:function(){return nt.call(this)},set:function(it){tt=""+it,rt.call(this,it)}}),Object.defineProperty(_e,$,{enumerable:et.enumerable}),{getValue:function(){return tt},setValue:function(it){tt=""+it},stopTracking:function(){_e._valueTracker=null,delete _e[$]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var $=_e._valueTracker;if(!$)return!0;var et=$.getValue(),tt="";return _e&&(tt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=tt,_e!==et?($.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,$){var et=$.checked;return A$2({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:et??_e._wrapperState.initialChecked})}function Za(_e,$){var et=$.defaultValue==null?"":$.defaultValue,tt=$.checked!=null?$.checked:$.defaultChecked;et=Sa($.value!=null?$.value:et),_e._wrapperState={initialChecked:tt,initialValue:et,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(_e,$){$=$.checked,$!=null&&ta(_e,"checked",$,!1)}function bb(_e,$){ab(_e,$);var et=Sa($.value),tt=$.type;if(et!=null)tt==="number"?(et===0&&_e.value===""||_e.value!=et)&&(_e.value=""+et):_e.value!==""+et&&(_e.value=""+et);else if(tt==="submit"||tt==="reset"){_e.removeAttribute("value");return}$.hasOwnProperty("value")?cb(_e,$.type,et):$.hasOwnProperty("defaultValue")&&cb(_e,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(_e.defaultChecked=!!$.defaultChecked)}function db(_e,$,et){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var tt=$.type;if(!(tt!=="submit"&&tt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+_e._wrapperState.initialValue,et||$===_e.value||(_e.value=$),_e.defaultValue=$}et=_e.name,et!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,et!==""&&(_e.name=et)}function cb(_e,$,et){($!=="number"||Xa(_e.ownerDocument)!==_e)&&(et==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+et&&(_e.defaultValue=""+et))}var eb=Array.isArray;function fb(_e,$,et,tt){if(_e=_e.options,$){$={};for(var nt=0;nt<et.length;nt++)$["$"+et[nt]]=!0;for(et=0;et<_e.length;et++)nt=$.hasOwnProperty("$"+_e[et].value),_e[et].selected!==nt&&(_e[et].selected=nt),nt&&tt&&(_e[et].defaultSelected=!0)}else{for(et=""+Sa(et),$=null,nt=0;nt<_e.length;nt++){if(_e[nt].value===et){_e[nt].selected=!0,tt&&(_e[nt].defaultSelected=!0);return}$!==null||_e[nt].disabled||($=_e[nt])}$!==null&&($.selected=!0)}}function gb(_e,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$5(91));return A$2({},$,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,$){var et=$.value;if(et==null){if(et=$.children,$=$.defaultValue,et!=null){if($!=null)throw Error(p$5(92));if(eb(et)){if(1<et.length)throw Error(p$5(93));et=et[0]}$=et}$==null&&($=""),et=$}_e._wrapperState={initialValue:Sa(et)}}function ib(_e,$){var et=Sa($.value),tt=Sa($.defaultValue);et!=null&&(et=""+et,et!==_e.value&&(_e.value=et),$.defaultValue==null&&_e.defaultValue!==et&&(_e.defaultValue=et)),tt!=null&&(_e.defaultValue=""+tt)}function jb(_e){var $=_e.textContent;$===_e._wrapperState.initialValue&&$!==""&&$!==null&&(_e.value=$)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,$){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb($):_e==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,et,tt,nt){MSApp.execUnsafeLocalFunction(function(){return _e($,et,tt,nt)})}:_e}(function(_e,$){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;$.firstChild;)_e.appendChild($.firstChild)}});function ob(_e,$){if($){var et=_e.firstChild;if(et&&et===_e.lastChild&&et.nodeType===3){et.nodeValue=$;return}}_e.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function($){$=$+_e.charAt(0).toUpperCase()+_e.substring(1),pb[$]=pb[_e]})});function rb(_e,$,et){return $==null||typeof $=="boolean"||$===""?"":et||typeof $!="number"||$===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+$).trim():$+"px"}function sb(_e,$){_e=_e.style;for(var et in $)if($.hasOwnProperty(et)){var tt=et.indexOf("--")===0,nt=rb(et,$[et],tt);et==="float"&&(et="cssFloat"),tt?_e.setProperty(et,nt):_e[et]=nt}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,$){if($){if(tb[_e]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$5(137,_e));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$5(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$5(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$5(62))}}function vb(_e,$){if(_e.indexOf("-")===-1)return typeof $.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$5(280));var $=_e.stateNode;$&&($=Db($),yb(_e.stateNode,_e.type,$))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,$=Ab;if(Ab=zb=null,Bb(_e),$)for(_e=0;_e<$.length;_e++)Bb($[_e])}}function Gb(_e,$){return _e($)}function Hb(){}var Ib=!1;function Jb(_e,$,et){if(Ib)return _e($,et);Ib=!0;try{return Gb(_e,$,et)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,$){var et=_e.stateNode;if(et===null)return null;var tt=Db(et);if(tt===null)return null;et=tt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(tt=!tt.disabled)||(_e=_e.type,tt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!tt;break e;default:_e=!1}if(_e)return null;if(et&&typeof et!="function")throw Error(p$5(231,$,typeof et));return et}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,$,et,tt,nt,rt,it,ot,lt){var ut=Array.prototype.slice.call(arguments,3);try{$.apply(et,ut)}catch(ct){this.onError(ct)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,$,et,tt,nt,rt,it,ot,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,$,et,tt,nt,rt,it,ot,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ut=Pb;Ob=!1,Pb=null}else throw Error(p$5(198));Qb||(Qb=!0,Rb=ut)}}function Vb(_e){var $=_e,et=_e;if(_e.alternate)for(;$.return;)$=$.return;else{_e=$;do $=_e,$.flags&4098&&(et=$.return),_e=$.return;while(_e)}return $.tag===3?et:null}function Wb(_e){if(_e.tag===13){var $=_e.memoizedState;if($===null&&(_e=_e.alternate,_e!==null&&($=_e.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$5(188))}function Yb(_e){var $=_e.alternate;if(!$){if($=Vb(_e),$===null)throw Error(p$5(188));return $!==_e?null:_e}for(var et=_e,tt=$;;){var nt=et.return;if(nt===null)break;var rt=nt.alternate;if(rt===null){if(tt=nt.return,tt!==null){et=tt;continue}break}if(nt.child===rt.child){for(rt=nt.child;rt;){if(rt===et)return Xb(nt),_e;if(rt===tt)return Xb(nt),$;rt=rt.sibling}throw Error(p$5(188))}if(et.return!==tt.return)et=nt,tt=rt;else{for(var it=!1,ot=nt.child;ot;){if(ot===et){it=!0,et=nt,tt=rt;break}if(ot===tt){it=!0,tt=nt,et=rt;break}ot=ot.sibling}if(!it){for(ot=rt.child;ot;){if(ot===et){it=!0,et=rt,tt=nt;break}if(ot===tt){it=!0,tt=rt,et=nt;break}ot=ot.sibling}if(!it)throw Error(p$5(189))}}if(et.alternate!==tt)throw Error(p$5(190))}if(et.tag!==3)throw Error(p$5(188));return et.stateNode.current===et?_e:$}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var $=$b(_e);if($!==null)return $;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,$){var et=_e.pendingLanes;if(et===0)return 0;var tt=0,nt=_e.suspendedLanes,rt=_e.pingedLanes,it=et&268435455;if(it!==0){var ot=it&~nt;ot!==0?tt=tc(ot):(rt&=it,rt!==0&&(tt=tc(rt)))}else it=et&~nt,it!==0?tt=tc(it):rt!==0&&(tt=tc(rt));if(tt===0)return 0;if($!==0&&$!==tt&&!($&nt)&&(nt=tt&-tt,rt=$&-$,nt>=rt||nt===16&&(rt&4194240)!==0))return $;if(tt&4&&(tt|=et&16),$=_e.entangledLanes,$!==0)for(_e=_e.entanglements,$&=tt;0<$;)et=31-oc($),nt=1<<et,tt|=_e[et],$&=~nt;return tt}function vc(_e,$){switch(_e){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,$){for(var et=_e.suspendedLanes,tt=_e.pingedLanes,nt=_e.expirationTimes,rt=_e.pendingLanes;0<rt;){var it=31-oc(rt),ot=1<<it,lt=nt[it];lt===-1?(!(ot&et)||ot&tt)&&(nt[it]=vc(ot,$)):lt<=$&&(_e.expiredLanes|=ot),rt&=~ot}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var $=[],et=0;31>et;et++)$.push(_e);return $}function Ac(_e,$,et){_e.pendingLanes|=$,$!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,$=31-oc($),_e[$]=et}function Bc(_e,$){var et=_e.pendingLanes&~$;_e.pendingLanes=$,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=$,_e.mutableReadLanes&=$,_e.entangledLanes&=$,$=_e.entanglements;var tt=_e.eventTimes;for(_e=_e.expirationTimes;0<et;){var nt=31-oc(et),rt=1<<nt;$[nt]=0,tt[nt]=-1,_e[nt]=-1,et&=~rt}}function Cc(_e,$){var et=_e.entangledLanes|=$;for(_e=_e.entanglements;et;){var tt=31-oc(et),nt=1<<tt;nt&$|_e[tt]&$&&(_e[tt]|=$),et&=~nt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,$){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(_e,$,et,tt,nt,rt){return _e===null||_e.nativeEvent!==rt?(_e={blockedOn:$,domEventName:et,eventSystemFlags:tt,nativeEvent:rt,targetContainers:[nt]},$!==null&&($=Cb($),$!==null&&Fc($)),_e):(_e.eventSystemFlags|=tt,$=_e.targetContainers,nt!==null&&$.indexOf(nt)===-1&&$.push(nt),_e)}function Uc(_e,$,et,tt,nt){switch($){case"focusin":return Lc=Tc(Lc,_e,$,et,tt,nt),!0;case"dragenter":return Mc=Tc(Mc,_e,$,et,tt,nt),!0;case"mouseover":return Nc=Tc(Nc,_e,$,et,tt,nt),!0;case"pointerover":var rt=nt.pointerId;return Oc.set(rt,Tc(Oc.get(rt)||null,_e,$,et,tt,nt)),!0;case"gotpointercapture":return rt=nt.pointerId,Pc.set(rt,Tc(Pc.get(rt)||null,_e,$,et,tt,nt)),!0}return!1}function Vc(_e){var $=Wc(_e.target);if($!==null){var et=Vb($);if(et!==null){if($=et.tag,$===13){if($=Wb(et),$!==null){_e.blockedOn=$,Ic(_e.priority,function(){Gc(et)});return}}else if($===3&&et.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=et.tag===3?et.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var $=_e.targetContainers;0<$.length;){var et=Yc(_e.domEventName,_e.eventSystemFlags,$[0],_e.nativeEvent);if(et===null){et=_e.nativeEvent;var tt=new et.constructor(et.type,et);wb=tt,et.target.dispatchEvent(tt),wb=null}else return $=Cb(et),$!==null&&Fc($),_e.blockedOn=et,!1;$.shift()}return!0}function Zc(_e,$,et){Xc(_e)&&et.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,$){_e.blockedOn===$&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function $(nt){return ad(nt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var et=1;et<Kc.length;et++){var tt=Kc[et];tt.blockedOn===_e&&(tt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach($),Pc.forEach($),et=0;et<Qc.length;et++)tt=Qc[et],tt.blockedOn===_e&&(tt.blockedOn=null);for(;0<Qc.length&&(et=Qc[0],et.blockedOn===null);)Vc(et),et.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,$,et,tt){var nt=C$1,rt=cd.transition;cd.transition=null;try{C$1=1,fd(_e,$,et,tt)}finally{C$1=nt,cd.transition=rt}}function gd(_e,$,et,tt){var nt=C$1,rt=cd.transition;cd.transition=null;try{C$1=4,fd(_e,$,et,tt)}finally{C$1=nt,cd.transition=rt}}function fd(_e,$,et,tt){if(dd){var nt=Yc(_e,$,et,tt);if(nt===null)hd(_e,$,tt,id$1,et),Sc(_e,tt);else if(Uc(nt,_e,$,et,tt))tt.stopPropagation();else if(Sc(_e,tt),$&4&&-1<Rc.indexOf(_e)){for(;nt!==null;){var rt=Cb(nt);if(rt!==null&&Ec(rt),rt=Yc(_e,$,et,tt),rt===null&&hd(_e,$,tt,id$1,et),rt===nt)break;nt=rt}nt!==null&&tt.stopPropagation()}else hd(_e,$,tt,null,et)}}var id$1=null;function Yc(_e,$,et,tt){if(id$1=null,_e=xb(tt),_e=Wc(_e),_e!==null)if($=Vb(_e),$===null)_e=null;else if(et=$.tag,et===13){if(_e=Wb($),_e!==null)return _e;_e=null}else if(et===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;_e=null}else $!==_e&&(_e=null);return id$1=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,$=ld,et=$.length,tt,nt="value"in kd?kd.value:kd.textContent,rt=nt.length;for(_e=0;_e<et&&$[_e]===nt[_e];_e++);var it=et-_e;for(tt=1;tt<=it&&$[et-tt]===nt[rt-tt];tt++);return md=nt.slice(_e,1<tt?1-tt:void 0)}function od(_e){var $=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&$===13&&(_e=13)):_e=$,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function $(et,tt,nt,rt,it){this._reactName=et,this._targetInst=nt,this.type=tt,this.nativeEvent=rt,this.target=it,this.currentTarget=null;for(var ot in _e)_e.hasOwnProperty(ot)&&(et=_e[ot],this[ot]=et?et(rt):rt[ot]);return this.isDefaultPrevented=(rt.defaultPrevented!=null?rt.defaultPrevented:rt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var et=this.nativeEvent;et&&(et.preventDefault?et.preventDefault():typeof et.returnValue!="unknown"&&(et.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var et=this.nativeEvent;et&&(et.stopPropagation?et.stopPropagation():typeof et.cancelBubble!="unknown"&&(et.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(_e):(_e=Od[_e])?!!$[_e]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(_e){if(_e.key){var $=Md[_e.key]||_e.key;if($!=="Unidentified")return $}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(_e,$){switch(_e){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie$2=!1;function je(_e,$){switch(_e){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return _e=$.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,$){if(ie$2)return _e==="compositionend"||!ae&&ge(_e,$)?(_e=nd(),md=ld=kd=null,ie$2=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $==="input"?!!le[_e.type]:$==="textarea"}function ne(_e,$,et,tt){Eb(tt),$=oe($,"onChange"),0<$.length&&(et=new td("onChange","change",null,et,tt),_e.push({event:et,listeners:$}))}var pe=null,qe=null;function re(_e){se(_e,0)}function te(_e){var $=ue(_e);if(Wa($))return _e}function ve(_e,$){if(_e==="change")return $}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(_e){if(_e.propertyName==="value"&&te(qe)){var $=[];ne($,qe,_e,xb(_e)),Jb(re,$)}}function Ce(_e,$,et){_e==="focusin"?(Ae(),pe=$,qe=et,pe.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te(qe)}function Ee(_e,$){if(_e==="click")return te($)}function Fe(_e,$){if(_e==="input"||_e==="change")return te($)}function Ge(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,$){if(He(_e,$))return!0;if(typeof _e!="object"||_e===null||typeof $!="object"||$===null)return!1;var et=Object.keys(_e),tt=Object.keys($);if(et.length!==tt.length)return!1;for(tt=0;tt<et.length;tt++){var nt=et[tt];if(!ja.call($,nt)||!He(_e[nt],$[nt]))return!1}return!0}function Je(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,$){var et=Je(_e);_e=0;for(var tt;et;){if(et.nodeType===3){if(tt=_e+et.textContent.length,_e<=$&&tt>=$)return{node:et,offset:$-_e};_e=tt}e:{for(;et;){if(et.nextSibling){et=et.nextSibling;break e}et=et.parentNode}et=void 0}et=Je(et)}}function Le(_e,$){return _e&&$?_e===$?!0:_e&&_e.nodeType===3?!1:$&&$.nodeType===3?Le(_e,$.parentNode):"contains"in _e?_e.contains($):_e.compareDocumentPosition?!!(_e.compareDocumentPosition($)&16):!1:!1}function Me(){for(var _e=window,$=Xa();$ instanceof _e.HTMLIFrameElement;){try{var et=typeof $.contentWindow.location.href=="string"}catch{et=!1}if(et)_e=$.contentWindow;else break;$=Xa(_e.document)}return $}function Ne(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $&&($==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||$==="textarea"||_e.contentEditable==="true")}function Oe(_e){var $=Me(),et=_e.focusedElem,tt=_e.selectionRange;if($!==et&&et&&et.ownerDocument&&Le(et.ownerDocument.documentElement,et)){if(tt!==null&&Ne(et)){if($=tt.start,_e=tt.end,_e===void 0&&(_e=$),"selectionStart"in et)et.selectionStart=$,et.selectionEnd=Math.min(_e,et.value.length);else if(_e=($=et.ownerDocument||document)&&$.defaultView||window,_e.getSelection){_e=_e.getSelection();var nt=et.textContent.length,rt=Math.min(tt.start,nt);tt=tt.end===void 0?rt:Math.min(tt.end,nt),!_e.extend&&rt>tt&&(nt=tt,tt=rt,rt=nt),nt=Ke(et,rt);var it=Ke(et,tt);nt&&it&&(_e.rangeCount!==1||_e.anchorNode!==nt.node||_e.anchorOffset!==nt.offset||_e.focusNode!==it.node||_e.focusOffset!==it.offset)&&($=$.createRange(),$.setStart(nt.node,nt.offset),_e.removeAllRanges(),rt>tt?(_e.addRange($),_e.extend(it.node,it.offset)):($.setEnd(it.node,it.offset),_e.addRange($)))}}for($=[],_e=et;_e=_e.parentNode;)_e.nodeType===1&&$.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<$.length;et++)_e=$[et],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(_e,$,et){var tt=et.window===et?et.document:et.nodeType===9?et:et.ownerDocument;Te||Qe==null||Qe!==Xa(tt)||(tt=Qe,"selectionStart"in tt&&Ne(tt)?tt={start:tt.selectionStart,end:tt.selectionEnd}:(tt=(tt.ownerDocument&&tt.ownerDocument.defaultView||window).getSelection(),tt={anchorNode:tt.anchorNode,anchorOffset:tt.anchorOffset,focusNode:tt.focusNode,focusOffset:tt.focusOffset}),Se&&Ie(Se,tt)||(Se=tt,tt=oe(Re,"onSelect"),0<tt.length&&($=new td("onSelect","select",null,$,et),_e.push({event:$,listeners:tt}),$.target=Qe)))}function Ve(_e,$){var et={};return et[_e.toLowerCase()]=$.toLowerCase(),et["Webkit"+_e]="webkit"+$,et["Moz"+_e]="moz"+$,et}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(_e){if(Xe[_e])return Xe[_e];if(!We[_e])return _e;var $=We[_e],et;for(et in $)if($.hasOwnProperty(et)&&et in Ye)return Xe[_e]=$[et];return _e}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,$){df.set(_e,$),fa($,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,$,et){var tt=_e.type||"unknown-event";_e.currentTarget=et,Ub(tt,$,void 0,_e),_e.currentTarget=null}function se(_e,$){$=($&4)!==0;for(var et=0;et<_e.length;et++){var tt=_e[et],nt=tt.event;tt=tt.listeners;e:{var rt=void 0;if($)for(var it=tt.length-1;0<=it;it--){var ot=tt[it],lt=ot.instance,ut=ot.currentTarget;if(ot=ot.listener,lt!==rt&&nt.isPropagationStopped())break e;nf(nt,ot,ut),rt=lt}else for(it=0;it<tt.length;it++){if(ot=tt[it],lt=ot.instance,ut=ot.currentTarget,ot=ot.listener,lt!==rt&&nt.isPropagationStopped())break e;nf(nt,ot,ut),rt=lt}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$1(_e,$){var et=$[of];et===void 0&&(et=$[of]=new Set);var tt=_e+"__bubble";et.has(tt)||(pf($,_e,2,!1),et.add(tt))}function qf(_e,$,et){var tt=0;$&&(tt|=4),pf(et,_e,tt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(et){et!=="selectionchange"&&(mf.has(et)||qf(et,!1,_e),qf(et,!0,_e))});var $=_e.nodeType===9?_e:_e.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(_e,$,et,tt){switch(jd($)){case 1:var nt=ed;break;case 4:nt=gd;break;default:nt=fd}et=nt.bind(null,$,et,_e),nt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(nt=!0),tt?nt!==void 0?_e.addEventListener($,et,{capture:!0,passive:nt}):_e.addEventListener($,et,!0):nt!==void 0?_e.addEventListener($,et,{passive:nt}):_e.addEventListener($,et,!1)}function hd(_e,$,et,tt,nt){var rt=tt;if(!($&1)&&!($&2)&&tt!==null)e:for(;;){if(tt===null)return;var it=tt.tag;if(it===3||it===4){var ot=tt.stateNode.containerInfo;if(ot===nt||ot.nodeType===8&&ot.parentNode===nt)break;if(it===4)for(it=tt.return;it!==null;){var lt=it.tag;if((lt===3||lt===4)&&(lt=it.stateNode.containerInfo,lt===nt||lt.nodeType===8&&lt.parentNode===nt))return;it=it.return}for(;ot!==null;){if(it=Wc(ot),it===null)return;if(lt=it.tag,lt===5||lt===6){tt=rt=it;continue e}ot=ot.parentNode}}tt=tt.return}Jb(function(){var ut=rt,ct=xb(et),ht=[];e:{var dt=df.get(_e);if(dt!==void 0){var mt=td,gt=_e;switch(_e){case"keypress":if(od(et)===0)break e;case"keydown":case"keyup":mt=Rd;break;case"focusin":gt="focus",mt=Fd;break;case"focusout":gt="blur",mt=Fd;break;case"beforeblur":case"afterblur":mt=Fd;break;case"click":if(et.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Vd;break;case $e:case af:case bf:mt=Hd;break;case cf:mt=Xd;break;case"scroll":mt=vd;break;case"wheel":mt=Zd;break;case"copy":case"cut":case"paste":mt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=Td}var Ot=($&4)!==0,wt=!Ot&&_e==="scroll",St=Ot?dt!==null?dt+"Capture":null:dt;Ot=[];for(var vt=ut,Tt;vt!==null;){Tt=vt;var Et=Tt.stateNode;if(Tt.tag===5&&Et!==null&&(Tt=Et,St!==null&&(Et=Kb(vt,St),Et!=null&&Ot.push(tf(vt,Et,Tt)))),wt)break;vt=vt.return}0<Ot.length&&(dt=new mt(dt,gt,null,et,ct),ht.push({event:dt,listeners:Ot}))}}if(!($&7)){e:{if(dt=_e==="mouseover"||_e==="pointerover",mt=_e==="mouseout"||_e==="pointerout",dt&&et!==wb&&(gt=et.relatedTarget||et.fromElement)&&(Wc(gt)||gt[uf]))break e;if((mt||dt)&&(dt=ct.window===ct?ct:(dt=ct.ownerDocument)?dt.defaultView||dt.parentWindow:window,mt?(gt=et.relatedTarget||et.toElement,mt=ut,gt=gt?Wc(gt):null,gt!==null&&(wt=Vb(gt),gt!==wt||gt.tag!==5&&gt.tag!==6)&&(gt=null)):(mt=null,gt=ut),mt!==gt)){if(Ot=Bd,Et="onMouseLeave",St="onMouseEnter",vt="mouse",(_e==="pointerout"||_e==="pointerover")&&(Ot=Td,Et="onPointerLeave",St="onPointerEnter",vt="pointer"),wt=mt==null?dt:ue(mt),Tt=gt==null?dt:ue(gt),dt=new Ot(Et,vt+"leave",mt,et,ct),dt.target=wt,dt.relatedTarget=Tt,Et=null,Wc(ct)===ut&&(Ot=new Ot(St,vt+"enter",gt,et,ct),Ot.target=Tt,Ot.relatedTarget=wt,Et=Ot),wt=Et,mt&&gt)t:{for(Ot=mt,St=gt,vt=0,Tt=Ot;Tt;Tt=vf(Tt))vt++;for(Tt=0,Et=St;Et;Et=vf(Et))Tt++;for(;0<vt-Tt;)Ot=vf(Ot),vt--;for(;0<Tt-vt;)St=vf(St),Tt--;for(;vt--;){if(Ot===St||St!==null&&Ot===St.alternate)break t;Ot=vf(Ot),St=vf(St)}Ot=null}else Ot=null;mt!==null&&wf(ht,dt,mt,Ot,!1),gt!==null&&wt!==null&&wf(ht,wt,gt,Ot,!0)}}e:{if(dt=ut?ue(ut):window,mt=dt.nodeName&&dt.nodeName.toLowerCase(),mt==="select"||mt==="input"&&dt.type==="file")var Pt=ve;else if(me(dt))if(we)Pt=Fe;else{Pt=De;var Mt=Ce}else(mt=dt.nodeName)&&mt.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(Pt=Ee);if(Pt&&(Pt=Pt(_e,ut))){ne(ht,Pt,et,ct);break e}Mt&&Mt(_e,dt,ut),_e==="focusout"&&(Mt=dt._wrapperState)&&Mt.controlled&&dt.type==="number"&&cb(dt,"number",dt.value)}switch(Mt=ut?ue(ut):window,_e){case"focusin":(me(Mt)||Mt.contentEditable==="true")&&(Qe=Mt,Re=ut,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ht,et,ct);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ht,et,ct)}var Rt;if(ae)e:{switch(_e){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else ie$2?ge(_e,et)&&(Lt="onCompositionEnd"):_e==="keydown"&&et.keyCode===229&&(Lt="onCompositionStart");Lt&&(de&&et.locale!=="ko"&&(ie$2||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&ie$2&&(Rt=nd()):(kd=ct,ld="value"in kd?kd.value:kd.textContent,ie$2=!0)),Mt=oe(ut,Lt),0<Mt.length&&(Lt=new Ld(Lt,_e,null,et,ct),ht.push({event:Lt,listeners:Mt}),Rt?Lt.data=Rt:(Rt=he(et),Rt!==null&&(Lt.data=Rt)))),(Rt=ce?je(_e,et):ke(_e,et))&&(ut=oe(ut,"onBeforeInput"),0<ut.length&&(ct=new Ld("onBeforeInput","beforeinput",null,et,ct),ht.push({event:ct,listeners:ut}),ct.data=Rt))}se(ht,$)})}function tf(_e,$,et){return{instance:_e,listener:$,currentTarget:et}}function oe(_e,$){for(var et=$+"Capture",tt=[];_e!==null;){var nt=_e,rt=nt.stateNode;nt.tag===5&&rt!==null&&(nt=rt,rt=Kb(_e,et),rt!=null&&tt.unshift(tf(_e,rt,nt)),rt=Kb(_e,$),rt!=null&&tt.push(tf(_e,rt,nt))),_e=_e.return}return tt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,$,et,tt,nt){for(var rt=$._reactName,it=[];et!==null&&et!==tt;){var ot=et,lt=ot.alternate,ut=ot.stateNode;if(lt!==null&&lt===tt)break;ot.tag===5&&ut!==null&&(ot=ut,nt?(lt=Kb(et,rt),lt!=null&&it.unshift(tf(et,lt,ot))):nt||(lt=Kb(et,rt),lt!=null&&it.push(tf(et,lt,ot)))),et=et.return}it.length!==0&&_e.push({event:$,listeners:it})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,$,et){if($=zf($),zf(_e)!==$&&et)throw Error(p$5(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,$){return _e==="textarea"||_e==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,$){var et=$,tt=0;do{var nt=et.nextSibling;if(_e.removeChild(et),nt&&nt.nodeType===8)if(et=nt.data,et==="/$"){if(tt===0){_e.removeChild(nt),bd($);return}tt--}else et!=="$"&&et!=="$?"&&et!=="$!"||tt++;et=nt}while(et);bd($)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var $=_e.nodeType;if($===1||$===3)break;if($===8){if($=_e.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var $=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="$"||et==="$!"||et==="$?"){if($===0)return _e;$--}else et==="/$"&&$++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var $=_e[Of];if($)return $;for(var et=_e.parentNode;et;){if($=et[uf]||et[Of]){if(et=$.alternate,$.child!==null||et!==null&&et.child!==null)for(_e=Mf(_e);_e!==null;){if(et=_e[Of])return et;_e=Mf(_e)}return $}_e=et,et=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$5(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(_e,$){Tf++,Sf[Tf]=_e.current,_e.current=$}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,$){var et=_e.type.contextTypes;if(!et)return Vf;var tt=_e.stateNode;if(tt&&tt.__reactInternalMemoizedUnmaskedChildContext===$)return tt.__reactInternalMemoizedMaskedChildContext;var nt={},rt;for(rt in et)nt[rt]=$[rt];return tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=$,_e.__reactInternalMemoizedMaskedChildContext=nt),nt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(_e,$,et){if(H$1.current!==Vf)throw Error(p$5(168));G$1(H$1,$),G$1(Wf,et)}function bg(_e,$,et){var tt=_e.stateNode;if($=$.childContextTypes,typeof tt.getChildContext!="function")return et;tt=tt.getChildContext();for(var nt in tt)if(!(nt in $))throw Error(p$5(108,Ra(_e)||"Unknown",nt));return A$2({},et,tt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,_e),G$1(Wf,Wf.current),!0}function dg(_e,$,et){var tt=_e.stateNode;if(!tt)throw Error(p$5(169));et?(_e=bg(_e,$,Xf),tt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$1),G$1(H$1,_e)):E$1(Wf),G$1(Wf,et)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,$=C$1;try{var et=eg;for(C$1=1;_e<et.length;_e++){var tt=et[_e];do tt=tt(!0);while(tt!==null)}eg=null,fg=!1}catch(nt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),nt}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,$){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=$}function ug(_e,$,et){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var tt=rg;_e=sg;var nt=32-oc(tt)-1;tt&=~(1<<nt),et+=1;var rt=32-oc($)+nt;if(30<rt){var it=nt-nt%5;rt=(tt&(1<<it)-1).toString(32),tt>>=it,nt-=it,rg=1<<32-oc($)+nt|et<<nt|tt,sg=rt+_e}else rg=1<<rt|et<<nt|tt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(_e,$){var et=Bg(5,null,null,0);et.elementType="DELETED",et.stateNode=$,et.return=_e,$=_e.deletions,$===null?(_e.deletions=[et],_e.flags|=16):$.push(et)}function Cg(_e,$){switch(_e.tag){case 5:var et=_e.type;return $=$.nodeType!==1||et.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=Lf($.firstChild),!0):!1;case 6:return $=_e.pendingProps===""||$.nodeType!==3?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(et=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:$,treeContext:et,retryLane:1073741824},et=Bg(18,null,null,0),et.stateNode=$,et.return=_e,_e.child=et,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$1){var $=yg;if($){var et=$;if(!Cg(_e,$)){if(Dg(_e))throw Error(p$5(418));$=Lf(et.nextSibling);var tt=xg;$&&Cg(_e,$)?Ag(tt,et):(_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$5(418));_e.flags=_e.flags&-4097|2,I$1=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$1)return Fg(_e),I$1=!0,!1;var $;if(($=_e.tag!==3)&&!($=_e.tag!==5)&&($=_e.type,$=$!=="head"&&$!=="body"&&!Ef(_e.type,_e.memoizedProps)),$&&($=yg)){if(Dg(_e))throw Hg(),Error(p$5(418));for(;$;)Ag(_e,$),$=Lf($.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$5(317));e:{for(_e=_e.nextSibling,$=0;_e;){if(_e.nodeType===8){var et=_e.data;if(et==="/$"){if($===0){yg=Lf(_e.nextSibling);break e}$--}else et!=="$"&&et!=="$!"&&et!=="$?"||$++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,$){if(_e&&_e.defaultProps){$=A$2({},$),_e=_e.defaultProps;for(var et in _e)$[et]===void 0&&($[et]=_e[et]);return $}return $}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_e){var $=Mg.current;E$1(Mg),_e._currentValue=$}function Sg(_e,$,et){for(;_e!==null;){var tt=_e.alternate;if((_e.childLanes&$)!==$?(_e.childLanes|=$,tt!==null&&(tt.childLanes|=$)):tt!==null&&(tt.childLanes&$)!==$&&(tt.childLanes|=$),_e===et)break;_e=_e.return}}function Tg(_e,$){Ng=_e,Pg=Og=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&$&&(Ug=!0),_e.firstContext=null)}function Vg(_e){var $=_e._currentValue;if(Pg!==_e)if(_e={context:_e,memoizedValue:$,next:null},Og===null){if(Ng===null)throw Error(p$5(308));Og=_e,Ng.dependencies={lanes:0,firstContext:_e}}else Og=Og.next=_e;return $}var Wg=null;function Xg(_e){Wg===null?Wg=[_e]:Wg.push(_e)}function Yg(_e,$,et,tt){var nt=$.interleaved;return nt===null?(et.next=et,Xg($)):(et.next=nt.next,nt.next=et),$.interleaved=et,Zg(_e,tt)}function Zg(_e,$){_e.lanes|=$;var et=_e.alternate;for(et!==null&&(et.lanes|=$),et=_e,_e=_e.return;_e!==null;)_e.childLanes|=$,et=_e.alternate,et!==null&&(et.childLanes|=$),et=_e,_e=_e.return;return et.tag===3?et.stateNode:null}var $g=!1;function ah(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(_e,$){_e=_e.updateQueue,$.updateQueue===_e&&($.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function ch(_e,$){return{eventTime:_e,lane:$,tag:0,payload:null,callback:null,next:null}}function dh(_e,$,et){var tt=_e.updateQueue;if(tt===null)return null;if(tt=tt.shared,K&2){var nt=tt.pending;return nt===null?$.next=$:($.next=nt.next,nt.next=$),tt.pending=$,Zg(_e,et)}return nt=tt.interleaved,nt===null?($.next=$,Xg(tt)):($.next=nt.next,nt.next=$),tt.interleaved=$,Zg(_e,et)}function eh(_e,$,et){if($=$.updateQueue,$!==null&&($=$.shared,(et&4194240)!==0)){var tt=$.lanes;tt&=_e.pendingLanes,et|=tt,$.lanes=et,Cc(_e,et)}}function fh(_e,$){var et=_e.updateQueue,tt=_e.alternate;if(tt!==null&&(tt=tt.updateQueue,et===tt)){var nt=null,rt=null;if(et=et.firstBaseUpdate,et!==null){do{var it={eventTime:et.eventTime,lane:et.lane,tag:et.tag,payload:et.payload,callback:et.callback,next:null};rt===null?nt=rt=it:rt=rt.next=it,et=et.next}while(et!==null);rt===null?nt=rt=$:rt=rt.next=$}else nt=rt=$;et={baseState:tt.baseState,firstBaseUpdate:nt,lastBaseUpdate:rt,shared:tt.shared,effects:tt.effects},_e.updateQueue=et;return}_e=et.lastBaseUpdate,_e===null?et.firstBaseUpdate=$:_e.next=$,et.lastBaseUpdate=$}function gh(_e,$,et,tt){var nt=_e.updateQueue;$g=!1;var rt=nt.firstBaseUpdate,it=nt.lastBaseUpdate,ot=nt.shared.pending;if(ot!==null){nt.shared.pending=null;var lt=ot,ut=lt.next;lt.next=null,it===null?rt=ut:it.next=ut,it=lt;var ct=_e.alternate;ct!==null&&(ct=ct.updateQueue,ot=ct.lastBaseUpdate,ot!==it&&(ot===null?ct.firstBaseUpdate=ut:ot.next=ut,ct.lastBaseUpdate=lt))}if(rt!==null){var ht=nt.baseState;it=0,ct=ut=lt=null,ot=rt;do{var dt=ot.lane,mt=ot.eventTime;if((tt&dt)===dt){ct!==null&&(ct=ct.next={eventTime:mt,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var gt=_e,Ot=ot;switch(dt=$,mt=et,Ot.tag){case 1:if(gt=Ot.payload,typeof gt=="function"){ht=gt.call(mt,ht,dt);break e}ht=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Ot.payload,dt=typeof gt=="function"?gt.call(mt,ht,dt):gt,dt==null)break e;ht=A$2({},ht,dt);break e;case 2:$g=!0}}ot.callback!==null&&ot.lane!==0&&(_e.flags|=64,dt=nt.effects,dt===null?nt.effects=[ot]:dt.push(ot))}else mt={eventTime:mt,lane:dt,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},ct===null?(ut=ct=mt,lt=ht):ct=ct.next=mt,it|=dt;if(ot=ot.next,ot===null){if(ot=nt.shared.pending,ot===null)break;dt=ot,ot=dt.next,dt.next=null,nt.lastBaseUpdate=dt,nt.shared.pending=null}}while(!0);if(ct===null&&(lt=ht),nt.baseState=lt,nt.firstBaseUpdate=ut,nt.lastBaseUpdate=ct,$=nt.shared.interleaved,$!==null){nt=$;do it|=nt.lane,nt=nt.next;while(nt!==$)}else rt===null&&(nt.shared.lanes=0);hh|=it,_e.lanes=it,_e.memoizedState=ht}}function ih(_e,$,et){if(_e=$.effects,$.effects=null,_e!==null)for($=0;$<_e.length;$++){var tt=_e[$],nt=tt.callback;if(nt!==null){if(tt.callback=null,tt=et,typeof nt!="function")throw Error(p$5(191,nt));nt.call(tt)}}}var jh=new aa.Component().refs;function kh(_e,$,et,tt){$=_e.memoizedState,et=et(tt,$),et=et==null?$:A$2({},$,et),_e.memoizedState=et,_e.lanes===0&&(_e.updateQueue.baseState=et)}var nh={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,$,et){_e=_e._reactInternals;var tt=L$1(),nt=lh(_e),rt=ch(tt,nt);rt.payload=$,et!=null&&(rt.callback=et),$=dh(_e,rt,nt),$!==null&&(mh($,_e,nt,tt),eh($,_e,nt))},enqueueReplaceState:function(_e,$,et){_e=_e._reactInternals;var tt=L$1(),nt=lh(_e),rt=ch(tt,nt);rt.tag=1,rt.payload=$,et!=null&&(rt.callback=et),$=dh(_e,rt,nt),$!==null&&(mh($,_e,nt,tt),eh($,_e,nt))},enqueueForceUpdate:function(_e,$){_e=_e._reactInternals;var et=L$1(),tt=lh(_e),nt=ch(et,tt);nt.tag=2,$!=null&&(nt.callback=$),$=dh(_e,nt,tt),$!==null&&(mh($,_e,tt,et),eh($,_e,tt))}};function oh(_e,$,et,tt,nt,rt,it){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(tt,rt,it):$.prototype&&$.prototype.isPureReactComponent?!Ie(et,tt)||!Ie(nt,rt):!0}function ph(_e,$,et){var tt=!1,nt=Vf,rt=$.contextType;return typeof rt=="object"&&rt!==null?rt=Vg(rt):(nt=Zf($)?Xf:H$1.current,tt=$.contextTypes,rt=(tt=tt!=null)?Yf(_e,nt):Vf),$=new $(et,rt),_e.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=nh,_e.stateNode=$,$._reactInternals=_e,tt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=nt,_e.__reactInternalMemoizedMaskedChildContext=rt),$}function qh(_e,$,et,tt){_e=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(et,tt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(et,tt),$.state!==_e&&nh.enqueueReplaceState($,$.state,null)}function rh(_e,$,et,tt){var nt=_e.stateNode;nt.props=et,nt.state=_e.memoizedState,nt.refs=jh,ah(_e);var rt=$.contextType;typeof rt=="object"&&rt!==null?nt.context=Vg(rt):(rt=Zf($)?Xf:H$1.current,nt.context=Yf(_e,rt)),nt.state=_e.memoizedState,rt=$.getDerivedStateFromProps,typeof rt=="function"&&(kh(_e,$,rt,et),nt.state=_e.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof nt.getSnapshotBeforeUpdate=="function"||typeof nt.UNSAFE_componentWillMount!="function"&&typeof nt.componentWillMount!="function"||($=nt.state,typeof nt.componentWillMount=="function"&&nt.componentWillMount(),typeof nt.UNSAFE_componentWillMount=="function"&&nt.UNSAFE_componentWillMount(),$!==nt.state&&nh.enqueueReplaceState(nt,nt.state,null),gh(_e,et,nt,tt),nt.state=_e.memoizedState),typeof nt.componentDidMount=="function"&&(_e.flags|=4194308)}function sh(_e,$,et){if(_e=et.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(et._owner){if(et=et._owner,et){if(et.tag!==1)throw Error(p$5(309));var tt=et.stateNode}if(!tt)throw Error(p$5(147,_e));var nt=tt,rt=""+_e;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===rt?$.ref:($=function(it){var ot=nt.refs;ot===jh&&(ot=nt.refs={}),it===null?delete ot[rt]:ot[rt]=it},$._stringRef=rt,$)}if(typeof _e!="string")throw Error(p$5(284));if(!et._owner)throw Error(p$5(290,_e))}return _e}function th(_e,$){throw _e=Object.prototype.toString.call($),Error(p$5(31,_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e))}function uh(_e){var $=_e._init;return $(_e._payload)}function vh(_e){function $(St,vt){if(_e){var Tt=St.deletions;Tt===null?(St.deletions=[vt],St.flags|=16):Tt.push(vt)}}function et(St,vt){if(!_e)return null;for(;vt!==null;)$(St,vt),vt=vt.sibling;return null}function tt(St,vt){for(St=new Map;vt!==null;)vt.key!==null?St.set(vt.key,vt):St.set(vt.index,vt),vt=vt.sibling;return St}function nt(St,vt){return St=wh(St,vt),St.index=0,St.sibling=null,St}function rt(St,vt,Tt){return St.index=Tt,_e?(Tt=St.alternate,Tt!==null?(Tt=Tt.index,Tt<vt?(St.flags|=2,vt):Tt):(St.flags|=2,vt)):(St.flags|=1048576,vt)}function it(St){return _e&&St.alternate===null&&(St.flags|=2),St}function ot(St,vt,Tt,Et){return vt===null||vt.tag!==6?(vt=xh(Tt,St.mode,Et),vt.return=St,vt):(vt=nt(vt,Tt),vt.return=St,vt)}function lt(St,vt,Tt,Et){var Pt=Tt.type;return Pt===ya?ct(St,vt,Tt.props.children,Et,Tt.key):vt!==null&&(vt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&uh(Pt)===vt.type)?(Et=nt(vt,Tt.props),Et.ref=sh(St,vt,Tt),Et.return=St,Et):(Et=yh(Tt.type,Tt.key,Tt.props,null,St.mode,Et),Et.ref=sh(St,vt,Tt),Et.return=St,Et)}function ut(St,vt,Tt,Et){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Tt.containerInfo||vt.stateNode.implementation!==Tt.implementation?(vt=zh(Tt,St.mode,Et),vt.return=St,vt):(vt=nt(vt,Tt.children||[]),vt.return=St,vt)}function ct(St,vt,Tt,Et,Pt){return vt===null||vt.tag!==7?(vt=Ah(Tt,St.mode,Et,Pt),vt.return=St,vt):(vt=nt(vt,Tt),vt.return=St,vt)}function ht(St,vt,Tt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=xh(""+vt,St.mode,Tt),vt.return=St,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case va:return Tt=yh(vt.type,vt.key,vt.props,null,St.mode,Tt),Tt.ref=sh(St,null,vt),Tt.return=St,Tt;case wa:return vt=zh(vt,St.mode,Tt),vt.return=St,vt;case Ha:var Et=vt._init;return ht(St,Et(vt._payload),Tt)}if(eb(vt)||Ka(vt))return vt=Ah(vt,St.mode,Tt,null),vt.return=St,vt;th(St,vt)}return null}function dt(St,vt,Tt,Et){var Pt=vt!==null?vt.key:null;if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return Pt!==null?null:ot(St,vt,""+Tt,Et);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case va:return Tt.key===Pt?lt(St,vt,Tt,Et):null;case wa:return Tt.key===Pt?ut(St,vt,Tt,Et):null;case Ha:return Pt=Tt._init,dt(St,vt,Pt(Tt._payload),Et)}if(eb(Tt)||Ka(Tt))return Pt!==null?null:ct(St,vt,Tt,Et,null);th(St,Tt)}return null}function mt(St,vt,Tt,Et,Pt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return St=St.get(Tt)||null,ot(vt,St,""+Et,Pt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return St=St.get(Et.key===null?Tt:Et.key)||null,lt(vt,St,Et,Pt);case wa:return St=St.get(Et.key===null?Tt:Et.key)||null,ut(vt,St,Et,Pt);case Ha:var Mt=Et._init;return mt(St,vt,Tt,Mt(Et._payload),Pt)}if(eb(Et)||Ka(Et))return St=St.get(Tt)||null,ct(vt,St,Et,Pt,null);th(vt,Et)}return null}function gt(St,vt,Tt,Et){for(var Pt=null,Mt=null,Rt=vt,Lt=vt=0,Wt=null;Rt!==null&&Lt<Tt.length;Lt++){Rt.index>Lt?(Wt=Rt,Rt=null):Wt=Rt.sibling;var Ft=dt(St,Rt,Tt[Lt],Et);if(Ft===null){Rt===null&&(Rt=Wt);break}_e&&Rt&&Ft.alternate===null&&$(St,Rt),vt=rt(Ft,vt,Lt),Mt===null?Pt=Ft:Mt.sibling=Ft,Mt=Ft,Rt=Wt}if(Lt===Tt.length)return et(St,Rt),I$1&&tg(St,Lt),Pt;if(Rt===null){for(;Lt<Tt.length;Lt++)Rt=ht(St,Tt[Lt],Et),Rt!==null&&(vt=rt(Rt,vt,Lt),Mt===null?Pt=Rt:Mt.sibling=Rt,Mt=Rt);return I$1&&tg(St,Lt),Pt}for(Rt=tt(St,Rt);Lt<Tt.length;Lt++)Wt=mt(Rt,St,Lt,Tt[Lt],Et),Wt!==null&&(_e&&Wt.alternate!==null&&Rt.delete(Wt.key===null?Lt:Wt.key),vt=rt(Wt,vt,Lt),Mt===null?Pt=Wt:Mt.sibling=Wt,Mt=Wt);return _e&&Rt.forEach(function(Ut){return $(St,Ut)}),I$1&&tg(St,Lt),Pt}function Ot(St,vt,Tt,Et){var Pt=Ka(Tt);if(typeof Pt!="function")throw Error(p$5(150));if(Tt=Pt.call(Tt),Tt==null)throw Error(p$5(151));for(var Mt=Pt=null,Rt=vt,Lt=vt=0,Wt=null,Ft=Tt.next();Rt!==null&&!Ft.done;Lt++,Ft=Tt.next()){Rt.index>Lt?(Wt=Rt,Rt=null):Wt=Rt.sibling;var Ut=dt(St,Rt,Ft.value,Et);if(Ut===null){Rt===null&&(Rt=Wt);break}_e&&Rt&&Ut.alternate===null&&$(St,Rt),vt=rt(Ut,vt,Lt),Mt===null?Pt=Ut:Mt.sibling=Ut,Mt=Ut,Rt=Wt}if(Ft.done)return et(St,Rt),I$1&&tg(St,Lt),Pt;if(Rt===null){for(;!Ft.done;Lt++,Ft=Tt.next())Ft=ht(St,Ft.value,Et),Ft!==null&&(vt=rt(Ft,vt,Lt),Mt===null?Pt=Ft:Mt.sibling=Ft,Mt=Ft);return I$1&&tg(St,Lt),Pt}for(Rt=tt(St,Rt);!Ft.done;Lt++,Ft=Tt.next())Ft=mt(Rt,St,Lt,Ft.value,Et),Ft!==null&&(_e&&Ft.alternate!==null&&Rt.delete(Ft.key===null?Lt:Ft.key),vt=rt(Ft,vt,Lt),Mt===null?Pt=Ft:Mt.sibling=Ft,Mt=Ft);return _e&&Rt.forEach(function(Xt){return $(St,Xt)}),I$1&&tg(St,Lt),Pt}function wt(St,vt,Tt,Et){if(typeof Tt=="object"&&Tt!==null&&Tt.type===ya&&Tt.key===null&&(Tt=Tt.props.children),typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case va:e:{for(var Pt=Tt.key,Mt=vt;Mt!==null;){if(Mt.key===Pt){if(Pt=Tt.type,Pt===ya){if(Mt.tag===7){et(St,Mt.sibling),vt=nt(Mt,Tt.props.children),vt.return=St,St=vt;break e}}else if(Mt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&uh(Pt)===Mt.type){et(St,Mt.sibling),vt=nt(Mt,Tt.props),vt.ref=sh(St,Mt,Tt),vt.return=St,St=vt;break e}et(St,Mt);break}else $(St,Mt);Mt=Mt.sibling}Tt.type===ya?(vt=Ah(Tt.props.children,St.mode,Et,Tt.key),vt.return=St,St=vt):(Et=yh(Tt.type,Tt.key,Tt.props,null,St.mode,Et),Et.ref=sh(St,vt,Tt),Et.return=St,St=Et)}return it(St);case wa:e:{for(Mt=Tt.key;vt!==null;){if(vt.key===Mt)if(vt.tag===4&&vt.stateNode.containerInfo===Tt.containerInfo&&vt.stateNode.implementation===Tt.implementation){et(St,vt.sibling),vt=nt(vt,Tt.children||[]),vt.return=St,St=vt;break e}else{et(St,vt);break}else $(St,vt);vt=vt.sibling}vt=zh(Tt,St.mode,Et),vt.return=St,St=vt}return it(St);case Ha:return Mt=Tt._init,wt(St,vt,Mt(Tt._payload),Et)}if(eb(Tt))return gt(St,vt,Tt,Et);if(Ka(Tt))return Ot(St,vt,Tt,Et);th(St,Tt)}return typeof Tt=="string"&&Tt!==""||typeof Tt=="number"?(Tt=""+Tt,vt!==null&&vt.tag===6?(et(St,vt.sibling),vt=nt(vt,Tt),vt.return=St,St=vt):(et(St,vt),vt=xh(Tt,St.mode,Et),vt.return=St,St=vt),it(St)):et(St,vt)}return wt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(_e){if(_e===Dh)throw Error(p$5(174));return _e}function Ih(_e,$){switch(G$1(Gh,$),G$1(Fh,_e),G$1(Eh,Dh),_e=$.nodeType,_e){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:_e=_e===8?$.parentNode:$,$=_e.namespaceURI||null,_e=_e.tagName,$=lb($,_e)}E$1(Eh),G$1(Eh,$)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(_e){Hh(Gh.current);var $=Hh(Eh.current),et=lb($,_e.type);$!==et&&(G$1(Fh,_e),G$1(Eh,et))}function Lh(_e){Fh.current===_e&&(E$1(Eh),E$1(Fh))}var M$1=Uf(0);function Mh(_e){for(var $=_e;$!==null;){if($.tag===13){var et=$.memoizedState;if(et!==null&&(et=et.dehydrated,et===null||et.data==="$?"||et.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Nh=[];function Oh(){for(var _e=0;_e<Nh.length;_e++)Nh[_e]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$1=null,O$1=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$1(){throw Error(p$5(321))}function Wh(_e,$){if($===null)return!1;for(var et=0;et<$.length&&et<_e.length;et++)if(!He(_e[et],$[et]))return!1;return!0}function Xh(_e,$,et,tt,nt,rt){if(Rh=rt,N$1=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Ph.current=_e===null||_e.memoizedState===null?Yh:Zh,_e=et(tt,nt),Th){rt=0;do{if(Th=!1,Uh=0,25<=rt)throw Error(p$5(301));rt+=1,P$1=O$1=null,$.updateQueue=null,Ph.current=$h,_e=et(tt,nt)}while(Th)}if(Ph.current=ai,$=O$1!==null&&O$1.next!==null,Rh=0,P$1=O$1=N$1=null,Sh=!1,$)throw Error(p$5(300));return _e}function bi(){var _e=Uh!==0;return Uh=0,_e}function ci(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$1.memoizedState=P$1=_e:P$1=P$1.next=_e,P$1}function di(){if(O$1===null){var _e=N$1.alternate;_e=_e!==null?_e.memoizedState:null}else _e=O$1.next;var $=P$1===null?N$1.memoizedState:P$1.next;if($!==null)P$1=$,O$1=_e;else{if(_e===null)throw Error(p$5(310));O$1=_e,_e={memoizedState:O$1.memoizedState,baseState:O$1.baseState,baseQueue:O$1.baseQueue,queue:O$1.queue,next:null},P$1===null?N$1.memoizedState=P$1=_e:P$1=P$1.next=_e}return P$1}function ei(_e,$){return typeof $=="function"?$(_e):$}function fi(_e){var $=di(),et=$.queue;if(et===null)throw Error(p$5(311));et.lastRenderedReducer=_e;var tt=O$1,nt=tt.baseQueue,rt=et.pending;if(rt!==null){if(nt!==null){var it=nt.next;nt.next=rt.next,rt.next=it}tt.baseQueue=nt=rt,et.pending=null}if(nt!==null){rt=nt.next,tt=tt.baseState;var ot=it=null,lt=null,ut=rt;do{var ct=ut.lane;if((Rh&ct)===ct)lt!==null&&(lt=lt.next={lane:0,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null}),tt=ut.hasEagerState?ut.eagerState:_e(tt,ut.action);else{var ht={lane:ct,action:ut.action,hasEagerState:ut.hasEagerState,eagerState:ut.eagerState,next:null};lt===null?(ot=lt=ht,it=tt):lt=lt.next=ht,N$1.lanes|=ct,hh|=ct}ut=ut.next}while(ut!==null&&ut!==rt);lt===null?it=tt:lt.next=ot,He(tt,$.memoizedState)||(Ug=!0),$.memoizedState=tt,$.baseState=it,$.baseQueue=lt,et.lastRenderedState=tt}if(_e=et.interleaved,_e!==null){nt=_e;do rt=nt.lane,N$1.lanes|=rt,hh|=rt,nt=nt.next;while(nt!==_e)}else nt===null&&(et.lanes=0);return[$.memoizedState,et.dispatch]}function gi(_e){var $=di(),et=$.queue;if(et===null)throw Error(p$5(311));et.lastRenderedReducer=_e;var tt=et.dispatch,nt=et.pending,rt=$.memoizedState;if(nt!==null){et.pending=null;var it=nt=nt.next;do rt=_e(rt,it.action),it=it.next;while(it!==nt);He(rt,$.memoizedState)||(Ug=!0),$.memoizedState=rt,$.baseQueue===null&&($.baseState=rt),et.lastRenderedState=rt}return[rt,tt]}function hi(){}function ii(_e,$){var et=N$1,tt=di(),nt=$(),rt=!He(tt.memoizedState,nt);if(rt&&(tt.memoizedState=nt,Ug=!0),tt=tt.queue,ji(ki.bind(null,et,tt,_e),[_e]),tt.getSnapshot!==$||rt||P$1!==null&&P$1.memoizedState.tag&1){if(et.flags|=2048,li(9,mi.bind(null,et,tt,nt,$),void 0,null),R$1===null)throw Error(p$5(349));Rh&30||ni(et,$,nt)}return nt}function ni(_e,$,et){_e.flags|=16384,_e={getSnapshot:$,value:et},$=N$1.updateQueue,$===null?($={lastEffect:null,stores:null},N$1.updateQueue=$,$.stores=[_e]):(et=$.stores,et===null?$.stores=[_e]:et.push(_e))}function mi(_e,$,et,tt){$.value=et,$.getSnapshot=tt,oi($)&&pi(_e)}function ki(_e,$,et){return et(function(){oi($)&&pi(_e)})}function oi(_e){var $=_e.getSnapshot;_e=_e.value;try{var et=$();return!He(_e,et)}catch{return!0}}function pi(_e){var $=Zg(_e,1);$!==null&&mh($,_e,1,-1)}function qi(_e){var $=ci();return typeof _e=="function"&&(_e=_e()),$.memoizedState=$.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_e},$.queue=_e,_e=_e.dispatch=ri.bind(null,N$1,_e),[$.memoizedState,_e]}function li(_e,$,et,tt){return _e={tag:_e,create:$,destroy:et,deps:tt,next:null},$=N$1.updateQueue,$===null?($={lastEffect:null,stores:null},N$1.updateQueue=$,$.lastEffect=_e.next=_e):(et=$.lastEffect,et===null?$.lastEffect=_e.next=_e:(tt=et.next,et.next=_e,_e.next=tt,$.lastEffect=_e)),_e}function si(){return di().memoizedState}function ti(_e,$,et,tt){var nt=ci();N$1.flags|=_e,nt.memoizedState=li(1|$,et,void 0,tt===void 0?null:tt)}function ui(_e,$,et,tt){var nt=di();tt=tt===void 0?null:tt;var rt=void 0;if(O$1!==null){var it=O$1.memoizedState;if(rt=it.destroy,tt!==null&&Wh(tt,it.deps)){nt.memoizedState=li($,et,rt,tt);return}}N$1.flags|=_e,nt.memoizedState=li(1|$,et,rt,tt)}function vi(_e,$){return ti(8390656,8,_e,$)}function ji(_e,$){return ui(2048,8,_e,$)}function wi(_e,$){return ui(4,2,_e,$)}function xi(_e,$){return ui(4,4,_e,$)}function yi(_e,$){if(typeof $=="function")return _e=_e(),$(_e),function(){$(null)};if($!=null)return _e=_e(),$.current=_e,function(){$.current=null}}function zi(_e,$,et){return et=et!=null?et.concat([_e]):null,ui(4,4,yi.bind(null,$,_e),et)}function Ai(){}function Bi(_e,$){var et=di();$=$===void 0?null:$;var tt=et.memoizedState;return tt!==null&&$!==null&&Wh($,tt[1])?tt[0]:(et.memoizedState=[_e,$],_e)}function Ci(_e,$){var et=di();$=$===void 0?null:$;var tt=et.memoizedState;return tt!==null&&$!==null&&Wh($,tt[1])?tt[0]:(_e=_e(),et.memoizedState=[_e,$],_e)}function Di(_e,$,et){return Rh&21?(He(et,$)||(et=yc(),N$1.lanes|=et,hh|=et,_e.baseState=!0),$):(_e.baseState&&(_e.baseState=!1,Ug=!0),_e.memoizedState=et)}function Ei(_e,$){var et=C$1;C$1=et!==0&&4>et?et:4,_e(!0);var tt=Qh.transition;Qh.transition={};try{_e(!1),$()}finally{C$1=et,Qh.transition=tt}}function Fi(){return di().memoizedState}function Gi(_e,$,et){var tt=lh(_e);if(et={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null},Hi(_e))Ii($,et);else if(et=Yg(_e,$,et,tt),et!==null){var nt=L$1();mh(et,_e,tt,nt),Ji(et,$,tt)}}function ri(_e,$,et){var tt=lh(_e),nt={lane:tt,action:et,hasEagerState:!1,eagerState:null,next:null};if(Hi(_e))Ii($,nt);else{var rt=_e.alternate;if(_e.lanes===0&&(rt===null||rt.lanes===0)&&(rt=$.lastRenderedReducer,rt!==null))try{var it=$.lastRenderedState,ot=rt(it,et);if(nt.hasEagerState=!0,nt.eagerState=ot,He(ot,it)){var lt=$.interleaved;lt===null?(nt.next=nt,Xg($)):(nt.next=lt.next,lt.next=nt),$.interleaved=nt;return}}catch{}finally{}et=Yg(_e,$,nt,tt),et!==null&&(nt=L$1(),mh(et,_e,tt,nt),Ji(et,$,tt))}}function Hi(_e){var $=_e.alternate;return _e===N$1||$!==null&&$===N$1}function Ii(_e,$){Th=Sh=!0;var et=_e.pending;et===null?$.next=$:($.next=et.next,et.next=$),_e.pending=$}function Ji(_e,$,et){if(et&4194240){var tt=$.lanes;tt&=_e.pendingLanes,et|=tt,$.lanes=et,Cc(_e,et)}}var ai={readContext:Vg,useCallback:Q$1,useContext:Q$1,useEffect:Q$1,useImperativeHandle:Q$1,useInsertionEffect:Q$1,useLayoutEffect:Q$1,useMemo:Q$1,useReducer:Q$1,useRef:Q$1,useState:Q$1,useDebugValue:Q$1,useDeferredValue:Q$1,useTransition:Q$1,useMutableSource:Q$1,useSyncExternalStore:Q$1,useId:Q$1,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(_e,$){return ci().memoizedState=[_e,$===void 0?null:$],_e},useContext:Vg,useEffect:vi,useImperativeHandle:function(_e,$,et){return et=et!=null?et.concat([_e]):null,ti(4194308,4,yi.bind(null,$,_e),et)},useLayoutEffect:function(_e,$){return ti(4194308,4,_e,$)},useInsertionEffect:function(_e,$){return ti(4,2,_e,$)},useMemo:function(_e,$){var et=ci();return $=$===void 0?null:$,_e=_e(),et.memoizedState=[_e,$],_e},useReducer:function(_e,$,et){var tt=ci();return $=et!==void 0?et($):$,tt.memoizedState=tt.baseState=$,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:$},tt.queue=_e,_e=_e.dispatch=Gi.bind(null,N$1,_e),[tt.memoizedState,_e]},useRef:function(_e){var $=ci();return _e={current:_e},$.memoizedState=_e},useState:qi,useDebugValue:Ai,useDeferredValue:function(_e){return ci().memoizedState=_e},useTransition:function(){var _e=qi(!1),$=_e[0];return _e=Ei.bind(null,_e[1]),ci().memoizedState=_e,[$,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,$,et){var tt=N$1,nt=ci();if(I$1){if(et===void 0)throw Error(p$5(407));et=et()}else{if(et=$(),R$1===null)throw Error(p$5(349));Rh&30||ni(tt,$,et)}nt.memoizedState=et;var rt={value:et,getSnapshot:$};return nt.queue=rt,vi(ki.bind(null,tt,rt,_e),[_e]),tt.flags|=2048,li(9,mi.bind(null,tt,rt,et,$),void 0,null),et},useId:function(){var _e=ci(),$=R$1.identifierPrefix;if(I$1){var et=sg,tt=rg;et=(tt&~(1<<32-oc(tt)-1)).toString(32)+et,$=":"+$+"R"+et,et=Uh++,0<et&&($+="H"+et.toString(32)),$+=":"}else et=Vh++,$=":"+$+"r"+et.toString(32)+":";return _e.memoizedState=$},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var $=di();return Di($,O$1.memoizedState,_e)},useTransition:function(){var _e=fi(ei)[0],$=di().memoizedState;return[_e,$]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_e){var $=di();return O$1===null?$.memoizedState=_e:Di($,O$1.memoizedState,_e)},useTransition:function(){var _e=gi(ei)[0],$=di().memoizedState;return[_e,$]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(_e,$){try{var et="",tt=$;do et+=Pa(tt),tt=tt.return;while(tt);var nt=et}catch(rt){nt=`
Error generating stack: `+rt.message+`
`+rt.stack}return{value:_e,source:$,stack:nt,digest:null}}function Li(_e,$,et){return{value:_e,source:null,stack:et??null,digest:$??null}}function Mi(_e,$){try{console.error($.value)}catch(et){setTimeout(function(){throw et})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_e,$,et){et=ch(-1,et),et.tag=3,et.payload={element:null};var tt=$.value;return et.callback=function(){Pi||(Pi=!0,Qi=tt),Mi(_e,$)},et}function Ri(_e,$,et){et=ch(-1,et),et.tag=3;var tt=_e.type.getDerivedStateFromError;if(typeof tt=="function"){var nt=$.value;et.payload=function(){return tt(nt)},et.callback=function(){Mi(_e,$)}}var rt=_e.stateNode;return rt!==null&&typeof rt.componentDidCatch=="function"&&(et.callback=function(){Mi(_e,$),typeof tt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var it=$.stack;this.componentDidCatch($.value,{componentStack:it!==null?it:""})}),et}function Ti(_e,$,et){var tt=_e.pingCache;if(tt===null){tt=_e.pingCache=new Ni;var nt=new Set;tt.set($,nt)}else nt=tt.get($),nt===void 0&&(nt=new Set,tt.set($,nt));nt.has(et)||(nt.add(et),_e=Ui.bind(null,_e,$,et),$.then(_e,_e))}function Vi(_e){do{var $;if(($=_e.tag===13)&&($=_e.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return _e;_e=_e.return}while(_e!==null);return null}function Wi(_e,$,et,tt,nt){return _e.mode&1?(_e.flags|=65536,_e.lanes=nt,_e):(_e===$?_e.flags|=65536:(_e.flags|=128,et.flags|=131072,et.flags&=-52805,et.tag===1&&(et.alternate===null?et.tag=17:($=ch(-1,1),$.tag=2,dh(et,$,1))),et.lanes|=1),_e)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(_e,$,et,tt){$.child=_e===null?Ch($,null,et,tt):Bh($,_e.child,et,tt)}function Zi(_e,$,et,tt,nt){et=et.render;var rt=$.ref;return Tg($,nt),tt=Xh(_e,$,et,tt,rt,nt),et=bi(),_e!==null&&!Ug?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~nt,$i(_e,$,nt)):(I$1&&et&&vg($),$.flags|=1,Yi(_e,$,tt,nt),$.child)}function aj(_e,$,et,tt,nt){if(_e===null){var rt=et.type;return typeof rt=="function"&&!bj(rt)&&rt.defaultProps===void 0&&et.compare===null&&et.defaultProps===void 0?($.tag=15,$.type=rt,cj(_e,$,rt,tt,nt)):(_e=yh(et.type,null,tt,$,$.mode,nt),_e.ref=$.ref,_e.return=$,$.child=_e)}if(rt=_e.child,!(_e.lanes&nt)){var it=rt.memoizedProps;if(et=et.compare,et=et!==null?et:Ie,et(it,tt)&&_e.ref===$.ref)return $i(_e,$,nt)}return $.flags|=1,_e=wh(rt,tt),_e.ref=$.ref,_e.return=$,$.child=_e}function cj(_e,$,et,tt,nt){if(_e!==null){var rt=_e.memoizedProps;if(Ie(rt,tt)&&_e.ref===$.ref)if(Ug=!1,$.pendingProps=tt=rt,(_e.lanes&nt)!==0)_e.flags&131072&&(Ug=!0);else return $.lanes=_e.lanes,$i(_e,$,nt)}return dj(_e,$,et,tt,nt)}function ej(_e,$,et){var tt=$.pendingProps,nt=tt.children,rt=_e!==null?_e.memoizedState:null;if(tt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(fj,gj),gj|=et;else{if(!(et&1073741824))return _e=rt!==null?rt.baseLanes|et:et,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:_e,cachePool:null,transitions:null},$.updateQueue=null,G$1(fj,gj),gj|=_e,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt=rt!==null?rt.baseLanes:et,G$1(fj,gj),gj|=tt}else rt!==null?(tt=rt.baseLanes|et,$.memoizedState=null):tt=et,G$1(fj,gj),gj|=tt;return Yi(_e,$,nt,et),$.child}function hj(_e,$){var et=$.ref;(_e===null&&et!==null||_e!==null&&_e.ref!==et)&&($.flags|=512,$.flags|=2097152)}function dj(_e,$,et,tt,nt){var rt=Zf(et)?Xf:H$1.current;return rt=Yf($,rt),Tg($,nt),et=Xh(_e,$,et,tt,rt,nt),tt=bi(),_e!==null&&!Ug?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~nt,$i(_e,$,nt)):(I$1&&tt&&vg($),$.flags|=1,Yi(_e,$,et,nt),$.child)}function ij(_e,$,et,tt,nt){if(Zf(et)){var rt=!0;cg($)}else rt=!1;if(Tg($,nt),$.stateNode===null)jj(_e,$),ph($,et,tt),rh($,et,tt,nt),tt=!0;else if(_e===null){var it=$.stateNode,ot=$.memoizedProps;it.props=ot;var lt=it.context,ut=et.contextType;typeof ut=="object"&&ut!==null?ut=Vg(ut):(ut=Zf(et)?Xf:H$1.current,ut=Yf($,ut));var ct=et.getDerivedStateFromProps,ht=typeof ct=="function"||typeof it.getSnapshotBeforeUpdate=="function";ht||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(ot!==tt||lt!==ut)&&qh($,it,tt,ut),$g=!1;var dt=$.memoizedState;it.state=dt,gh($,tt,it,nt),lt=$.memoizedState,ot!==tt||dt!==lt||Wf.current||$g?(typeof ct=="function"&&(kh($,et,ct,tt),lt=$.memoizedState),(ot=$g||oh($,et,ot,tt,dt,lt,ut))?(ht||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount()),typeof it.componentDidMount=="function"&&($.flags|=4194308)):(typeof it.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=tt,$.memoizedState=lt),it.props=tt,it.state=lt,it.context=ut,tt=ot):(typeof it.componentDidMount=="function"&&($.flags|=4194308),tt=!1)}else{it=$.stateNode,bh(_e,$),ot=$.memoizedProps,ut=$.type===$.elementType?ot:Lg($.type,ot),it.props=ut,ht=$.pendingProps,dt=it.context,lt=et.contextType,typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(et)?Xf:H$1.current,lt=Yf($,lt));var mt=et.getDerivedStateFromProps;(ct=typeof mt=="function"||typeof it.getSnapshotBeforeUpdate=="function")||typeof it.UNSAFE_componentWillReceiveProps!="function"&&typeof it.componentWillReceiveProps!="function"||(ot!==ht||dt!==lt)&&qh($,it,tt,lt),$g=!1,dt=$.memoizedState,it.state=dt,gh($,tt,it,nt);var gt=$.memoizedState;ot!==ht||dt!==gt||Wf.current||$g?(typeof mt=="function"&&(kh($,et,mt,tt),gt=$.memoizedState),(ut=$g||oh($,et,ut,tt,dt,gt,lt)||!1)?(ct||typeof it.UNSAFE_componentWillUpdate!="function"&&typeof it.componentWillUpdate!="function"||(typeof it.componentWillUpdate=="function"&&it.componentWillUpdate(tt,gt,lt),typeof it.UNSAFE_componentWillUpdate=="function"&&it.UNSAFE_componentWillUpdate(tt,gt,lt)),typeof it.componentDidUpdate=="function"&&($.flags|=4),typeof it.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof it.componentDidUpdate!="function"||ot===_e.memoizedProps&&dt===_e.memoizedState||($.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||ot===_e.memoizedProps&&dt===_e.memoizedState||($.flags|=1024),$.memoizedProps=tt,$.memoizedState=gt),it.props=tt,it.state=gt,it.context=lt,tt=ut):(typeof it.componentDidUpdate!="function"||ot===_e.memoizedProps&&dt===_e.memoizedState||($.flags|=4),typeof it.getSnapshotBeforeUpdate!="function"||ot===_e.memoizedProps&&dt===_e.memoizedState||($.flags|=1024),tt=!1)}return kj(_e,$,et,tt,rt,nt)}function kj(_e,$,et,tt,nt,rt){hj(_e,$);var it=($.flags&128)!==0;if(!tt&&!it)return nt&&dg($,et,!1),$i(_e,$,rt);tt=$.stateNode,Xi.current=$;var ot=it&&typeof et.getDerivedStateFromError!="function"?null:tt.render();return $.flags|=1,_e!==null&&it?($.child=Bh($,_e.child,null,rt),$.child=Bh($,null,ot,rt)):Yi(_e,$,ot,rt),$.memoizedState=tt.state,nt&&dg($,et,!0),$.child}function lj(_e){var $=_e.stateNode;$.pendingContext?ag(_e,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(_e,$.context,!1),Ih(_e,$.containerInfo)}function mj(_e,$,et,tt,nt){return Ig(),Jg(nt),$.flags|=256,Yi(_e,$,et,tt),$.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function pj(_e,$,et){var tt=$.pendingProps,nt=M$1.current,rt=!1,it=($.flags&128)!==0,ot;if((ot=it)||(ot=_e!==null&&_e.memoizedState===null?!1:(nt&2)!==0),ot?(rt=!0,$.flags&=-129):(_e===null||_e.memoizedState!==null)&&(nt|=1),G$1(M$1,nt&1),_e===null)return Eg($),_e=$.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?($.mode&1?_e.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(it=tt.children,_e=tt.fallback,rt?(tt=$.mode,rt=$.child,it={mode:"hidden",children:it},!(tt&1)&&rt!==null?(rt.childLanes=0,rt.pendingProps=it):rt=qj(it,tt,0,null),_e=Ah(_e,tt,et,null),rt.return=$,_e.return=$,rt.sibling=_e,$.child=rt,$.child.memoizedState=oj(et),$.memoizedState=nj,_e):rj($,it));if(nt=_e.memoizedState,nt!==null&&(ot=nt.dehydrated,ot!==null))return sj(_e,$,it,tt,ot,nt,et);if(rt){rt=tt.fallback,it=$.mode,nt=_e.child,ot=nt.sibling;var lt={mode:"hidden",children:tt.children};return!(it&1)&&$.child!==nt?(tt=$.child,tt.childLanes=0,tt.pendingProps=lt,$.deletions=null):(tt=wh(nt,lt),tt.subtreeFlags=nt.subtreeFlags&14680064),ot!==null?rt=wh(ot,rt):(rt=Ah(rt,it,et,null),rt.flags|=2),rt.return=$,tt.return=$,tt.sibling=rt,$.child=tt,tt=rt,rt=$.child,it=_e.child.memoizedState,it=it===null?oj(et):{baseLanes:it.baseLanes|et,cachePool:null,transitions:it.transitions},rt.memoizedState=it,rt.childLanes=_e.childLanes&~et,$.memoizedState=nj,tt}return rt=_e.child,_e=rt.sibling,tt=wh(rt,{mode:"visible",children:tt.children}),!($.mode&1)&&(tt.lanes=et),tt.return=$,tt.sibling=null,_e!==null&&(et=$.deletions,et===null?($.deletions=[_e],$.flags|=16):et.push(_e)),$.child=tt,$.memoizedState=null,tt}function rj(_e,$){return $=qj({mode:"visible",children:$},_e.mode,0,null),$.return=_e,_e.child=$}function tj(_e,$,et,tt){return tt!==null&&Jg(tt),Bh($,_e.child,null,et),_e=rj($,$.pendingProps.children),_e.flags|=2,$.memoizedState=null,_e}function sj(_e,$,et,tt,nt,rt,it){if(et)return $.flags&256?($.flags&=-257,tt=Li(Error(p$5(422))),tj(_e,$,it,tt)):$.memoizedState!==null?($.child=_e.child,$.flags|=128,null):(rt=tt.fallback,nt=$.mode,tt=qj({mode:"visible",children:tt.children},nt,0,null),rt=Ah(rt,nt,it,null),rt.flags|=2,tt.return=$,rt.return=$,tt.sibling=rt,$.child=tt,$.mode&1&&Bh($,_e.child,null,it),$.child.memoizedState=oj(it),$.memoizedState=nj,rt);if(!($.mode&1))return tj(_e,$,it,null);if(nt.data==="$!"){if(tt=nt.nextSibling&&nt.nextSibling.dataset,tt)var ot=tt.dgst;return tt=ot,rt=Error(p$5(419)),tt=Li(rt,tt,void 0),tj(_e,$,it,tt)}if(ot=(it&_e.childLanes)!==0,Ug||ot){if(tt=R$1,tt!==null){switch(it&-it){case 4:nt=2;break;case 16:nt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:nt=32;break;case 536870912:nt=268435456;break;default:nt=0}nt=nt&(tt.suspendedLanes|it)?0:nt,nt!==0&&nt!==rt.retryLane&&(rt.retryLane=nt,Zg(_e,nt),mh(tt,_e,nt,-1))}return uj(),tt=Li(Error(p$5(421))),tj(_e,$,it,tt)}return nt.data==="$?"?($.flags|=128,$.child=_e.child,$=vj.bind(null,_e),nt._reactRetry=$,null):(_e=rt.treeContext,yg=Lf(nt.nextSibling),xg=$,I$1=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=$),$=rj($,tt.children),$.flags|=4096,$)}function wj(_e,$,et){_e.lanes|=$;var tt=_e.alternate;tt!==null&&(tt.lanes|=$),Sg(_e.return,$,et)}function xj(_e,$,et,tt,nt){var rt=_e.memoizedState;rt===null?_e.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:tt,tail:et,tailMode:nt}:(rt.isBackwards=$,rt.rendering=null,rt.renderingStartTime=0,rt.last=tt,rt.tail=et,rt.tailMode=nt)}function yj(_e,$,et){var tt=$.pendingProps,nt=tt.revealOrder,rt=tt.tail;if(Yi(_e,$,tt.children,et),tt=M$1.current,tt&2)tt=tt&1|2,$.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=$.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&wj(_e,et,$);else if(_e.tag===19)wj(_e,et,$);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}tt&=1}if(G$1(M$1,tt),!($.mode&1))$.memoizedState=null;else switch(nt){case"forwards":for(et=$.child,nt=null;et!==null;)_e=et.alternate,_e!==null&&Mh(_e)===null&&(nt=et),et=et.sibling;et=nt,et===null?(nt=$.child,$.child=null):(nt=et.sibling,et.sibling=null),xj($,!1,nt,et,rt);break;case"backwards":for(et=null,nt=$.child,$.child=null;nt!==null;){if(_e=nt.alternate,_e!==null&&Mh(_e)===null){$.child=nt;break}_e=nt.sibling,nt.sibling=et,et=nt,nt=_e}xj($,!0,et,null,rt);break;case"together":xj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function jj(_e,$){!($.mode&1)&&_e!==null&&(_e.alternate=null,$.alternate=null,$.flags|=2)}function $i(_e,$,et){if(_e!==null&&($.dependencies=_e.dependencies),hh|=$.lanes,!(et&$.childLanes))return null;if(_e!==null&&$.child!==_e.child)throw Error(p$5(153));if($.child!==null){for(_e=$.child,et=wh(_e,_e.pendingProps),$.child=et,et.return=$;_e.sibling!==null;)_e=_e.sibling,et=et.sibling=wh(_e,_e.pendingProps),et.return=$;et.sibling=null}return $.child}function zj(_e,$,et){switch($.tag){case 3:lj($),Ig();break;case 5:Kh($);break;case 1:Zf($.type)&&cg($);break;case 4:Ih($,$.stateNode.containerInfo);break;case 10:var tt=$.type._context,nt=$.memoizedProps.value;G$1(Mg,tt._currentValue),tt._currentValue=nt;break;case 13:if(tt=$.memoizedState,tt!==null)return tt.dehydrated!==null?(G$1(M$1,M$1.current&1),$.flags|=128,null):et&$.child.childLanes?pj(_e,$,et):(G$1(M$1,M$1.current&1),_e=$i(_e,$,et),_e!==null?_e.sibling:null);G$1(M$1,M$1.current&1);break;case 19:if(tt=(et&$.childLanes)!==0,_e.flags&128){if(tt)return yj(_e,$,et);$.flags|=128}if(nt=$.memoizedState,nt!==null&&(nt.rendering=null,nt.tail=null,nt.lastEffect=null),G$1(M$1,M$1.current),tt)break;return null;case 22:case 23:return $.lanes=0,ej(_e,$,et)}return $i(_e,$,et)}var Aj,Bj,Cj,Dj;Aj=function(_e,$){for(var et=$.child;et!==null;){if(et.tag===5||et.tag===6)_e.appendChild(et.stateNode);else if(et.tag!==4&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===$)break;for(;et.sibling===null;){if(et.return===null||et.return===$)return;et=et.return}et.sibling.return=et.return,et=et.sibling}};Bj=function(){};Cj=function(_e,$,et,tt){var nt=_e.memoizedProps;if(nt!==tt){_e=$.stateNode,Hh(Eh.current);var rt=null;switch(et){case"input":nt=Ya(_e,nt),tt=Ya(_e,tt),rt=[];break;case"select":nt=A$2({},nt,{value:void 0}),tt=A$2({},tt,{value:void 0}),rt=[];break;case"textarea":nt=gb(_e,nt),tt=gb(_e,tt),rt=[];break;default:typeof nt.onClick!="function"&&typeof tt.onClick=="function"&&(_e.onclick=Bf)}ub(et,tt);var it;et=null;for(ut in nt)if(!tt.hasOwnProperty(ut)&&nt.hasOwnProperty(ut)&&nt[ut]!=null)if(ut==="style"){var ot=nt[ut];for(it in ot)ot.hasOwnProperty(it)&&(et||(et={}),et[it]="")}else ut!=="dangerouslySetInnerHTML"&&ut!=="children"&&ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?rt||(rt=[]):(rt=rt||[]).push(ut,null));for(ut in tt){var lt=tt[ut];if(ot=nt?.[ut],tt.hasOwnProperty(ut)&&lt!==ot&&(lt!=null||ot!=null))if(ut==="style")if(ot){for(it in ot)!ot.hasOwnProperty(it)||lt&&lt.hasOwnProperty(it)||(et||(et={}),et[it]="");for(it in lt)lt.hasOwnProperty(it)&&ot[it]!==lt[it]&&(et||(et={}),et[it]=lt[it])}else et||(rt||(rt=[]),rt.push(ut,et)),et=lt;else ut==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,ot=ot?ot.__html:void 0,lt!=null&&ot!==lt&&(rt=rt||[]).push(ut,lt)):ut==="children"?typeof lt!="string"&&typeof lt!="number"||(rt=rt||[]).push(ut,""+lt):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ut)?(lt!=null&&ut==="onScroll"&&D$1("scroll",_e),rt||ot===lt||(rt=[])):(rt=rt||[]).push(ut,lt))}et&&(rt=rt||[]).push("style",et);var ut=rt;($.updateQueue=ut)&&($.flags|=4)}};Dj=function(_e,$,et,tt){et!==tt&&($.flags|=4)};function Ej(_e,$){if(!I$1)switch(_e.tailMode){case"hidden":$=_e.tail;for(var et=null;$!==null;)$.alternate!==null&&(et=$),$=$.sibling;et===null?_e.tail=null:et.sibling=null;break;case"collapsed":et=_e.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?$||_e.tail===null?_e.tail=null:_e.tail.sibling=null:tt.sibling=null}}function S$1(_e){var $=_e.alternate!==null&&_e.alternate.child===_e.child,et=0,tt=0;if($)for(var nt=_e.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags&14680064,tt|=nt.flags&14680064,nt.return=_e,nt=nt.sibling;else for(nt=_e.child;nt!==null;)et|=nt.lanes|nt.childLanes,tt|=nt.subtreeFlags,tt|=nt.flags,nt.return=_e,nt=nt.sibling;return _e.subtreeFlags|=tt,_e.childLanes=et,$}function Fj(_e,$,et){var tt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1($),null;case 1:return Zf($.type)&&$f(),S$1($),null;case 3:return tt=$.stateNode,Jh(),E$1(Wf),E$1(H$1),Oh(),tt.pendingContext&&(tt.context=tt.pendingContext,tt.pendingContext=null),(_e===null||_e.child===null)&&(Gg($)?$.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_e,$),S$1($),null;case 5:Lh($);var nt=Hh(Gh.current);if(et=$.type,_e!==null&&$.stateNode!=null)Cj(_e,$,et,tt,nt),_e.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!tt){if($.stateNode===null)throw Error(p$5(166));return S$1($),null}if(_e=Hh(Eh.current),Gg($)){tt=$.stateNode,et=$.type;var rt=$.memoizedProps;switch(tt[Of]=$,tt[Pf]=rt,_e=($.mode&1)!==0,et){case"dialog":D$1("cancel",tt),D$1("close",tt);break;case"iframe":case"object":case"embed":D$1("load",tt);break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],tt);break;case"source":D$1("error",tt);break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt);break;case"details":D$1("toggle",tt);break;case"input":Za(tt,rt),D$1("invalid",tt);break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},D$1("invalid",tt);break;case"textarea":hb(tt,rt),D$1("invalid",tt)}ub(et,rt),nt=null;for(var it in rt)if(rt.hasOwnProperty(it)){var ot=rt[it];it==="children"?typeof ot=="string"?tt.textContent!==ot&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,ot,_e),nt=["children",ot]):typeof ot=="number"&&tt.textContent!==""+ot&&(rt.suppressHydrationWarning!==!0&&Af(tt.textContent,ot,_e),nt=["children",""+ot]):ea.hasOwnProperty(it)&&ot!=null&&it==="onScroll"&&D$1("scroll",tt)}switch(et){case"input":Va(tt),db(tt,rt,!0);break;case"textarea":Va(tt),jb(tt);break;case"select":case"option":break;default:typeof rt.onClick=="function"&&(tt.onclick=Bf)}tt=nt,$.updateQueue=tt,tt!==null&&($.flags|=4)}else{it=nt.nodeType===9?nt:nt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(et)),_e==="http://www.w3.org/1999/xhtml"?et==="script"?(_e=it.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof tt.is=="string"?_e=it.createElement(et,{is:tt.is}):(_e=it.createElement(et),et==="select"&&(it=_e,tt.multiple?it.multiple=!0:tt.size&&(it.size=tt.size))):_e=it.createElementNS(_e,et),_e[Of]=$,_e[Pf]=tt,Aj(_e,$,!1,!1),$.stateNode=_e;e:{switch(it=vb(et,tt),et){case"dialog":D$1("cancel",_e),D$1("close",_e),nt=tt;break;case"iframe":case"object":case"embed":D$1("load",_e),nt=tt;break;case"video":case"audio":for(nt=0;nt<lf.length;nt++)D$1(lf[nt],_e);nt=tt;break;case"source":D$1("error",_e),nt=tt;break;case"img":case"image":case"link":D$1("error",_e),D$1("load",_e),nt=tt;break;case"details":D$1("toggle",_e),nt=tt;break;case"input":Za(_e,tt),nt=Ya(_e,tt),D$1("invalid",_e);break;case"option":nt=tt;break;case"select":_e._wrapperState={wasMultiple:!!tt.multiple},nt=A$2({},tt,{value:void 0}),D$1("invalid",_e);break;case"textarea":hb(_e,tt),nt=gb(_e,tt),D$1("invalid",_e);break;default:nt=tt}ub(et,nt),ot=nt;for(rt in ot)if(ot.hasOwnProperty(rt)){var lt=ot[rt];rt==="style"?sb(_e,lt):rt==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(_e,lt)):rt==="children"?typeof lt=="string"?(et!=="textarea"||lt!=="")&&ob(_e,lt):typeof lt=="number"&&ob(_e,""+lt):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(ea.hasOwnProperty(rt)?lt!=null&&rt==="onScroll"&&D$1("scroll",_e):lt!=null&&ta(_e,rt,lt,it))}switch(et){case"input":Va(_e),db(_e,tt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":tt.value!=null&&_e.setAttribute("value",""+Sa(tt.value));break;case"select":_e.multiple=!!tt.multiple,rt=tt.value,rt!=null?fb(_e,!!tt.multiple,rt,!1):tt.defaultValue!=null&&fb(_e,!!tt.multiple,tt.defaultValue,!0);break;default:typeof nt.onClick=="function"&&(_e.onclick=Bf)}switch(et){case"button":case"input":case"select":case"textarea":tt=!!tt.autoFocus;break e;case"img":tt=!0;break e;default:tt=!1}}tt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$1($),null;case 6:if(_e&&$.stateNode!=null)Dj(_e,$,_e.memoizedProps,tt);else{if(typeof tt!="string"&&$.stateNode===null)throw Error(p$5(166));if(et=Hh(Gh.current),Hh(Eh.current),Gg($)){if(tt=$.stateNode,et=$.memoizedProps,tt[Of]=$,(rt=tt.nodeValue!==et)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(tt.nodeValue,et,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(tt.nodeValue,et,(_e.mode&1)!==0)}rt&&($.flags|=4)}else tt=(et.nodeType===9?et:et.ownerDocument).createTextNode(tt),tt[Of]=$,$.stateNode=tt}return S$1($),null;case 13:if(E$1(M$1),tt=$.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,rt=!1;else if(rt=Gg($),tt!==null&&tt.dehydrated!==null){if(_e===null){if(!rt)throw Error(p$5(318));if(rt=$.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$5(317));rt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$1($),rt=!1}else zg!==null&&(Gj(zg),zg=null),rt=!0;if(!rt)return $.flags&65536?$:null}return $.flags&128?($.lanes=et,$):(tt=tt!==null,tt!==(_e!==null&&_e.memoizedState!==null)&&tt&&($.child.flags|=8192,$.mode&1&&(_e===null||M$1.current&1?T===0&&(T=3):uj())),$.updateQueue!==null&&($.flags|=4),S$1($),null);case 4:return Jh(),Bj(_e,$),_e===null&&sf($.stateNode.containerInfo),S$1($),null;case 10:return Rg($.type._context),S$1($),null;case 17:return Zf($.type)&&$f(),S$1($),null;case 19:if(E$1(M$1),rt=$.memoizedState,rt===null)return S$1($),null;if(tt=($.flags&128)!==0,it=rt.rendering,it===null)if(tt)Ej(rt,!1);else{if(T!==0||_e!==null&&_e.flags&128)for(_e=$.child;_e!==null;){if(it=Mh(_e),it!==null){for($.flags|=128,Ej(rt,!1),tt=it.updateQueue,tt!==null&&($.updateQueue=tt,$.flags|=4),$.subtreeFlags=0,tt=et,et=$.child;et!==null;)rt=et,_e=tt,rt.flags&=14680066,it=rt.alternate,it===null?(rt.childLanes=0,rt.lanes=_e,rt.child=null,rt.subtreeFlags=0,rt.memoizedProps=null,rt.memoizedState=null,rt.updateQueue=null,rt.dependencies=null,rt.stateNode=null):(rt.childLanes=it.childLanes,rt.lanes=it.lanes,rt.child=it.child,rt.subtreeFlags=0,rt.deletions=null,rt.memoizedProps=it.memoizedProps,rt.memoizedState=it.memoizedState,rt.updateQueue=it.updateQueue,rt.type=it.type,_e=it.dependencies,rt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),et=et.sibling;return G$1(M$1,M$1.current&1|2),$.child}_e=_e.sibling}rt.tail!==null&&B$1()>Hj&&($.flags|=128,tt=!0,Ej(rt,!1),$.lanes=4194304)}else{if(!tt)if(_e=Mh(it),_e!==null){if($.flags|=128,tt=!0,et=_e.updateQueue,et!==null&&($.updateQueue=et,$.flags|=4),Ej(rt,!0),rt.tail===null&&rt.tailMode==="hidden"&&!it.alternate&&!I$1)return S$1($),null}else 2*B$1()-rt.renderingStartTime>Hj&&et!==1073741824&&($.flags|=128,tt=!0,Ej(rt,!1),$.lanes=4194304);rt.isBackwards?(it.sibling=$.child,$.child=it):(et=rt.last,et!==null?et.sibling=it:$.child=it,rt.last=it)}return rt.tail!==null?($=rt.tail,rt.rendering=$,rt.tail=$.sibling,rt.renderingStartTime=B$1(),$.sibling=null,et=M$1.current,G$1(M$1,tt?et&1|2:et&1),$):(S$1($),null);case 22:case 23:return Ij(),tt=$.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==tt&&($.flags|=8192),tt&&$.mode&1?gj&1073741824&&(S$1($),$.subtreeFlags&6&&($.flags|=8192)):S$1($),null;case 24:return null;case 25:return null}throw Error(p$5(156,$.tag))}function Jj(_e,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),_e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 3:return Jh(),E$1(Wf),E$1(H$1),Oh(),_e=$.flags,_e&65536&&!(_e&128)?($.flags=_e&-65537|128,$):null;case 5:return Lh($),null;case 13:if(E$1(M$1),_e=$.memoizedState,_e!==null&&_e.dehydrated!==null){if($.alternate===null)throw Error(p$5(340));Ig()}return _e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 19:return E$1(M$1),null;case 4:return Jh(),null;case 10:return Rg($.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$1=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(_e,$){var et=_e.ref;if(et!==null)if(typeof et=="function")try{et(null)}catch(tt){W$1(_e,$,tt)}else et.current=null}function Nj(_e,$,et){try{et()}catch(tt){W$1(_e,$,tt)}}var Oj=!1;function Pj(_e,$){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var et={start:_e.selectionStart,end:_e.selectionEnd};else e:{et=(et=_e.ownerDocument)&&et.defaultView||window;var tt=et.getSelection&&et.getSelection();if(tt&&tt.rangeCount!==0){et=tt.anchorNode;var nt=tt.anchorOffset,rt=tt.focusNode;tt=tt.focusOffset;try{et.nodeType,rt.nodeType}catch{et=null;break e}var it=0,ot=-1,lt=-1,ut=0,ct=0,ht=_e,dt=null;t:for(;;){for(var mt;ht!==et||nt!==0&&ht.nodeType!==3||(ot=it+nt),ht!==rt||tt!==0&&ht.nodeType!==3||(lt=it+tt),ht.nodeType===3&&(it+=ht.nodeValue.length),(mt=ht.firstChild)!==null;)dt=ht,ht=mt;for(;;){if(ht===_e)break t;if(dt===et&&++ut===nt&&(ot=it),dt===rt&&++ct===tt&&(lt=it),(mt=ht.nextSibling)!==null)break;ht=dt,dt=ht.parentNode}ht=mt}et=ot===-1||lt===-1?null:{start:ot,end:lt}}else et=null}et=et||{start:0,end:0}}else et=null;for(Df={focusedElem:_e,selectionRange:et},dd=!1,V=$;V!==null;)if($=V,_e=$.child,($.subtreeFlags&1028)!==0&&_e!==null)_e.return=$,V=_e;else for(;V!==null;){$=V;try{var gt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(gt!==null){var Ot=gt.memoizedProps,wt=gt.memoizedState,St=$.stateNode,vt=St.getSnapshotBeforeUpdate($.elementType===$.type?Ot:Lg($.type,Ot),wt);St.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var Tt=$.stateNode.containerInfo;Tt.nodeType===1?Tt.textContent="":Tt.nodeType===9&&Tt.documentElement&&Tt.removeChild(Tt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$5(163))}}catch(Et){W$1($,$.return,Et)}if(_e=$.sibling,_e!==null){_e.return=$.return,V=_e;break}V=$.return}return gt=Oj,Oj=!1,gt}function Qj(_e,$,et){var tt=$.updateQueue;if(tt=tt!==null?tt.lastEffect:null,tt!==null){var nt=tt=tt.next;do{if((nt.tag&_e)===_e){var rt=nt.destroy;nt.destroy=void 0,rt!==void 0&&Nj($,et,rt)}nt=nt.next}while(nt!==tt)}}function Rj(_e,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var et=$=$.next;do{if((et.tag&_e)===_e){var tt=et.create;et.destroy=tt()}et=et.next}while(et!==$)}}function Sj(_e){var $=_e.ref;if($!==null){var et=_e.stateNode;switch(_e.tag){case 5:_e=et;break;default:_e=et}typeof $=="function"?$(_e):$.current=_e}}function Tj(_e){var $=_e.alternate;$!==null&&(_e.alternate=null,Tj($)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&($=_e.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Uj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Vj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Uj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Wj(_e,$,et){var tt=_e.tag;if(tt===5||tt===6)_e=_e.stateNode,$?et.nodeType===8?et.parentNode.insertBefore(_e,$):et.insertBefore(_e,$):(et.nodeType===8?($=et.parentNode,$.insertBefore(_e,et)):($=et,$.appendChild(_e)),et=et._reactRootContainer,et!=null||$.onclick!==null||($.onclick=Bf));else if(tt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,$,et),_e=_e.sibling;_e!==null;)Wj(_e,$,et),_e=_e.sibling}function Xj(_e,$,et){var tt=_e.tag;if(tt===5||tt===6)_e=_e.stateNode,$?et.insertBefore(_e,$):et.appendChild(_e);else if(tt!==4&&(_e=_e.child,_e!==null))for(Xj(_e,$,et),_e=_e.sibling;_e!==null;)Xj(_e,$,et),_e=_e.sibling}var X$1=null,Yj=!1;function Zj(_e,$,et){for(et=et.child;et!==null;)ak(_e,$,et),et=et.sibling}function ak(_e,$,et){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,et)}catch{}switch(et.tag){case 5:U$1||Mj(et,$);case 6:var tt=X$1,nt=Yj;X$1=null,Zj(_e,$,et),X$1=tt,Yj=nt,X$1!==null&&(Yj?(_e=X$1,et=et.stateNode,_e.nodeType===8?_e.parentNode.removeChild(et):_e.removeChild(et)):X$1.removeChild(et.stateNode));break;case 18:X$1!==null&&(Yj?(_e=X$1,et=et.stateNode,_e.nodeType===8?Kf(_e.parentNode,et):_e.nodeType===1&&Kf(_e,et),bd(_e)):Kf(X$1,et.stateNode));break;case 4:tt=X$1,nt=Yj,X$1=et.stateNode.containerInfo,Yj=!0,Zj(_e,$,et),X$1=tt,Yj=nt;break;case 0:case 11:case 14:case 15:if(!U$1&&(tt=et.updateQueue,tt!==null&&(tt=tt.lastEffect,tt!==null))){nt=tt=tt.next;do{var rt=nt,it=rt.destroy;rt=rt.tag,it!==void 0&&(rt&2||rt&4)&&Nj(et,$,it),nt=nt.next}while(nt!==tt)}Zj(_e,$,et);break;case 1:if(!U$1&&(Mj(et,$),tt=et.stateNode,typeof tt.componentWillUnmount=="function"))try{tt.props=et.memoizedProps,tt.state=et.memoizedState,tt.componentWillUnmount()}catch(ot){W$1(et,$,ot)}Zj(_e,$,et);break;case 21:Zj(_e,$,et);break;case 22:et.mode&1?(U$1=(tt=U$1)||et.memoizedState!==null,Zj(_e,$,et),U$1=tt):Zj(_e,$,et);break;default:Zj(_e,$,et)}}function bk(_e){var $=_e.updateQueue;if($!==null){_e.updateQueue=null;var et=_e.stateNode;et===null&&(et=_e.stateNode=new Lj),$.forEach(function(tt){var nt=ck.bind(null,_e,tt);et.has(tt)||(et.add(tt),tt.then(nt,nt))})}}function dk(_e,$){var et=$.deletions;if(et!==null)for(var tt=0;tt<et.length;tt++){var nt=et[tt];try{var rt=_e,it=$,ot=it;e:for(;ot!==null;){switch(ot.tag){case 5:X$1=ot.stateNode,Yj=!1;break e;case 3:X$1=ot.stateNode.containerInfo,Yj=!0;break e;case 4:X$1=ot.stateNode.containerInfo,Yj=!0;break e}ot=ot.return}if(X$1===null)throw Error(p$5(160));ak(rt,it,nt),X$1=null,Yj=!1;var lt=nt.alternate;lt!==null&&(lt.return=null),nt.return=null}catch(ut){W$1(nt,$,ut)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)ek($,_e),$=$.sibling}function ek(_e,$){var et=_e.alternate,tt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(dk($,_e),fk(_e),tt&4){try{Qj(3,_e,_e.return),Rj(3,_e)}catch(Ot){W$1(_e,_e.return,Ot)}try{Qj(5,_e,_e.return)}catch(Ot){W$1(_e,_e.return,Ot)}}break;case 1:dk($,_e),fk(_e),tt&512&&et!==null&&Mj(et,et.return);break;case 5:if(dk($,_e),fk(_e),tt&512&&et!==null&&Mj(et,et.return),_e.flags&32){var nt=_e.stateNode;try{ob(nt,"")}catch(Ot){W$1(_e,_e.return,Ot)}}if(tt&4&&(nt=_e.stateNode,nt!=null)){var rt=_e.memoizedProps,it=et!==null?et.memoizedProps:rt,ot=_e.type,lt=_e.updateQueue;if(_e.updateQueue=null,lt!==null)try{ot==="input"&&rt.type==="radio"&&rt.name!=null&&ab(nt,rt),vb(ot,it);var ut=vb(ot,rt);for(it=0;it<lt.length;it+=2){var ct=lt[it],ht=lt[it+1];ct==="style"?sb(nt,ht):ct==="dangerouslySetInnerHTML"?nb(nt,ht):ct==="children"?ob(nt,ht):ta(nt,ct,ht,ut)}switch(ot){case"input":bb(nt,rt);break;case"textarea":ib(nt,rt);break;case"select":var dt=nt._wrapperState.wasMultiple;nt._wrapperState.wasMultiple=!!rt.multiple;var mt=rt.value;mt!=null?fb(nt,!!rt.multiple,mt,!1):dt!==!!rt.multiple&&(rt.defaultValue!=null?fb(nt,!!rt.multiple,rt.defaultValue,!0):fb(nt,!!rt.multiple,rt.multiple?[]:"",!1))}nt[Pf]=rt}catch(Ot){W$1(_e,_e.return,Ot)}}break;case 6:if(dk($,_e),fk(_e),tt&4){if(_e.stateNode===null)throw Error(p$5(162));nt=_e.stateNode,rt=_e.memoizedProps;try{nt.nodeValue=rt}catch(Ot){W$1(_e,_e.return,Ot)}}break;case 3:if(dk($,_e),fk(_e),tt&4&&et!==null&&et.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Ot){W$1(_e,_e.return,Ot)}break;case 4:dk($,_e),fk(_e);break;case 13:dk($,_e),fk(_e),nt=_e.child,nt.flags&8192&&(rt=nt.memoizedState!==null,nt.stateNode.isHidden=rt,!rt||nt.alternate!==null&&nt.alternate.memoizedState!==null||(gk=B$1())),tt&4&&bk(_e);break;case 22:if(ct=et!==null&&et.memoizedState!==null,_e.mode&1?(U$1=(ut=U$1)||ct,dk($,_e),U$1=ut):dk($,_e),fk(_e),tt&8192){if(ut=_e.memoizedState!==null,(_e.stateNode.isHidden=ut)&&!ct&&_e.mode&1)for(V=_e,ct=_e.child;ct!==null;){for(ht=V=ct;V!==null;){switch(dt=V,mt=dt.child,dt.tag){case 0:case 11:case 14:case 15:Qj(4,dt,dt.return);break;case 1:Mj(dt,dt.return);var gt=dt.stateNode;if(typeof gt.componentWillUnmount=="function"){tt=dt,et=dt.return;try{$=tt,gt.props=$.memoizedProps,gt.state=$.memoizedState,gt.componentWillUnmount()}catch(Ot){W$1(tt,et,Ot)}}break;case 5:Mj(dt,dt.return);break;case 22:if(dt.memoizedState!==null){hk(ht);continue}}mt!==null?(mt.return=dt,V=mt):hk(ht)}ct=ct.sibling}e:for(ct=null,ht=_e;;){if(ht.tag===5){if(ct===null){ct=ht;try{nt=ht.stateNode,ut?(rt=nt.style,typeof rt.setProperty=="function"?rt.setProperty("display","none","important"):rt.display="none"):(ot=ht.stateNode,lt=ht.memoizedProps.style,it=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,ot.style.display=rb("display",it))}catch(Ot){W$1(_e,_e.return,Ot)}}}else if(ht.tag===6){if(ct===null)try{ht.stateNode.nodeValue=ut?"":ht.memoizedProps}catch(Ot){W$1(_e,_e.return,Ot)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===_e)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===_e)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===_e)break e;ct===ht&&(ct=null),ht=ht.return}ct===ht&&(ct=null),ht.sibling.return=ht.return,ht=ht.sibling}}break;case 19:dk($,_e),fk(_e),tt&4&&bk(_e);break;case 21:break;default:dk($,_e),fk(_e)}}function fk(_e){var $=_e.flags;if($&2){try{e:{for(var et=_e.return;et!==null;){if(Uj(et)){var tt=et;break e}et=et.return}throw Error(p$5(160))}switch(tt.tag){case 5:var nt=tt.stateNode;tt.flags&32&&(ob(nt,""),tt.flags&=-33);var rt=Vj(_e);Xj(_e,rt,nt);break;case 3:case 4:var it=tt.stateNode.containerInfo,ot=Vj(_e);Wj(_e,ot,it);break;default:throw Error(p$5(161))}}catch(lt){W$1(_e,_e.return,lt)}_e.flags&=-3}$&4096&&(_e.flags&=-4097)}function ik(_e,$,et){V=_e,jk(_e)}function jk(_e,$,et){for(var tt=(_e.mode&1)!==0;V!==null;){var nt=V,rt=nt.child;if(nt.tag===22&&tt){var it=nt.memoizedState!==null||Kj;if(!it){var ot=nt.alternate,lt=ot!==null&&ot.memoizedState!==null||U$1;ot=Kj;var ut=U$1;if(Kj=it,(U$1=lt)&&!ut)for(V=nt;V!==null;)it=V,lt=it.child,it.tag===22&&it.memoizedState!==null?kk(nt):lt!==null?(lt.return=it,V=lt):kk(nt);for(;rt!==null;)V=rt,jk(rt),rt=rt.sibling;V=nt,Kj=ot,U$1=ut}lk(_e)}else nt.subtreeFlags&8772&&rt!==null?(rt.return=nt,V=rt):lk(_e)}}function lk(_e){for(;V!==null;){var $=V;if($.flags&8772){var et=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$1||Rj(5,$);break;case 1:var tt=$.stateNode;if($.flags&4&&!U$1)if(et===null)tt.componentDidMount();else{var nt=$.elementType===$.type?et.memoizedProps:Lg($.type,et.memoizedProps);tt.componentDidUpdate(nt,et.memoizedState,tt.__reactInternalSnapshotBeforeUpdate)}var rt=$.updateQueue;rt!==null&&ih($,rt,tt);break;case 3:var it=$.updateQueue;if(it!==null){if(et=null,$.child!==null)switch($.child.tag){case 5:et=$.child.stateNode;break;case 1:et=$.child.stateNode}ih($,it,et)}break;case 5:var ot=$.stateNode;if(et===null&&$.flags&4){et=ot;var lt=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&et.focus();break;case"img":lt.src&&(et.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var ut=$.alternate;if(ut!==null){var ct=ut.memoizedState;if(ct!==null){var ht=ct.dehydrated;ht!==null&&bd(ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$5(163))}U$1||$.flags&512&&Sj($)}catch(dt){W$1($,$.return,dt)}}if($===_e){V=null;break}if(et=$.sibling,et!==null){et.return=$.return,V=et;break}V=$.return}}function hk(_e){for(;V!==null;){var $=V;if($===_e){V=null;break}var et=$.sibling;if(et!==null){et.return=$.return,V=et;break}V=$.return}}function kk(_e){for(;V!==null;){var $=V;try{switch($.tag){case 0:case 11:case 15:var et=$.return;try{Rj(4,$)}catch(lt){W$1($,et,lt)}break;case 1:var tt=$.stateNode;if(typeof tt.componentDidMount=="function"){var nt=$.return;try{tt.componentDidMount()}catch(lt){W$1($,nt,lt)}}var rt=$.return;try{Sj($)}catch(lt){W$1($,rt,lt)}break;case 5:var it=$.return;try{Sj($)}catch(lt){W$1($,it,lt)}}}catch(lt){W$1($,$.return,lt)}if($===_e){V=null;break}var ot=$.sibling;if(ot!==null){ot.return=$.return,V=ot;break}V=$.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R$1=null,Y=null,Z$1=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K&6?B$1():Bk!==-1?Bk:Bk=B$1()}function lh(_e){return _e.mode&1?K&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function mh(_e,$,et,tt){if(50<zk)throw zk=0,Ak=null,Error(p$5(185));Ac(_e,et,tt),(!(K&2)||_e!==R$1)&&(_e===R$1&&(!(K&2)&&(rk|=et),T===4&&Dk(_e,Z$1)),Ek(_e,tt),et===1&&K===0&&!($.mode&1)&&(Hj=B$1()+500,fg&&jg()))}function Ek(_e,$){var et=_e.callbackNode;wc(_e,$);var tt=uc(_e,_e===R$1?Z$1:0);if(tt===0)et!==null&&bc(et),_e.callbackNode=null,_e.callbackPriority=0;else if($=tt&-tt,_e.callbackPriority!==$){if(et!=null&&bc(et),$===1)_e.tag===0?ig(Fk.bind(null,_e)):hg(Fk.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),et=null;else{switch(Dc(tt)){case 1:et=fc;break;case 4:et=gc;break;case 16:et=hc;break;case 536870912:et=jc;break;default:et=hc}et=Gk(et,Hk.bind(null,_e))}_e.callbackPriority=$,_e.callbackNode=et}}function Hk(_e,$){if(Bk=-1,Ck=0,K&6)throw Error(p$5(327));var et=_e.callbackNode;if(Ik()&&_e.callbackNode!==et)return null;var tt=uc(_e,_e===R$1?Z$1:0);if(tt===0)return null;if(tt&30||tt&_e.expiredLanes||$)$=Jk(_e,tt);else{$=tt;var nt=K;K|=2;var rt=Kk();(R$1!==_e||Z$1!==$)&&(vk=null,Hj=B$1()+500,Lk(_e,$));do try{Mk();break}catch(ot){Nk(_e,ot)}while(!0);Qg(),nk.current=rt,K=nt,Y!==null?$=0:(R$1=null,Z$1=0,$=T)}if($!==0){if($===2&&(nt=xc(_e),nt!==0&&(tt=nt,$=Ok(_e,nt))),$===1)throw et=qk,Lk(_e,0),Dk(_e,tt),Ek(_e,B$1()),et;if($===6)Dk(_e,tt);else{if(nt=_e.current.alternate,!(tt&30)&&!Pk(nt)&&($=Jk(_e,tt),$===2&&(rt=xc(_e),rt!==0&&(tt=rt,$=Ok(_e,rt))),$===1))throw et=qk,Lk(_e,0),Dk(_e,tt),Ek(_e,B$1()),et;switch(_e.finishedWork=nt,_e.finishedLanes=tt,$){case 0:case 1:throw Error(p$5(345));case 2:Qk(_e,uk,vk);break;case 3:if(Dk(_e,tt),(tt&130023424)===tt&&($=gk+500-B$1(),10<$)){if(uc(_e,0)!==0)break;if(nt=_e.suspendedLanes,(nt&tt)!==tt){L$1(),_e.pingedLanes|=_e.suspendedLanes&nt;break}_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),$);break}Qk(_e,uk,vk);break;case 4:if(Dk(_e,tt),(tt&4194240)===tt)break;for($=_e.eventTimes,nt=-1;0<tt;){var it=31-oc(tt);rt=1<<it,it=$[it],it>nt&&(nt=it),tt&=~rt}if(tt=nt,tt=B$1()-tt,tt=(120>tt?120:480>tt?480:1080>tt?1080:1920>tt?1920:3e3>tt?3e3:4320>tt?4320:1960*mk(tt/1960))-tt,10<tt){_e.timeoutHandle=Ff(Qk.bind(null,_e,uk,vk),tt);break}Qk(_e,uk,vk);break;case 5:Qk(_e,uk,vk);break;default:throw Error(p$5(329))}}}return Ek(_e,B$1()),_e.callbackNode===et?Hk.bind(null,_e):null}function Ok(_e,$){var et=tk;return _e.current.memoizedState.isDehydrated&&(Lk(_e,$).flags|=256),_e=Jk(_e,$),_e!==2&&($=uk,uk=et,$!==null&&Gj($)),_e}function Gj(_e){uk===null?uk=_e:uk.push.apply(uk,_e)}function Pk(_e){for(var $=_e;;){if($.flags&16384){var et=$.updateQueue;if(et!==null&&(et=et.stores,et!==null))for(var tt=0;tt<et.length;tt++){var nt=et[tt],rt=nt.getSnapshot;nt=nt.value;try{if(!He(rt(),nt))return!1}catch{return!1}}}if(et=$.child,$.subtreeFlags&16384&&et!==null)et.return=$,$=et;else{if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Dk(_e,$){for($&=~sk,$&=~rk,_e.suspendedLanes|=$,_e.pingedLanes&=~$,_e=_e.expirationTimes;0<$;){var et=31-oc($),tt=1<<et;_e[et]=-1,$&=~tt}}function Fk(_e){if(K&6)throw Error(p$5(327));Ik();var $=uc(_e,0);if(!($&1))return Ek(_e,B$1()),null;var et=Jk(_e,$);if(_e.tag!==0&&et===2){var tt=xc(_e);tt!==0&&($=tt,et=Ok(_e,tt))}if(et===1)throw et=qk,Lk(_e,0),Dk(_e,$),Ek(_e,B$1()),et;if(et===6)throw Error(p$5(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=$,Qk(_e,uk,vk),Ek(_e,B$1()),null}function Rk(_e,$){var et=K;K|=1;try{return _e($)}finally{K=et,K===0&&(Hj=B$1()+500,fg&&jg())}}function Sk(_e){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var $=K;K|=1;var et=pk.transition,tt=C$1;try{if(pk.transition=null,C$1=1,_e)return _e()}finally{C$1=tt,pk.transition=et,K=$,!(K&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(_e,$){_e.finishedWork=null,_e.finishedLanes=0;var et=_e.timeoutHandle;if(et!==-1&&(_e.timeoutHandle=-1,Gf(et)),Y!==null)for(et=Y.return;et!==null;){var tt=et;switch(wg(tt),tt.tag){case 1:tt=tt.type.childContextTypes,tt!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$1),Oh();break;case 5:Lh(tt);break;case 4:Jh();break;case 13:E$1(M$1);break;case 19:E$1(M$1);break;case 10:Rg(tt.type._context);break;case 22:case 23:Ij()}et=et.return}if(R$1=_e,Y=_e=wh(_e.current,null),Z$1=gj=$,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for($=0;$<Wg.length;$++)if(et=Wg[$],tt=et.interleaved,tt!==null){et.interleaved=null;var nt=tt.next,rt=et.pending;if(rt!==null){var it=rt.next;rt.next=nt,tt.next=it}et.pending=tt}Wg=null}return _e}function Nk(_e,$){do{var et=Y;try{if(Qg(),Ph.current=ai,Sh){for(var tt=N$1.memoizedState;tt!==null;){var nt=tt.queue;nt!==null&&(nt.pending=null),tt=tt.next}Sh=!1}if(Rh=0,P$1=O$1=N$1=null,Th=!1,Uh=0,ok.current=null,et===null||et.return===null){T=1,qk=$,Y=null;break}e:{var rt=_e,it=et.return,ot=et,lt=$;if($=Z$1,ot.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ut=lt,ct=ot,ht=ct.tag;if(!(ct.mode&1)&&(ht===0||ht===11||ht===15)){var dt=ct.alternate;dt?(ct.updateQueue=dt.updateQueue,ct.memoizedState=dt.memoizedState,ct.lanes=dt.lanes):(ct.updateQueue=null,ct.memoizedState=null)}var mt=Vi(it);if(mt!==null){mt.flags&=-257,Wi(mt,it,ot,rt,$),mt.mode&1&&Ti(rt,ut,$),$=mt,lt=ut;var gt=$.updateQueue;if(gt===null){var Ot=new Set;Ot.add(lt),$.updateQueue=Ot}else gt.add(lt);break e}else{if(!($&1)){Ti(rt,ut,$),uj();break e}lt=Error(p$5(426))}}else if(I$1&&ot.mode&1){var wt=Vi(it);if(wt!==null){!(wt.flags&65536)&&(wt.flags|=256),Wi(wt,it,ot,rt,$),Jg(Ki(lt,ot));break e}}rt=lt=Ki(lt,ot),T!==4&&(T=2),tk===null?tk=[rt]:tk.push(rt),rt=it;do{switch(rt.tag){case 3:rt.flags|=65536,$&=-$,rt.lanes|=$;var St=Oi(rt,lt,$);fh(rt,St);break e;case 1:ot=lt;var vt=rt.type,Tt=rt.stateNode;if(!(rt.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||Tt!==null&&typeof Tt.componentDidCatch=="function"&&(Si===null||!Si.has(Tt)))){rt.flags|=65536,$&=-$,rt.lanes|=$;var Et=Ri(rt,ot,$);fh(rt,Et);break e}}rt=rt.return}while(rt!==null)}Tk(et)}catch(Pt){$=Pt,Y===et&&et!==null&&(Y=et=et.return);continue}break}while(!0)}function Kk(){var _e=nk.current;return nk.current=ai,_e===null?ai:_e}function uj(){(T===0||T===3||T===2)&&(T=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$1)}function Jk(_e,$){var et=K;K|=2;var tt=Kk();(R$1!==_e||Z$1!==$)&&(vk=null,Lk(_e,$));do try{Uk();break}catch(nt){Nk(_e,nt)}while(!0);if(Qg(),K=et,nk.current=tt,Y!==null)throw Error(p$5(261));return R$1=null,Z$1=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(_e){var $=Wk(_e.alternate,_e,gj);_e.memoizedProps=_e.pendingProps,$===null?Tk(_e):Y=$,ok.current=null}function Tk(_e){var $=_e;do{var et=$.alternate;if(_e=$.return,$.flags&32768){if(et=Jj(et,$),et!==null){et.flags&=32767,Y=et;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T=6,Y=null;return}}else if(et=Fj(et,$,gj),et!==null){Y=et;return}if($=$.sibling,$!==null){Y=$;return}Y=$=_e}while($!==null);T===0&&(T=5)}function Qk(_e,$,et){var tt=C$1,nt=pk.transition;try{pk.transition=null,C$1=1,Xk(_e,$,et,tt)}finally{pk.transition=nt,C$1=tt}return null}function Xk(_e,$,et,tt){do Ik();while(xk!==null);if(K&6)throw Error(p$5(327));et=_e.finishedWork;var nt=_e.finishedLanes;if(et===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,et===_e.current)throw Error(p$5(177));_e.callbackNode=null,_e.callbackPriority=0;var rt=et.lanes|et.childLanes;if(Bc(_e,rt),_e===R$1&&(Y=R$1=null,Z$1=0),!(et.subtreeFlags&2064)&&!(et.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),rt=(et.flags&15990)!==0,et.subtreeFlags&15990||rt){rt=pk.transition,pk.transition=null;var it=C$1;C$1=1;var ot=K;K|=4,ok.current=null,Pj(_e,et),ek(et,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=et,ik(et),dc(),K=ot,C$1=it,pk.transition=rt}else _e.current=et;if(wk&&(wk=!1,xk=_e,yk=nt),rt=_e.pendingLanes,rt===0&&(Si=null),mc(et.stateNode),Ek(_e,B$1()),$!==null)for(tt=_e.onRecoverableError,et=0;et<$.length;et++)nt=$[et],tt(nt.value,{componentStack:nt.stack,digest:nt.digest});if(Pi)throw Pi=!1,_e=Qi,Qi=null,_e;return yk&1&&_e.tag!==0&&Ik(),rt=_e.pendingLanes,rt&1?_e===Ak?zk++:(zk=0,Ak=_e):zk=0,jg(),null}function Ik(){if(xk!==null){var _e=Dc(yk),$=pk.transition,et=C$1;try{if(pk.transition=null,C$1=16>_e?16:_e,xk===null)var tt=!1;else{if(_e=xk,xk=null,yk=0,K&6)throw Error(p$5(331));var nt=K;for(K|=4,V=_e.current;V!==null;){var rt=V,it=rt.child;if(V.flags&16){var ot=rt.deletions;if(ot!==null){for(var lt=0;lt<ot.length;lt++){var ut=ot[lt];for(V=ut;V!==null;){var ct=V;switch(ct.tag){case 0:case 11:case 15:Qj(8,ct,rt)}var ht=ct.child;if(ht!==null)ht.return=ct,V=ht;else for(;V!==null;){ct=V;var dt=ct.sibling,mt=ct.return;if(Tj(ct),ct===ut){V=null;break}if(dt!==null){dt.return=mt,V=dt;break}V=mt}}}var gt=rt.alternate;if(gt!==null){var Ot=gt.child;if(Ot!==null){gt.child=null;do{var wt=Ot.sibling;Ot.sibling=null,Ot=wt}while(Ot!==null)}}V=rt}}if(rt.subtreeFlags&2064&&it!==null)it.return=rt,V=it;else e:for(;V!==null;){if(rt=V,rt.flags&2048)switch(rt.tag){case 0:case 11:case 15:Qj(9,rt,rt.return)}var St=rt.sibling;if(St!==null){St.return=rt.return,V=St;break e}V=rt.return}}var vt=_e.current;for(V=vt;V!==null;){it=V;var Tt=it.child;if(it.subtreeFlags&2064&&Tt!==null)Tt.return=it,V=Tt;else e:for(it=vt;V!==null;){if(ot=V,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Rj(9,ot)}}catch(Pt){W$1(ot,ot.return,Pt)}if(ot===it){V=null;break e}var Et=ot.sibling;if(Et!==null){Et.return=ot.return,V=Et;break e}V=ot.return}}if(K=nt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}tt=!0}return tt}finally{C$1=et,pk.transition=$}}return!1}function Yk(_e,$,et){$=Ki(et,$),$=Oi(_e,$,1),_e=dh(_e,$,1),$=L$1(),_e!==null&&(Ac(_e,1,$),Ek(_e,$))}function W$1(_e,$,et){if(_e.tag===3)Yk(_e,_e,et);else for(;$!==null;){if($.tag===3){Yk($,_e,et);break}else if($.tag===1){var tt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof tt.componentDidCatch=="function"&&(Si===null||!Si.has(tt))){_e=Ki(et,_e),_e=Ri($,_e,1),$=dh($,_e,1),_e=L$1(),$!==null&&(Ac($,1,_e),Ek($,_e));break}}$=$.return}}function Ui(_e,$,et){var tt=_e.pingCache;tt!==null&&tt.delete($),$=L$1(),_e.pingedLanes|=_e.suspendedLanes&et,R$1===_e&&(Z$1&et)===et&&(T===4||T===3&&(Z$1&130023424)===Z$1&&500>B$1()-gk?Lk(_e,0):sk|=et),Ek(_e,$)}function Zk(_e,$){$===0&&(_e.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var et=L$1();_e=Zg(_e,$),_e!==null&&(Ac(_e,$,et),Ek(_e,et))}function vj(_e){var $=_e.memoizedState,et=0;$!==null&&(et=$.retryLane),Zk(_e,et)}function ck(_e,$){var et=0;switch(_e.tag){case 13:var tt=_e.stateNode,nt=_e.memoizedState;nt!==null&&(et=nt.retryLane);break;case 19:tt=_e.stateNode;break;default:throw Error(p$5(314))}tt!==null&&tt.delete($),Zk(_e,et)}var Wk;Wk=function(_e,$,et){if(_e!==null)if(_e.memoizedProps!==$.pendingProps||Wf.current)Ug=!0;else{if(!(_e.lanes&et)&&!($.flags&128))return Ug=!1,zj(_e,$,et);Ug=!!(_e.flags&131072)}else Ug=!1,I$1&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var tt=$.type;jj(_e,$),_e=$.pendingProps;var nt=Yf($,H$1.current);Tg($,et),nt=Xh(null,$,tt,_e,nt,et);var rt=bi();return $.flags|=1,typeof nt=="object"&&nt!==null&&typeof nt.render=="function"&&nt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(tt)?(rt=!0,cg($)):rt=!1,$.memoizedState=nt.state!==null&&nt.state!==void 0?nt.state:null,ah($),nt.updater=nh,$.stateNode=nt,nt._reactInternals=$,rh($,tt,_e,et),$=kj(null,$,tt,!0,rt,et)):($.tag=0,I$1&&rt&&vg($),Yi(null,$,nt,et),$=$.child),$;case 16:tt=$.elementType;e:{switch(jj(_e,$),_e=$.pendingProps,nt=tt._init,tt=nt(tt._payload),$.type=tt,nt=$.tag=$k(tt),_e=Lg(tt,_e),nt){case 0:$=dj(null,$,tt,_e,et);break e;case 1:$=ij(null,$,tt,_e,et);break e;case 11:$=Zi(null,$,tt,_e,et);break e;case 14:$=aj(null,$,tt,Lg(tt.type,_e),et);break e}throw Error(p$5(306,tt,""))}return $;case 0:return tt=$.type,nt=$.pendingProps,nt=$.elementType===tt?nt:Lg(tt,nt),dj(_e,$,tt,nt,et);case 1:return tt=$.type,nt=$.pendingProps,nt=$.elementType===tt?nt:Lg(tt,nt),ij(_e,$,tt,nt,et);case 3:e:{if(lj($),_e===null)throw Error(p$5(387));tt=$.pendingProps,rt=$.memoizedState,nt=rt.element,bh(_e,$),gh($,tt,null,et);var it=$.memoizedState;if(tt=it.element,rt.isDehydrated)if(rt={element:tt,isDehydrated:!1,cache:it.cache,pendingSuspenseBoundaries:it.pendingSuspenseBoundaries,transitions:it.transitions},$.updateQueue.baseState=rt,$.memoizedState=rt,$.flags&256){nt=Ki(Error(p$5(423)),$),$=mj(_e,$,tt,et,nt);break e}else if(tt!==nt){nt=Ki(Error(p$5(424)),$),$=mj(_e,$,tt,et,nt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$1=!0,zg=null,et=Ch($,null,tt,et),$.child=et;et;)et.flags=et.flags&-3|4096,et=et.sibling;else{if(Ig(),tt===nt){$=$i(_e,$,et);break e}Yi(_e,$,tt,et)}$=$.child}return $;case 5:return Kh($),_e===null&&Eg($),tt=$.type,nt=$.pendingProps,rt=_e!==null?_e.memoizedProps:null,it=nt.children,Ef(tt,nt)?it=null:rt!==null&&Ef(tt,rt)&&($.flags|=32),hj(_e,$),Yi(_e,$,it,et),$.child;case 6:return _e===null&&Eg($),null;case 13:return pj(_e,$,et);case 4:return Ih($,$.stateNode.containerInfo),tt=$.pendingProps,_e===null?$.child=Bh($,null,tt,et):Yi(_e,$,tt,et),$.child;case 11:return tt=$.type,nt=$.pendingProps,nt=$.elementType===tt?nt:Lg(tt,nt),Zi(_e,$,tt,nt,et);case 7:return Yi(_e,$,$.pendingProps,et),$.child;case 8:return Yi(_e,$,$.pendingProps.children,et),$.child;case 12:return Yi(_e,$,$.pendingProps.children,et),$.child;case 10:e:{if(tt=$.type._context,nt=$.pendingProps,rt=$.memoizedProps,it=nt.value,G$1(Mg,tt._currentValue),tt._currentValue=it,rt!==null)if(He(rt.value,it)){if(rt.children===nt.children&&!Wf.current){$=$i(_e,$,et);break e}}else for(rt=$.child,rt!==null&&(rt.return=$);rt!==null;){var ot=rt.dependencies;if(ot!==null){it=rt.child;for(var lt=ot.firstContext;lt!==null;){if(lt.context===tt){if(rt.tag===1){lt=ch(-1,et&-et),lt.tag=2;var ut=rt.updateQueue;if(ut!==null){ut=ut.shared;var ct=ut.pending;ct===null?lt.next=lt:(lt.next=ct.next,ct.next=lt),ut.pending=lt}}rt.lanes|=et,lt=rt.alternate,lt!==null&&(lt.lanes|=et),Sg(rt.return,et,$),ot.lanes|=et;break}lt=lt.next}}else if(rt.tag===10)it=rt.type===$.type?null:rt.child;else if(rt.tag===18){if(it=rt.return,it===null)throw Error(p$5(341));it.lanes|=et,ot=it.alternate,ot!==null&&(ot.lanes|=et),Sg(it,et,$),it=rt.sibling}else it=rt.child;if(it!==null)it.return=rt;else for(it=rt;it!==null;){if(it===$){it=null;break}if(rt=it.sibling,rt!==null){rt.return=it.return,it=rt;break}it=it.return}rt=it}Yi(_e,$,nt.children,et),$=$.child}return $;case 9:return nt=$.type,tt=$.pendingProps.children,Tg($,et),nt=Vg(nt),tt=tt(nt),$.flags|=1,Yi(_e,$,tt,et),$.child;case 14:return tt=$.type,nt=Lg(tt,$.pendingProps),nt=Lg(tt.type,nt),aj(_e,$,tt,nt,et);case 15:return cj(_e,$,$.type,$.pendingProps,et);case 17:return tt=$.type,nt=$.pendingProps,nt=$.elementType===tt?nt:Lg(tt,nt),jj(_e,$),$.tag=1,Zf(tt)?(_e=!0,cg($)):_e=!1,Tg($,et),ph($,tt,nt),rh($,tt,nt,et),kj(null,$,tt,!0,_e,et);case 19:return yj(_e,$,et);case 22:return ej(_e,$,et)}throw Error(p$5(156,$.tag))};function Gk(_e,$){return ac(_e,$)}function al(_e,$,et,tt){this.tag=_e,this.key=et,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=tt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,$,et,tt){return new al(_e,$,et,tt)}function bj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function $k(_e){if(typeof _e=="function")return bj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function wh(_e,$){var et=_e.alternate;return et===null?(et=Bg(_e.tag,$,_e.key,_e.mode),et.elementType=_e.elementType,et.type=_e.type,et.stateNode=_e.stateNode,et.alternate=_e,_e.alternate=et):(et.pendingProps=$,et.type=_e.type,et.flags=0,et.subtreeFlags=0,et.deletions=null),et.flags=_e.flags&14680064,et.childLanes=_e.childLanes,et.lanes=_e.lanes,et.child=_e.child,et.memoizedProps=_e.memoizedProps,et.memoizedState=_e.memoizedState,et.updateQueue=_e.updateQueue,$=_e.dependencies,et.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},et.sibling=_e.sibling,et.index=_e.index,et.ref=_e.ref,et}function yh(_e,$,et,tt,nt,rt){var it=2;if(tt=_e,typeof _e=="function")bj(_e)&&(it=1);else if(typeof _e=="string")it=5;else e:switch(_e){case ya:return Ah(et.children,nt,rt,$);case za:it=8,nt|=8;break;case Aa:return _e=Bg(12,et,$,nt|2),_e.elementType=Aa,_e.lanes=rt,_e;case Ea:return _e=Bg(13,et,$,nt),_e.elementType=Ea,_e.lanes=rt,_e;case Fa:return _e=Bg(19,et,$,nt),_e.elementType=Fa,_e.lanes=rt,_e;case Ia:return qj(et,nt,rt,$);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:it=10;break e;case Ca:it=9;break e;case Da:it=11;break e;case Ga:it=14;break e;case Ha:it=16,tt=null;break e}throw Error(p$5(130,_e==null?_e:typeof _e,""))}return $=Bg(it,et,$,nt),$.elementType=_e,$.type=tt,$.lanes=rt,$}function Ah(_e,$,et,tt){return _e=Bg(7,_e,tt,$),_e.lanes=et,_e}function qj(_e,$,et,tt){return _e=Bg(22,_e,tt,$),_e.elementType=Ia,_e.lanes=et,_e.stateNode={isHidden:!1},_e}function xh(_e,$,et){return _e=Bg(6,_e,null,$),_e.lanes=et,_e}function zh(_e,$,et){return $=Bg(4,_e.children!==null?_e.children:[],_e.key,$),$.lanes=et,$.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},$}function bl(_e,$,et,tt,nt){this.tag=$,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=tt,this.onRecoverableError=nt,this.mutableSourceEagerHydrationData=null}function cl(_e,$,et,tt,nt,rt,it,ot,lt){return _e=new bl(_e,$,et,ot,lt),$===1?($=1,rt===!0&&($|=8)):$=0,rt=Bg(3,null,null,$),_e.current=rt,rt.stateNode=_e,rt.memoizedState={element:tt,isDehydrated:et,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(rt),_e}function dl(_e,$,et){var tt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:tt==null?null:""+tt,children:_e,containerInfo:$,implementation:et}}function el(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$5(170));var $=_e;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$5(171))}if(_e.tag===1){var et=_e.type;if(Zf(et))return bg(_e,et,$)}return $}function fl(_e,$,et,tt,nt,rt,it,ot,lt){return _e=cl(et,tt,!0,_e,nt,rt,it,ot,lt),_e.context=el(null),et=_e.current,tt=L$1(),nt=lh(et),rt=ch(tt,nt),rt.callback=$??null,dh(et,rt,nt),_e.current.lanes=nt,Ac(_e,nt,tt),Ek(_e,tt),_e}function gl(_e,$,et,tt){var nt=$.current,rt=L$1(),it=lh(nt);return et=el(et),$.context===null?$.context=et:$.pendingContext=et,$=ch(rt,it),$.payload={element:_e},tt=tt===void 0?null:tt,tt!==null&&($.callback=tt),_e=dh(nt,$,it),_e!==null&&(mh(_e,nt,it,rt),eh(_e,nt,it)),it}function hl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function il(_e,$){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var et=_e.retryLane;_e.retryLane=et!==0&&et<$?et:$}}function jl(_e,$){il(_e,$),(_e=_e.alternate)&&il(_e,$)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ml(_e){this._internalRoot=_e}nl.prototype.render=ml.prototype.render=function(_e){var $=this._internalRoot;if($===null)throw Error(p$5(409));gl(_e,$,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var $=_e.containerInfo;Sk(function(){gl(null,_e,null,null)}),$[uf]=null}};function nl(_e){this._internalRoot=_e}nl.prototype.unstable_scheduleHydration=function(_e){if(_e){var $=Hc();_e={blockedOn:null,target:_e,priority:$};for(var et=0;et<Qc.length&&$!==0&&$<Qc[et].priority;et++);Qc.splice(et,0,_e),et===0&&Vc(_e)}};function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function pl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_e,$,et,tt,nt){if(nt){if(typeof tt=="function"){var rt=tt;tt=function(){var ut=hl(it);rt.call(ut)}}var it=fl($,tt,_e,0,null,!1,!1,"",ql);return _e._reactRootContainer=it,_e[uf]=it.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(),it}for(;nt=_e.lastChild;)_e.removeChild(nt);if(typeof tt=="function"){var ot=tt;tt=function(){var ut=hl(lt);ot.call(ut)}}var lt=cl(_e,0,!1,null,null,!1,!1,"",ql);return _e._reactRootContainer=lt,_e[uf]=lt.current,sf(_e.nodeType===8?_e.parentNode:_e),Sk(function(){gl($,lt,et,tt)}),lt}function sl(_e,$,et,tt,nt){var rt=et._reactRootContainer;if(rt){var it=rt;if(typeof nt=="function"){var ot=nt;nt=function(){var lt=hl(it);ot.call(lt)}}gl($,it,_e,nt)}else it=rl(et,$,_e,nt,tt);return hl(it)}Ec=function(_e){switch(_e.tag){case 3:var $=_e.stateNode;if($.current.memoizedState.isDehydrated){var et=tc($.pendingLanes);et!==0&&(Cc($,et|1),Ek($,B$1()),!(K&6)&&(Hj=B$1()+500,jg()))}break;case 13:Sk(function(){var tt=Zg(_e,1);if(tt!==null){var nt=L$1();mh(tt,_e,1,nt)}}),jl(_e,1)}};Fc=function(_e){if(_e.tag===13){var $=Zg(_e,134217728);if($!==null){var et=L$1();mh($,_e,134217728,et)}jl(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var $=lh(_e),et=Zg(_e,$);if(et!==null){var tt=L$1();mh(et,_e,$,tt)}jl(_e,$)}};Hc=function(){return C$1};Ic=function(_e,$){var et=C$1;try{return C$1=_e,$()}finally{C$1=et}};yb=function(_e,$,et){switch($){case"input":if(bb(_e,et),$=et.name,et.type==="radio"&&$!=null){for(et=_e;et.parentNode;)et=et.parentNode;for(et=et.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<et.length;$++){var tt=et[$];if(tt!==_e&&tt.form===_e.form){var nt=Db(tt);if(!nt)throw Error(p$5(90));Wa(tt),bb(tt,nt)}}}break;case"textarea":ib(_e,et);break;case"select":$=et.value,$!=null&&fb(_e,!!et.multiple,$,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(_e,$){var et=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol($))throw Error(p$5(200));return dl(_e,$,null,et)};reactDom_production_min.createRoot=function(_e,$){if(!ol(_e))throw Error(p$5(299));var et=!1,tt="",nt=ll;return $!=null&&($.unstable_strictMode===!0&&(et=!0),$.identifierPrefix!==void 0&&(tt=$.identifierPrefix),$.onRecoverableError!==void 0&&(nt=$.onRecoverableError)),$=cl(_e,1,!1,null,null,et,!1,tt,nt),_e[uf]=$.current,sf(_e.nodeType===8?_e.parentNode:_e),new ml($)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var $=_e._reactInternals;if($===void 0)throw typeof _e.render=="function"?Error(p$5(188)):(_e=Object.keys(_e).join(","),Error(p$5(268,_e)));return _e=Zb($),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Sk(_e)};reactDom_production_min.hydrate=function(_e,$,et){if(!pl($))throw Error(p$5(200));return sl(null,_e,$,!0,et)};reactDom_production_min.hydrateRoot=function(_e,$,et){if(!ol(_e))throw Error(p$5(405));var tt=et!=null&&et.hydratedSources||null,nt=!1,rt="",it=ll;if(et!=null&&(et.unstable_strictMode===!0&&(nt=!0),et.identifierPrefix!==void 0&&(rt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),$=fl($,null,_e,1,et??null,nt,!1,rt,it),_e[uf]=$.current,sf(_e),tt)for(_e=0;_e<tt.length;_e++)et=tt[_e],nt=et._getVersion,nt=nt(et._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[et,nt]:$.mutableSourceEagerHydrationData.push(et,nt);return new nl($)};reactDom_production_min.render=function(_e,$,et){if(!pl($))throw Error(p$5(200));return sl(null,_e,$,!1,et)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!pl(_e))throw Error(p$5(40));return _e._reactRootContainer?(Sk(function(){sl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,$,et,tt){if(!pl(et))throw Error(p$5(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$5(38));return sl(_e,$,et,!1,tt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;function n$4(_e){for(var $=arguments.length,et=Array($>1?$-1:0),tt=1;tt<$;tt++)et[tt-1]=arguments[tt];throw Error("[Immer] minified error nr: "+_e+(et.length?" "+et.map(function(nt){return"'"+nt+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$3(_e){return!!_e&&!!_e[Q]}function t$5(_e){var $;return!!_e&&(function(et){if(!et||typeof et!="object")return!1;var tt=Object.getPrototypeOf(et);if(tt===null)return!0;var nt=Object.hasOwnProperty.call(tt,"constructor")&&tt.constructor;return nt===Object||typeof nt=="function"&&Function.toString.call(nt)===Z}(_e)||Array.isArray(_e)||!!_e[L]||!!(!(($=_e.constructor)===null||$===void 0)&&$[L])||s(_e)||v$3(_e))}function i$1(_e,$,et){et===void 0&&(et=!1),o(_e)===0?(et?Object.keys:nn)(_e).forEach(function(tt){et&&typeof tt=="symbol"||$(tt,_e[tt],_e)}):_e.forEach(function(tt,nt){return $(nt,tt,_e)})}function o(_e){var $=_e[Q];return $?$.i>3?$.i-4:$.i:Array.isArray(_e)?1:s(_e)?2:v$3(_e)?3:0}function u$3(_e,$){return o(_e)===2?_e.has($):Object.prototype.hasOwnProperty.call(_e,$)}function a(_e,$){return o(_e)===2?_e.get($):_e[$]}function f$2(_e,$,et){var tt=o(_e);tt===2?_e.set($,et):tt===3?_e.add(et):_e[$]=et}function c$2(_e,$){return _e===$?_e!==0||1/_e==1/$:_e!=_e&&$!=$}function s(_e){return X&&_e instanceof Map}function v$3(_e){return q$4&&_e instanceof Set}function p$4(_e){return _e.o||_e.t}function l$3(_e){if(Array.isArray(_e))return Array.prototype.slice.call(_e);var $=rn(_e);delete $[Q];for(var et=nn($),tt=0;tt<et.length;tt++){var nt=et[tt],rt=$[nt];rt.writable===!1&&(rt.writable=!0,rt.configurable=!0),(rt.get||rt.set)&&($[nt]={configurable:!0,writable:!0,enumerable:rt.enumerable,value:_e[nt]})}return Object.create(Object.getPrototypeOf(_e),$)}function d$2(_e,$){return $===void 0&&($=!1),y$1(_e)||r$3(_e)||!t$5(_e)||(o(_e)>1&&(_e.set=_e.add=_e.clear=_e.delete=h$4),Object.freeze(_e),$&&i$1(_e,function(et,tt){return d$2(tt,!0)},!0)),_e}function h$4(){n$4(2)}function y$1(_e){return _e==null||typeof _e!="object"||Object.isFrozen(_e)}function b$2(_e){var $=tn[_e];return $||n$4(18,_e),$}function m$3(_e,$){tn[_e]||(tn[_e]=$)}function _(){return U}function j(_e,$){$&&(b$2("Patches"),_e.u=[],_e.s=[],_e.v=$)}function g$2(_e){O(_e),_e.p.forEach(S),_e.p=null}function O(_e){_e===U&&(U=_e.l)}function w$2(_e){return U={p:[],l:U,h:_e,m:!0,_:0}}function S(_e){var $=_e[Q];$.i===0||$.i===1?$.j():$.g=!0}function P(_e,$){$._=$.p.length;var et=$.p[0],tt=_e!==void 0&&_e!==et;return $.h.O||b$2("ES5").S($,_e,tt),tt?(et[Q].P&&(g$2($),n$4(4)),t$5(_e)&&(_e=M($,_e),$.l||x$1($,_e)),$.u&&b$2("Patches").M(et[Q].t,_e,$.u,$.s)):_e=M($,et,[]),g$2($),$.u&&$.v($.u,$.s),_e!==H?_e:void 0}function M(_e,$,et){if(y$1($))return $;var tt=$[Q];if(!tt)return i$1($,function(ot,lt){return A$1(_e,tt,$,ot,lt,et)},!0),$;if(tt.A!==_e)return $;if(!tt.P)return x$1(_e,tt.t,!0),tt.t;if(!tt.I){tt.I=!0,tt.A._--;var nt=tt.i===4||tt.i===5?tt.o=l$3(tt.k):tt.o,rt=nt,it=!1;tt.i===3&&(rt=new Set(nt),nt.clear(),it=!0),i$1(rt,function(ot,lt){return A$1(_e,tt,nt,ot,lt,et,it)}),x$1(_e,nt,!1),et&&_e.u&&b$2("Patches").N(tt,et,_e.u,_e.s)}return tt.o}function A$1(_e,$,et,tt,nt,rt,it){if(r$3(nt)){var ot=M(_e,nt,rt&&$&&$.i!==3&&!u$3($.R,tt)?rt.concat(tt):void 0);if(f$2(et,tt,ot),!r$3(ot))return;_e.m=!1}else it&&et.add(nt);if(t$5(nt)&&!y$1(nt)){if(!_e.h.D&&_e._<1)return;M(_e,nt),$&&$.A.l||x$1(_e,nt)}}function x$1(_e,$,et){et===void 0&&(et=!1),!_e.l&&_e.h.D&&_e.m&&d$2($,et)}function z$1(_e,$){var et=_e[Q];return(et?p$4(et):_e)[$]}function I(_e,$){if($ in _e)for(var et=Object.getPrototypeOf(_e);et;){var tt=Object.getOwnPropertyDescriptor(et,$);if(tt)return tt;et=Object.getPrototypeOf(et)}}function k$3(_e){_e.P||(_e.P=!0,_e.l&&k$3(_e.l))}function E(_e){_e.o||(_e.o=l$3(_e.t))}function N(_e,$,et){var tt=s($)?b$2("MapSet").F($,et):v$3($)?b$2("MapSet").T($,et):_e.O?function(nt,rt){var it=Array.isArray(nt),ot={i:it?1:0,A:rt?rt.A:_(),P:!1,I:!1,R:{},l:rt,t:nt,k:null,o:null,j:null,C:!1},lt=ot,ut=en;it&&(lt=[ot],ut=on);var ct=Proxy.revocable(lt,ut),ht=ct.revoke,dt=ct.proxy;return ot.k=dt,ot.j=ht,dt}($,et):b$2("ES5").J($,et);return(et?et.A:_()).p.push(tt),tt}function R(_e){return r$3(_e)||n$4(22,_e),function $(et){if(!t$5(et))return et;var tt,nt=et[Q],rt=o(et);if(nt){if(!nt.P&&(nt.i<4||!b$2("ES5").K(nt)))return nt.t;nt.I=!0,tt=D(et,rt),nt.I=!1}else tt=D(et,rt);return i$1(tt,function(it,ot){nt&&a(nt.t,it)===ot||f$2(tt,it,$(ot))}),rt===3?new Set(tt):tt}(_e)}function D(_e,$){switch($){case 2:return new Map(_e);case 3:return Array.from(_e)}return l$3(_e)}function F(){function _e(rt,it){var ot=nt[rt];return ot?ot.enumerable=it:nt[rt]=ot={configurable:!0,enumerable:it,get:function(){var lt=this[Q];return en.get(lt,rt)},set:function(lt){var ut=this[Q];en.set(ut,rt,lt)}},ot}function $(rt){for(var it=rt.length-1;it>=0;it--){var ot=rt[it][Q];if(!ot.P)switch(ot.i){case 5:tt(ot)&&k$3(ot);break;case 4:et(ot)&&k$3(ot)}}}function et(rt){for(var it=rt.t,ot=rt.k,lt=nn(ot),ut=lt.length-1;ut>=0;ut--){var ct=lt[ut];if(ct!==Q){var ht=it[ct];if(ht===void 0&&!u$3(it,ct))return!0;var dt=ot[ct],mt=dt&&dt[Q];if(mt?mt.t!==ht:!c$2(dt,ht))return!0}}var gt=!!it[Q];return lt.length!==nn(it).length+(gt?0:1)}function tt(rt){var it=rt.k;if(it.length!==rt.t.length)return!0;var ot=Object.getOwnPropertyDescriptor(it,it.length-1);if(ot&&!ot.get)return!0;for(var lt=0;lt<it.length;lt++)if(!it.hasOwnProperty(lt))return!0;return!1}var nt={};m$3("ES5",{J:function(rt,it){var ot=Array.isArray(rt),lt=function(ct,ht){if(ct){for(var dt=Array(ht.length),mt=0;mt<ht.length;mt++)Object.defineProperty(dt,""+mt,_e(mt,!0));return dt}var gt=rn(ht);delete gt[Q];for(var Ot=nn(gt),wt=0;wt<Ot.length;wt++){var St=Ot[wt];gt[St]=_e(St,ct||!!gt[St].enumerable)}return Object.create(Object.getPrototypeOf(ht),gt)}(ot,rt),ut={i:ot?5:4,A:it?it.A:_(),P:!1,I:!1,R:{},l:it,t:rt,k:lt,o:null,g:!1,C:!1};return Object.defineProperty(lt,Q,{value:ut,writable:!0}),lt},S:function(rt,it,ot){ot?r$3(it)&&it[Q].A===rt&&$(rt.p):(rt.u&&function lt(ut){if(ut&&typeof ut=="object"){var ct=ut[Q];if(ct){var ht=ct.t,dt=ct.k,mt=ct.R,gt=ct.i;if(gt===4)i$1(dt,function(Tt){Tt!==Q&&(ht[Tt]!==void 0||u$3(ht,Tt)?mt[Tt]||lt(dt[Tt]):(mt[Tt]=!0,k$3(ct)))}),i$1(ht,function(Tt){dt[Tt]!==void 0||u$3(dt,Tt)||(mt[Tt]=!1,k$3(ct))});else if(gt===5){if(tt(ct)&&(k$3(ct),mt.length=!0),dt.length<ht.length)for(var Ot=dt.length;Ot<ht.length;Ot++)mt[Ot]=!1;else for(var wt=ht.length;wt<dt.length;wt++)mt[wt]=!0;for(var St=Math.min(dt.length,ht.length),vt=0;vt<St;vt++)dt.hasOwnProperty(vt)||(mt[vt]=!0),mt[vt]===void 0&&lt(dt[vt])}}}}(rt.p[0]),$(rt.p))},K:function(rt){return rt.i===4?et(rt):tt(rt)}})}var G,U,W=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X=typeof Map<"u",q$4=typeof Set<"u",B=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H=W?Symbol.for("immer-nothing"):((G={})["immer-nothing"]=!0,G),L=W?Symbol.for("immer-draftable"):"__$immer_draftable",Q=W?Symbol.for("immer-state"):"__$immer_state",Z=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(_e){return Object.getOwnPropertyNames(_e).concat(Object.getOwnPropertySymbols(_e))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(_e){var $={};return nn(_e).forEach(function(et){$[et]=Object.getOwnPropertyDescriptor(_e,et)}),$},tn={},en={get:function(_e,$){if($===Q)return _e;var et=p$4(_e);if(!u$3(et,$))return function(nt,rt,it){var ot,lt=I(rt,it);return lt?"value"in lt?lt.value:(ot=lt.get)===null||ot===void 0?void 0:ot.call(nt.k):void 0}(_e,et,$);var tt=et[$];return _e.I||!t$5(tt)?tt:tt===z$1(_e.t,$)?(E(_e),_e.o[$]=N(_e.A.h,tt,_e)):tt},has:function(_e,$){return $ in p$4(_e)},ownKeys:function(_e){return Reflect.ownKeys(p$4(_e))},set:function(_e,$,et){var tt=I(p$4(_e),$);if(tt?.set)return tt.set.call(_e.k,et),!0;if(!_e.P){var nt=z$1(p$4(_e),$),rt=nt?.[Q];if(rt&&rt.t===et)return _e.o[$]=et,_e.R[$]=!1,!0;if(c$2(et,nt)&&(et!==void 0||u$3(_e.t,$)))return!0;E(_e),k$3(_e)}return _e.o[$]===et&&(et!==void 0||$ in _e.o)||Number.isNaN(et)&&Number.isNaN(_e.o[$])||(_e.o[$]=et,_e.R[$]=!0),!0},deleteProperty:function(_e,$){return z$1(_e.t,$)!==void 0||$ in _e.t?(_e.R[$]=!1,E(_e),k$3(_e)):delete _e.R[$],_e.o&&delete _e.o[$],!0},getOwnPropertyDescriptor:function(_e,$){var et=p$4(_e),tt=Reflect.getOwnPropertyDescriptor(et,$);return tt&&{writable:!0,configurable:_e.i!==1||$!=="length",enumerable:tt.enumerable,value:et[$]}},defineProperty:function(){n$4(11)},getPrototypeOf:function(_e){return Object.getPrototypeOf(_e.t)},setPrototypeOf:function(){n$4(12)}},on={};i$1(en,function(_e,$){on[_e]=function(){return arguments[0]=arguments[0][0],$.apply(this,arguments)}}),on.deleteProperty=function(_e,$){return on.set.call(this,_e,$,void 0)},on.set=function(_e,$,et){return en.set.call(this,_e[0],$,et,_e[0])};var un=function(){function _e(et){var tt=this;this.O=B,this.D=!0,this.produce=function(nt,rt,it){if(typeof nt=="function"&&typeof rt!="function"){var ot=rt;rt=nt;var lt=tt;return function(Ot){var wt=this;Ot===void 0&&(Ot=ot);for(var St=arguments.length,vt=Array(St>1?St-1:0),Tt=1;Tt<St;Tt++)vt[Tt-1]=arguments[Tt];return lt.produce(Ot,function(Et){var Pt;return(Pt=rt).call.apply(Pt,[wt,Et].concat(vt))})}}var ut;if(typeof rt!="function"&&n$4(6),it!==void 0&&typeof it!="function"&&n$4(7),t$5(nt)){var ct=w$2(tt),ht=N(tt,nt,void 0),dt=!0;try{ut=rt(ht),dt=!1}finally{dt?g$2(ct):O(ct)}return typeof Promise<"u"&&ut instanceof Promise?ut.then(function(Ot){return j(ct,it),P(Ot,ct)},function(Ot){throw g$2(ct),Ot}):(j(ct,it),P(ut,ct))}if(!nt||typeof nt!="object"){if((ut=rt(nt))===void 0&&(ut=nt),ut===H&&(ut=void 0),tt.D&&d$2(ut,!0),it){var mt=[],gt=[];b$2("Patches").M(nt,ut,mt,gt),it(mt,gt)}return ut}n$4(21,nt)},this.produceWithPatches=function(nt,rt){if(typeof nt=="function")return function(ut){for(var ct=arguments.length,ht=Array(ct>1?ct-1:0),dt=1;dt<ct;dt++)ht[dt-1]=arguments[dt];return tt.produceWithPatches(ut,function(mt){return nt.apply(void 0,[mt].concat(ht))})};var it,ot,lt=tt.produce(nt,rt,function(ut,ct){it=ut,ot=ct});return typeof Promise<"u"&&lt instanceof Promise?lt.then(function(ut){return[ut,it,ot]}):[lt,it,ot]},typeof et?.useProxies=="boolean"&&this.setUseProxies(et.useProxies),typeof et?.autoFreeze=="boolean"&&this.setAutoFreeze(et.autoFreeze)}var $=_e.prototype;return $.createDraft=function(et){t$5(et)||n$4(8),r$3(et)&&(et=R(et));var tt=w$2(this),nt=N(this,et,void 0);return nt[Q].C=!0,O(tt),nt},$.finishDraft=function(et,tt){var nt=et&&et[Q],rt=nt.A;return j(rt,tt),P(void 0,rt)},$.setAutoFreeze=function(et){this.D=et},$.setUseProxies=function(et){et&&!B&&n$4(20),this.O=et},$.applyPatches=function(et,tt){var nt;for(nt=tt.length-1;nt>=0;nt--){var rt=tt[nt];if(rt.path.length===0&&rt.op==="replace"){et=rt.value;break}}nt>-1&&(tt=tt.slice(nt+1));var it=b$2("Patches").$;return r$3(et)?it(et,tt):this.produce(et,function(ot){return it(ot,tt)})},_e}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);function _typeof$1(_e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof$1(_e)}function _toPrimitive(_e,$){if(_typeof$1(_e)!=="object"||_e===null)return _e;var et=_e[Symbol.toPrimitive];if(et!==void 0){var tt=et.call(_e,$||"default");if(_typeof$1(tt)!=="object")return tt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function _toPropertyKey(_e){var $=_toPrimitive(_e,"string");return _typeof$1($)==="symbol"?$:String($)}function _defineProperty(_e,$,et){return $=_toPropertyKey($),$ in _e?Object.defineProperty(_e,$,{value:et,enumerable:!0,configurable:!0,writable:!0}):_e[$]=et,_e}function ownKeys(_e,$){var et=Object.keys(_e);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(_e);$&&(tt=tt.filter(function(nt){return Object.getOwnPropertyDescriptor(_e,nt).enumerable})),et.push.apply(et,tt)}return et}function _objectSpread2(_e){for(var $=1;$<arguments.length;$++){var et=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(et),!0).forEach(function(tt){_defineProperty(_e,tt,et[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(et)):ownKeys(Object(et)).forEach(function(tt){Object.defineProperty(_e,tt,Object.getOwnPropertyDescriptor(et,tt))})}return _e}function formatProdErrorMessage(_e){return"Minified Redux error #"+_e+"; visit https://redux.js.org/Errors?code="+_e+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$1(_e){if(typeof _e!="object"||_e===null)return!1;for(var $=_e;Object.getPrototypeOf($)!==null;)$=Object.getPrototypeOf($);return Object.getPrototypeOf(_e)===$}function createStore(_e,$,et){var tt;if(typeof $=="function"&&typeof et=="function"||typeof et=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof $=="function"&&typeof et>"u"&&(et=$,$=void 0),typeof et<"u"){if(typeof et!="function")throw new Error(formatProdErrorMessage(1));return et(createStore)(_e,$)}if(typeof _e!="function")throw new Error(formatProdErrorMessage(2));var nt=_e,rt=$,it=[],ot=it,lt=!1;function ut(){ot===it&&(ot=it.slice())}function ct(){if(lt)throw new Error(formatProdErrorMessage(3));return rt}function ht(Ot){if(typeof Ot!="function")throw new Error(formatProdErrorMessage(4));if(lt)throw new Error(formatProdErrorMessage(5));var wt=!0;return ut(),ot.push(Ot),function(){if(wt){if(lt)throw new Error(formatProdErrorMessage(6));wt=!1,ut();var vt=ot.indexOf(Ot);ot.splice(vt,1),it=null}}}function dt(Ot){if(!isPlainObject$1(Ot))throw new Error(formatProdErrorMessage(7));if(typeof Ot.type>"u")throw new Error(formatProdErrorMessage(8));if(lt)throw new Error(formatProdErrorMessage(9));try{lt=!0,rt=nt(rt,Ot)}finally{lt=!1}for(var wt=it=ot,St=0;St<wt.length;St++){var vt=wt[St];vt()}return Ot}function mt(Ot){if(typeof Ot!="function")throw new Error(formatProdErrorMessage(10));nt=Ot,dt({type:ActionTypes.REPLACE})}function gt(){var Ot,wt=ht;return Ot={subscribe:function(vt){if(typeof vt!="object"||vt===null)throw new Error(formatProdErrorMessage(11));function Tt(){vt.next&&vt.next(ct())}Tt();var Et=wt(Tt);return{unsubscribe:Et}}},Ot[$$observable]=function(){return this},Ot}return dt({type:ActionTypes.INIT}),tt={dispatch:dt,subscribe:ht,getState:ct,replaceReducer:mt},tt[$$observable]=gt,tt}function assertReducerShape(_e){Object.keys(_e).forEach(function($){var et=_e[$],tt=et(void 0,{type:ActionTypes.INIT});if(typeof tt>"u")throw new Error(formatProdErrorMessage(12));if(typeof et(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(_e){for(var $=Object.keys(_e),et={},tt=0;tt<$.length;tt++){var nt=$[tt];typeof _e[nt]=="function"&&(et[nt]=_e[nt])}var rt=Object.keys(et),it;try{assertReducerShape(et)}catch(ot){it=ot}return function(lt,ut){if(lt===void 0&&(lt={}),it)throw it;for(var ct=!1,ht={},dt=0;dt<rt.length;dt++){var mt=rt[dt],gt=et[mt],Ot=lt[mt],wt=gt(Ot,ut);if(typeof wt>"u")throw ut&&ut.type,new Error(formatProdErrorMessage(14));ht[mt]=wt,ct=ct||wt!==Ot}return ct=ct||rt.length!==Object.keys(lt).length,ct?ht:lt}}function compose(){for(var _e=arguments.length,$=new Array(_e),et=0;et<_e;et++)$[et]=arguments[et];return $.length===0?function(tt){return tt}:$.length===1?$[0]:$.reduce(function(tt,nt){return function(){return tt(nt.apply(void 0,arguments))}})}function applyMiddleware(){for(var _e=arguments.length,$=new Array(_e),et=0;et<_e;et++)$[et]=arguments[et];return function(tt){return function(){var nt=tt.apply(void 0,arguments),rt=function(){throw new Error(formatProdErrorMessage(15))},it={getState:nt.getState,dispatch:function(){return rt.apply(void 0,arguments)}},ot=$.map(function(lt){return lt(it)});return rt=compose.apply(void 0,ot)(nt.dispatch),_objectSpread2(_objectSpread2({},nt),{},{dispatch:rt})}}}function createThunkMiddleware(_e){var $=function(tt){var nt=tt.dispatch,rt=tt.getState;return function(it){return function(ot){return typeof ot=="function"?ot(nt,rt,_e):it(ot)}}};return $}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const thunkMiddleware=thunk;var __extends=function(){var _e=function($,et){return _e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(tt,nt){tt.__proto__=nt}||function(tt,nt){for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])},_e($,et)};return function($,et){if(typeof et!="function"&&et!==null)throw new TypeError("Class extends value "+String(et)+" is not a constructor or null");_e($,et);function tt(){this.constructor=$}$.prototype=et===null?Object.create(et):(tt.prototype=et.prototype,new tt)}}(),__generator=function(_e,$){var et={label:0,sent:function(){if(rt[0]&1)throw rt[1];return rt[1]},trys:[],ops:[]},tt,nt,rt,it;return it={next:ot(0),throw:ot(1),return:ot(2)},typeof Symbol=="function"&&(it[Symbol.iterator]=function(){return this}),it;function ot(ut){return function(ct){return lt([ut,ct])}}function lt(ut){if(tt)throw new TypeError("Generator is already executing.");for(;et;)try{if(tt=1,nt&&(rt=ut[0]&2?nt.return:ut[0]?nt.throw||((rt=nt.return)&&rt.call(nt),0):nt.next)&&!(rt=rt.call(nt,ut[1])).done)return rt;switch(nt=0,rt&&(ut=[ut[0]&2,rt.value]),ut[0]){case 0:case 1:rt=ut;break;case 4:return et.label++,{value:ut[1],done:!1};case 5:et.label++,nt=ut[1],ut=[0];continue;case 7:ut=et.ops.pop(),et.trys.pop();continue;default:if(rt=et.trys,!(rt=rt.length>0&&rt[rt.length-1])&&(ut[0]===6||ut[0]===2)){et=0;continue}if(ut[0]===3&&(!rt||ut[1]>rt[0]&&ut[1]<rt[3])){et.label=ut[1];break}if(ut[0]===6&&et.label<rt[1]){et.label=rt[1],rt=ut;break}if(rt&&et.label<rt[2]){et.label=rt[2],et.ops.push(ut);break}rt[2]&&et.ops.pop(),et.trys.pop();continue}ut=$.call(_e,et)}catch(ct){ut=[6,ct],nt=0}finally{tt=rt=0}if(ut[0]&5)throw ut[1];return{value:ut[0]?ut[1]:void 0,done:!0}}},__spreadArray=function(_e,$){for(var et=0,tt=$.length,nt=_e.length;et<tt;et++,nt++)_e[nt]=$[et];return _e},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(_e,$,et){return $ in _e?__defProp(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:et}):_e[$]=et},__spreadValues=function(_e,$){for(var et in $||($={}))__hasOwnProp.call($,et)&&__defNormalProp(_e,et,$[et]);if(__getOwnPropSymbols)for(var tt=0,nt=__getOwnPropSymbols($);tt<nt.length;tt++){var et=nt[tt];__propIsEnum.call($,et)&&__defNormalProp(_e,et,$[et])}return _e},__spreadProps=function(_e,$){return __defProps(_e,__getOwnPropDescs($))},__async=function(_e,$,et){return new Promise(function(tt,nt){var rt=function(lt){try{ot(et.next(lt))}catch(ut){nt(ut)}},it=function(lt){try{ot(et.throw(lt))}catch(ut){nt(ut)}},ot=function(lt){return lt.done?tt(lt.value):Promise.resolve(lt.value).then(rt,it)};ot((et=et.apply(_e,$)).next())})},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject(_e){if(typeof _e!="object"||_e===null)return!1;var $=Object.getPrototypeOf(_e);if($===null)return!0;for(var et=$;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return $===et}function createAction(_e,$){function et(){for(var tt=[],nt=0;nt<arguments.length;nt++)tt[nt]=arguments[nt];if($){var rt=$.apply(void 0,tt);if(!rt)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:_e,payload:rt.payload},"meta"in rt&&{meta:rt.meta}),"error"in rt&&{error:rt.error})}return{type:_e,payload:tt[0]}}return et.toString=function(){return""+_e},et.type=_e,et.match=function(tt){return tt.type===_e},et}var MiddlewareArray=function(_e){__extends($,_e);function $(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var nt=_e.apply(this,et)||this;return Object.setPrototypeOf(nt,$.prototype),nt}return Object.defineProperty($,Symbol.species,{get:function(){return $},enumerable:!1,configurable:!0}),$.prototype.concat=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return _e.prototype.concat.apply(this,et)},$.prototype.prepend=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return et.length===1&&Array.isArray(et[0])?new($.bind.apply($,__spreadArray([void 0],et[0].concat(this)))):new($.bind.apply($,__spreadArray([void 0],et.concat(this))))},$}(Array),EnhancerArray=function(_e){__extends($,_e);function $(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];var nt=_e.apply(this,et)||this;return Object.setPrototypeOf(nt,$.prototype),nt}return Object.defineProperty($,Symbol.species,{get:function(){return $},enumerable:!1,configurable:!0}),$.prototype.concat=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return _e.prototype.concat.apply(this,et)},$.prototype.prepend=function(){for(var et=[],tt=0;tt<arguments.length;tt++)et[tt]=arguments[tt];return et.length===1&&Array.isArray(et[0])?new($.bind.apply($,__spreadArray([void 0],et[0].concat(this)))):new($.bind.apply($,__spreadArray([void 0],et.concat(this))))},$}(Array);function freezeDraftable(_e){return t$5(_e)?fn(_e,function(){}):_e}function isBoolean(_e){return typeof _e=="boolean"}function curryGetDefaultMiddleware(){return function($){return getDefaultMiddleware($)}}function getDefaultMiddleware(_e){_e===void 0&&(_e={});var $=_e.thunk,et=$===void 0?!0:$;_e.immutableCheck,_e.serializableCheck,_e.actionCreatorCheck;var tt=new MiddlewareArray;return et&&(isBoolean(et)?tt.push(thunkMiddleware):tt.push(thunkMiddleware.withExtraArgument(et.extraArgument))),tt}var IS_PRODUCTION=!0;function configureStore(_e){var $=curryGetDefaultMiddleware(),et=_e||{},tt=et.reducer,nt=tt===void 0?void 0:tt,rt=et.middleware,it=rt===void 0?$():rt,ot=et.devTools,lt=ot===void 0?!0:ot,ut=et.preloadedState,ct=ut===void 0?void 0:ut,ht=et.enhancers,dt=ht===void 0?void 0:ht,mt;if(typeof nt=="function")mt=nt;else if(isPlainObject(nt))mt=combineReducers(nt);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var gt=it;typeof gt=="function"&&(gt=gt($));var Ot=applyMiddleware.apply(void 0,gt),wt=compose;lt&&(wt=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},typeof lt=="object"&&lt)));var St=new EnhancerArray(Ot),vt=St;Array.isArray(dt)?vt=__spreadArray([Ot],dt):typeof dt=="function"&&(vt=dt(St));var Tt=wt.apply(void 0,vt);return createStore(mt,ct,Tt)}function executeReducerBuilderCallback(_e){var $={},et=[],tt,nt={addCase:function(rt,it){var ot=typeof rt=="string"?rt:rt.type;if(!ot)throw new Error("`builder.addCase` cannot be called with an empty action type");if(ot in $)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return $[ot]=it,nt},addMatcher:function(rt,it){return et.push({matcher:rt,reducer:it}),nt},addDefaultCase:function(rt){return tt=rt,nt}};return _e(nt),[$,et,tt]}function isStateFunction(_e){return typeof _e=="function"}function createReducer(_e,$,et,tt){et===void 0&&(et=[]);var nt=typeof $=="function"?executeReducerBuilderCallback($):[$,et,tt],rt=nt[0],it=nt[1],ot=nt[2],lt;if(isStateFunction(_e))lt=function(){return freezeDraftable(_e())};else{var ut=freezeDraftable(_e);lt=function(){return ut}}function ct(ht,dt){ht===void 0&&(ht=lt());var mt=__spreadArray([rt[dt.type]],it.filter(function(gt){var Ot=gt.matcher;return Ot(dt)}).map(function(gt){var Ot=gt.reducer;return Ot}));return mt.filter(function(gt){return!!gt}).length===0&&(mt=[ot]),mt.reduce(function(gt,Ot){if(Ot)if(r$3(gt)){var wt=gt,St=Ot(wt,dt);return St===void 0?gt:St}else{if(t$5(gt))return fn(gt,function(vt){return Ot(vt,dt)});var St=Ot(gt,dt);if(St===void 0){if(gt===null)return gt;throw Error("A case reducer on a non-draftable value must not return undefined")}return St}return gt},ht)}return ct.getInitialState=lt,ct}function getType2(_e,$){return _e+"/"+$}function createSlice(_e){var $=_e.name;if(!$)throw new Error("`name` is a required option for createSlice");typeof process<"u";var et=typeof _e.initialState=="function"?_e.initialState:freezeDraftable(_e.initialState),tt=_e.reducers||{},nt=Object.keys(tt),rt={},it={},ot={};nt.forEach(function(ct){var ht=tt[ct],dt=getType2($,ct),mt,gt;"reducer"in ht?(mt=ht.reducer,gt=ht.prepare):mt=ht,rt[ct]=mt,it[dt]=mt,ot[ct]=gt?createAction(dt,gt):createAction(dt)});function lt(){var ct=typeof _e.extraReducers=="function"?executeReducerBuilderCallback(_e.extraReducers):[_e.extraReducers],ht=ct[0],dt=ht===void 0?{}:ht,mt=ct[1],gt=mt===void 0?[]:mt,Ot=ct[2],wt=Ot===void 0?void 0:Ot,St=__spreadValues(__spreadValues({},dt),it);return createReducer(et,function(vt){for(var Tt in St)vt.addCase(Tt,St[Tt]);for(var Et=0,Pt=gt;Et<Pt.length;Et++){var Mt=Pt[Et];vt.addMatcher(Mt.matcher,Mt.reducer)}wt&&vt.addDefaultCase(wt)})}var ut;return{name:$,reducer:function(ct,ht){return ut||(ut=lt()),ut(ct,ht)},actions:ot,caseReducers:rt,getInitialState:function(){return ut||(ut=lt()),ut.getInitialState()}}}var urlAlphabet$1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid$1=function(_e){_e===void 0&&(_e=21);for(var $="",et=_e;et--;)$+=urlAlphabet$1[Math.random()*64|0];return $},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function _e($,et){this.payload=$,this.meta=et}return _e}(),FulfillWithMeta=function(){function _e($,et){this.payload=$,this.meta=et}return _e}(),miniSerializeError=function(_e){if(typeof _e=="object"&&_e!==null){for(var $={},et=0,tt=commonProperties;et<tt.length;et++){var nt=tt[et];typeof _e[nt]=="string"&&($[nt]=_e[nt])}return $}return{message:String(_e)}},createAsyncThunk=function(){function _e($,et,tt){var nt=createAction($+"/fulfilled",function(ut,ct,ht,dt){return{payload:ut,meta:__spreadProps(__spreadValues({},dt||{}),{arg:ht,requestId:ct,requestStatus:"fulfilled"})}}),rt=createAction($+"/pending",function(ut,ct,ht){return{payload:void 0,meta:__spreadProps(__spreadValues({},ht||{}),{arg:ct,requestId:ut,requestStatus:"pending"})}}),it=createAction($+"/rejected",function(ut,ct,ht,dt,mt){return{payload:dt,error:(tt&&tt.serializeError||miniSerializeError)(ut||"Rejected"),meta:__spreadProps(__spreadValues({},mt||{}),{arg:ht,requestId:ct,rejectedWithValue:!!dt,requestStatus:"rejected",aborted:ut?.name==="AbortError",condition:ut?.name==="ConditionError"})}}),ot=typeof AbortController<"u"?AbortController:function(){function ut(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return ut.prototype.abort=function(){},ut}();function lt(ut){return function(ct,ht,dt){var mt=tt?.idGenerator?tt.idGenerator(ut):nanoid$1(),gt=new ot,Ot;function wt(vt){Ot=vt,gt.abort()}var St=function(){return __async(this,null,function(){var vt,Tt,Et,Pt,Mt,Rt,Lt;return __generator(this,function(Wt){switch(Wt.label){case 0:return Wt.trys.push([0,4,,5]),Pt=(vt=tt?.condition)==null?void 0:vt.call(tt,ut,{getState:ht,extra:dt}),isThenable(Pt)?[4,Pt]:[3,2];case 1:Pt=Wt.sent(),Wt.label=2;case 2:if(Pt===!1||gt.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Mt=new Promise(function(Ft,Ut){return gt.signal.addEventListener("abort",function(){return Ut({name:"AbortError",message:Ot||"Aborted"})})}),ct(rt(mt,ut,(Tt=tt?.getPendingMeta)==null?void 0:Tt.call(tt,{requestId:mt,arg:ut},{getState:ht,extra:dt}))),[4,Promise.race([Mt,Promise.resolve(et(ut,{dispatch:ct,getState:ht,extra:dt,requestId:mt,signal:gt.signal,abort:wt,rejectWithValue:function(Ft,Ut){return new RejectWithValue(Ft,Ut)},fulfillWithValue:function(Ft,Ut){return new FulfillWithMeta(Ft,Ut)}})).then(function(Ft){if(Ft instanceof RejectWithValue)throw Ft;return Ft instanceof FulfillWithMeta?nt(Ft.payload,mt,ut,Ft.meta):nt(Ft,mt,ut)})])];case 3:return Et=Wt.sent(),[3,5];case 4:return Rt=Wt.sent(),Et=Rt instanceof RejectWithValue?it(null,mt,ut,Rt.payload,Rt.meta):it(Rt,mt,ut),[3,5];case 5:return Lt=tt&&!tt.dispatchConditionRejection&&it.match(Et)&&Et.meta.condition,Lt||ct(Et),[2,Et]}})})}();return Object.assign(St,{abort:wt,requestId:mt,arg:ut,unwrap:function(){return St.then(unwrapResult)}})}}return Object.assign(lt,{pending:rt,rejected:it,fulfilled:nt,typePrefix:$})}return _e.withTypes=function(){return _e},_e}();function unwrapResult(_e){if(_e.meta&&_e.meta.rejectedWithValue)throw _e.payload;if(_e.error)throw _e.error;return _e.payload}function isThenable(_e){return _e!==null&&typeof _e=="object"&&typeof _e.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");var promise;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);F();var shim={exports:{}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$2=reactExports;function h$3(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var k$2=typeof Object.is=="function"?Object.is:h$3,l$2=e$2.useState,m$2=e$2.useEffect,n$3=e$2.useLayoutEffect,p$3=e$2.useDebugValue;function q$3(_e,$){var et=$(),tt=l$2({inst:{value:et,getSnapshot:$}}),nt=tt[0].inst,rt=tt[1];return n$3(function(){nt.value=et,nt.getSnapshot=$,r$2(nt)&&rt({inst:nt})},[_e,et,$]),m$2(function(){return r$2(nt)&&rt({inst:nt}),_e(function(){r$2(nt)&&rt({inst:nt})})},[_e]),p$3(et),et}function r$2(_e){var $=_e.getSnapshot;_e=_e.value;try{var et=$();return!k$2(_e,et)}catch{return!0}}function t$4(_e,$){return $()}var u$2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$4:q$3;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$2;shim.exports=useSyncExternalStoreShim_production_min;var shimExports=shim.exports,withSelector={exports:{}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$2=reactExports,n$2=shimExports;function p$2(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var q$2=typeof Object.is=="function"?Object.is:p$2,r$1=n$2.useSyncExternalStore,t$3=h$2.useRef,u$1=h$2.useEffect,v$2=h$2.useMemo,w$1=h$2.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(_e,$,et,tt,nt){var rt=t$3(null);if(rt.current===null){var it={hasValue:!1,value:null};rt.current=it}else it=rt.current;rt=v$2(function(){function lt(mt){if(!ut){if(ut=!0,ct=mt,mt=tt(mt),nt!==void 0&&it.hasValue){var gt=it.value;if(nt(gt,mt))return ht=gt}return ht=mt}if(gt=ht,q$2(ct,mt))return gt;var Ot=tt(mt);return nt!==void 0&&nt(gt,Ot)?gt:(ct=mt,ht=Ot)}var ut=!1,ct,ht,dt=et===void 0?null:et;return[function(){return lt($())},dt===null?void 0:function(){return lt(dt())}]},[$,et,tt,nt]);var ot=r$1(_e,rt[0],rt[1]);return u$1(function(){it.hasValue=!0,it.value=ot},[ot]),w$1(ot),ot};withSelector.exports=withSelector_production_min;var withSelectorExports=withSelector.exports;function defaultNoopBatch(_e){_e()}let batch=defaultNoopBatch;const setBatch=_e=>batch=_e,getBatch=()=>batch,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){var _e;if(!reactExports.createContext)return{};const $=(_e=gT[ContextKey])!=null?_e:gT[ContextKey]=new Map;let et=$.get(reactExports.createContext);return et||(et=reactExports.createContext(null),$.set(reactExports.createContext,et)),et}const ReactReduxContext=getContext();function createReduxContextHook(_e=ReactReduxContext){return function(){return reactExports.useContext(_e)}}const useReduxContext=createReduxContextHook(),notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector=notInitialized;const initializeUseSelector=_e=>{useSyncExternalStoreWithSelector=_e},refEquality=(_e,$)=>_e===$;function createSelectorHook(_e=ReactReduxContext){const $=_e===ReactReduxContext?useReduxContext:createReduxContextHook(_e);return function(tt,nt={}){const{equalityFn:rt=refEquality,stabilityCheck:it=void 0,noopCheck:ot=void 0}=typeof nt=="function"?{equalityFn:nt}:nt,{store:lt,subscription:ut,getServerState:ct,stabilityCheck:ht,noopCheck:dt}=$();reactExports.useRef(!0);const mt=reactExports.useCallback({[tt.name](Ot){return tt(Ot)}}[tt.name],[tt,ht,it]),gt=useSyncExternalStoreWithSelector(ut.addNestedSub,lt.getState,ct||lt.getState,mt,rt);return reactExports.useDebugValue(gt),gt}}const useSelector=createSelectorHook();var reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d$1=b$1?Symbol.for("react.portal"):60106,e$1=b$1?Symbol.for("react.fragment"):60107,f$1=b$1?Symbol.for("react.strict_mode"):60108,g$1=b$1?Symbol.for("react.profiler"):60114,h$1=b$1?Symbol.for("react.provider"):60109,k$1=b$1?Symbol.for("react.context"):60110,l$1=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n$1=b$1?Symbol.for("react.forward_ref"):60112,p$1=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t$2=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w=b$1?Symbol.for("react.fundamental"):60117,x=b$1?Symbol.for("react.responder"):60118,y=b$1?Symbol.for("react.scope"):60119;function z(_e){if(typeof _e=="object"&&_e!==null){var $=_e.$$typeof;switch($){case c$1:switch(_e=_e.type,_e){case l$1:case m$1:case e$1:case g$1:case f$1:case p$1:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k$1:case n$1:case t$2:case r:case h$1:return _e;default:return $}}case d$1:return $}}}function A(_e){return z(_e)===m$1}reactIs_production_min$1.AsyncMode=l$1;reactIs_production_min$1.ConcurrentMode=m$1;reactIs_production_min$1.ContextConsumer=k$1;reactIs_production_min$1.ContextProvider=h$1;reactIs_production_min$1.Element=c$1;reactIs_production_min$1.ForwardRef=n$1;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t$2;reactIs_production_min$1.Memo=r;reactIs_production_min$1.Portal=d$1;reactIs_production_min$1.Profiler=g$1;reactIs_production_min$1.StrictMode=f$1;reactIs_production_min$1.Suspense=p$1;reactIs_production_min$1.isAsyncMode=function(_e){return A(_e)||z(_e)===l$1};reactIs_production_min$1.isConcurrentMode=A;reactIs_production_min$1.isContextConsumer=function(_e){return z(_e)===k$1};reactIs_production_min$1.isContextProvider=function(_e){return z(_e)===h$1};reactIs_production_min$1.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===c$1};reactIs_production_min$1.isForwardRef=function(_e){return z(_e)===n$1};reactIs_production_min$1.isFragment=function(_e){return z(_e)===e$1};reactIs_production_min$1.isLazy=function(_e){return z(_e)===t$2};reactIs_production_min$1.isMemo=function(_e){return z(_e)===r};reactIs_production_min$1.isPortal=function(_e){return z(_e)===d$1};reactIs_production_min$1.isProfiler=function(_e){return z(_e)===g$1};reactIs_production_min$1.isStrictMode=function(_e){return z(_e)===f$1};reactIs_production_min$1.isSuspense=function(_e){return z(_e)===p$1};reactIs_production_min$1.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===e$1||_e===m$1||_e===g$1||_e===f$1||_e===p$1||_e===q$1||typeof _e=="object"&&_e!==null&&(_e.$$typeof===t$2||_e.$$typeof===r||_e.$$typeof===h$1||_e.$$typeof===k$1||_e.$$typeof===n$1||_e.$$typeof===w||_e.$$typeof===x||_e.$$typeof===y||_e.$$typeof===v$1)};reactIs_production_min$1.typeOf=z;reactIs$1.exports=reactIs_production_min$1;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v(_e){if(typeof _e=="object"&&_e!==null){var $=_e.$$typeof;switch($){case b:switch(_e=_e.type,_e){case d:case f:case e:case m:case n:return _e;default:switch(_e=_e&&_e.$$typeof,_e){case k:case h:case l:case q:case p:case g:return _e;default:return $}}case c:return $}}}reactIs_production_min.ContextConsumer=h;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(_e){return v(_e)===h};reactIs_production_min.isContextProvider=function(_e){return v(_e)===g};reactIs_production_min.isElement=function(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===b};reactIs_production_min.isForwardRef=function(_e){return v(_e)===l};reactIs_production_min.isFragment=function(_e){return v(_e)===d};reactIs_production_min.isLazy=function(_e){return v(_e)===q};reactIs_production_min.isMemo=function(_e){return v(_e)===p};reactIs_production_min.isPortal=function(_e){return v(_e)===c};reactIs_production_min.isProfiler=function(_e){return v(_e)===f};reactIs_production_min.isStrictMode=function(_e){return v(_e)===e};reactIs_production_min.isSuspense=function(_e){return v(_e)===m};reactIs_production_min.isSuspenseList=function(_e){return v(_e)===n};reactIs_production_min.isValidElementType=function(_e){return typeof _e=="string"||typeof _e=="function"||_e===d||_e===f||_e===e||_e===m||_e===n||_e===t$1||typeof _e=="object"&&_e!==null&&(_e.$$typeof===q||_e.$$typeof===p||_e.$$typeof===g||_e.$$typeof===h||_e.$$typeof===l||_e.$$typeof===u||_e.getModuleId!==void 0)};reactIs_production_min.typeOf=v;function createListenerCollection(){const _e=getBatch();let $=null,et=null;return{clear(){$=null,et=null},notify(){_e(()=>{let tt=$;for(;tt;)tt.callback(),tt=tt.next})},get(){let tt=[],nt=$;for(;nt;)tt.push(nt),nt=nt.next;return tt},subscribe(tt){let nt=!0,rt=et={callback:tt,next:null,prev:et};return rt.prev?rt.prev.next=rt:$=rt,function(){!nt||$===null||(nt=!1,rt.next?rt.next.prev=rt.prev:et=rt.prev,rt.prev?rt.prev.next=rt.next:$=rt.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription(_e,$){let et,tt=nullListeners,nt=0,rt=!1;function it(Ot){ct();const wt=tt.subscribe(Ot);let St=!1;return()=>{St||(St=!0,wt(),ht())}}function ot(){tt.notify()}function lt(){gt.onStateChange&&gt.onStateChange()}function ut(){return rt}function ct(){nt++,et||(et=$?$.addNestedSub(lt):_e.subscribe(lt),tt=createListenerCollection())}function ht(){nt--,et&&nt===0&&(et(),et=void 0,tt.clear(),tt=nullListeners)}function dt(){rt||(rt=!0,ct())}function mt(){rt&&(rt=!1,ht())}const gt={addNestedSub:it,notifyNestedSubs:ot,handleChangeWrapper:lt,isSubscribed:ut,trySubscribe:dt,tryUnsubscribe:mt,getListeners:()=>tt};return gt}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function Provider({store:_e,context:$,children:et,serverState:tt,stabilityCheck:nt="once",noopCheck:rt="once"}){const it=reactExports.useMemo(()=>{const ut=createSubscription(_e);return{store:_e,subscription:ut,getServerState:tt?()=>tt:void 0,stabilityCheck:nt,noopCheck:rt}},[_e,tt,nt,rt]),ot=reactExports.useMemo(()=>_e.getState(),[_e]);useIsomorphicLayoutEffect(()=>{const{subscription:ut}=it;return ut.onStateChange=ut.notifyNestedSubs,ut.trySubscribe(),ot!==_e.getState()&&ut.notifyNestedSubs(),()=>{ut.tryUnsubscribe(),ut.onStateChange=void 0}},[it,ot]);const lt=$||ReactReduxContext;return reactExports.createElement(lt.Provider,{value:it},et)}function createStoreHook(_e=ReactReduxContext){const $=_e===ReactReduxContext?useReduxContext:createReduxContextHook(_e);return function(){const{store:tt}=$();return tt}}const useStore=createStoreHook();function createDispatchHook(_e=ReactReduxContext){const $=_e===ReactReduxContext?useStore:createStoreHook(_e);return function(){return $().dispatch}}const useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);setBatch(reactDomExports.unstable_batchedUpdates);function Diff(){}Diff.prototype={diff:function($,et){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=tt.callback;typeof tt=="function"&&(nt=tt,tt={}),this.options=tt;var rt=this;function it(Ot){return nt?(setTimeout(function(){nt(void 0,Ot)},0),!0):Ot}$=this.castInput($),et=this.castInput(et),$=this.removeEmpty(this.tokenize($)),et=this.removeEmpty(this.tokenize(et));var ot=et.length,lt=$.length,ut=1,ct=ot+lt;tt.maxEditLength&&(ct=Math.min(ct,tt.maxEditLength));var ht=[{newPos:-1,components:[]}],dt=this.extractCommon(ht[0],et,$,0);if(ht[0].newPos+1>=ot&&dt+1>=lt)return it([{value:this.join(et),count:et.length}]);function mt(){for(var Ot=-1*ut;Ot<=ut;Ot+=2){var wt=void 0,St=ht[Ot-1],vt=ht[Ot+1],Tt=(vt?vt.newPos:0)-Ot;St&&(ht[Ot-1]=void 0);var Et=St&&St.newPos+1<ot,Pt=vt&&0<=Tt&&Tt<lt;if(!Et&&!Pt){ht[Ot]=void 0;continue}if(!Et||Pt&&St.newPos<vt.newPos?(wt=clonePath(vt),rt.pushComponent(wt.components,void 0,!0)):(wt=St,wt.newPos++,rt.pushComponent(wt.components,!0,void 0)),Tt=rt.extractCommon(wt,et,$,Ot),wt.newPos+1>=ot&&Tt+1>=lt)return it(buildValues(rt,wt.components,et,$,rt.useLongestToken));ht[Ot]=wt}ut++}if(nt)(function Ot(){setTimeout(function(){if(ut>ct)return nt();mt()||Ot()},0)})();else for(;ut<=ct;){var gt=mt();if(gt)return gt}},pushComponent:function($,et,tt){var nt=$[$.length-1];nt&&nt.added===et&&nt.removed===tt?$[$.length-1]={count:nt.count+1,added:et,removed:tt}:$.push({count:1,added:et,removed:tt})},extractCommon:function($,et,tt,nt){for(var rt=et.length,it=tt.length,ot=$.newPos,lt=ot-nt,ut=0;ot+1<rt&&lt+1<it&&this.equals(et[ot+1],tt[lt+1]);)ot++,lt++,ut++;return ut&&$.components.push({count:ut}),$.newPos=ot,lt},equals:function($,et){return this.options.comparator?this.options.comparator($,et):$===et||this.options.ignoreCase&&$.toLowerCase()===et.toLowerCase()},removeEmpty:function($){for(var et=[],tt=0;tt<$.length;tt++)$[tt]&&et.push($[tt]);return et},castInput:function($){return $},tokenize:function($){return $.split("")},join:function($){return $.join("")}};function buildValues(_e,$,et,tt,nt){for(var rt=0,it=$.length,ot=0,lt=0;rt<it;rt++){var ut=$[rt];if(ut.removed){if(ut.value=_e.join(tt.slice(lt,lt+ut.count)),lt+=ut.count,rt&&$[rt-1].added){var ht=$[rt-1];$[rt-1]=$[rt],$[rt]=ht}}else{if(!ut.added&&nt){var ct=et.slice(ot,ot+ut.count);ct=ct.map(function(mt,gt){var Ot=tt[lt+gt];return Ot.length>mt.length?Ot:mt}),ut.value=_e.join(ct)}else ut.value=_e.join(et.slice(ot,ot+ut.count));ot+=ut.count,ut.added||(lt+=ut.count)}}var dt=$[it-1];return it>1&&typeof dt.value=="string"&&(dt.added||dt.removed)&&_e.equals("",dt.value)&&($[it-2].value+=dt.value,$.pop()),$}function clonePath(_e){return{newPos:_e.newPos,components:_e.components.slice(0)}}var extendedWordChars=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,reWhitespace=/\S/,wordDiff=new Diff;wordDiff.equals=function(_e,$){return this.options.ignoreCase&&(_e=_e.toLowerCase(),$=$.toLowerCase()),_e===$||this.options.ignoreWhitespace&&!reWhitespace.test(_e)&&!reWhitespace.test($)};wordDiff.tokenize=function(_e){for(var $=_e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),et=0;et<$.length-1;et++)!$[et+1]&&$[et+2]&&extendedWordChars.test($[et])&&extendedWordChars.test($[et+2])&&($[et]+=$[et+2],$.splice(et+1,2),et--);return $};function diffWordsWithSpace(_e,$,et){return wordDiff.diff(_e,$,et)}var lineDiff=new Diff;lineDiff.tokenize=function(_e){var $=[],et=_e.split(/(\n|\r\n)/);et[et.length-1]||et.pop();for(var tt=0;tt<et.length;tt++){var nt=et[tt];tt%2&&!this.options.newlineIsToken?$[$.length-1]+=nt:(this.options.ignoreWhitespace&&(nt=nt.trim()),$.push(nt))}return $};var sentenceDiff=new Diff;sentenceDiff.tokenize=function(_e){return _e.split(/(\S.+?[.!?])(?=\s+|$)/)};var cssDiff=new Diff;cssDiff.tokenize=function(_e){return _e.split(/([{}:;,]|\s+)/)};function _typeof(_e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function($){return typeof $}:_typeof=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},_typeof(_e)}var objectPrototypeToString=Object.prototype.toString,jsonDiff=new Diff;jsonDiff.useLongestToken=!0;jsonDiff.tokenize=lineDiff.tokenize;jsonDiff.castInput=function(_e){var $=this.options,et=$.undefinedReplacement,tt=$.stringifyReplacer,nt=tt===void 0?function(rt,it){return typeof it>"u"?et:it}:tt;return typeof _e=="string"?_e:JSON.stringify(canonicalize(_e,null,null,nt),nt,"  ")};jsonDiff.equals=function(_e,$){return Diff.prototype.equals.call(jsonDiff,_e.replace(/,([\r\n])/g,"$1"),$.replace(/,([\r\n])/g,"$1"))};function canonicalize(_e,$,et,tt,nt){$=$||[],et=et||[],tt&&(_e=tt(nt,_e));var rt;for(rt=0;rt<$.length;rt+=1)if($[rt]===_e)return et[rt];var it;if(objectPrototypeToString.call(_e)==="[object Array]"){for($.push(_e),it=new Array(_e.length),et.push(it),rt=0;rt<_e.length;rt+=1)it[rt]=canonicalize(_e[rt],$,et,tt,nt);return $.pop(),et.pop(),it}if(_e&&_e.toJSON&&(_e=_e.toJSON()),_typeof(_e)==="object"&&_e!==null){$.push(_e),it={},et.push(it);var ot=[],lt;for(lt in _e)_e.hasOwnProperty(lt)&&ot.push(lt);for(ot.sort(),rt=0;rt<ot.length;rt+=1)lt=ot[rt],it[lt]=canonicalize(_e[lt],$,et,tt,lt);$.pop(),et.pop()}else it=_e;return it}var arrayDiff=new Diff;arrayDiff.tokenize=function(_e){return _e.slice()};arrayDiff.join=arrayDiff.removeEmpty=function(_e){return _e};const baseURL="http://0.0.0.0:8000/",SpacyToken=async _e=>{const $={prompt:_e};if(_e===void 0){console.log("input your prompt first!");return}return await fetch(baseURL+"spacy/tokenizer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}).then(tt=>tt.json()).then(tt=>tt.response)},SpacyDep=async _e=>{const $={prompt:_e};if(_e===void 0){console.log("input your prompt first!");return}return await fetch(baseURL+"spacy/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)}).then(tt=>tt.json()).then(tt=>tt.response)},GPTFillCode=async(_e,$)=>{const et={prompt:_e,code:$},tt=await fetch(baseURL+"chatgpt4/fill/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(et)}).then(it=>it.json()),nt=/```[\w]*\n([\s\S]*?)```/,rt=tt.match(nt);if(rt)return rt[1]};var NodeType$1=(_e=>(_e.identifier="identifier",_e.call="call",_e.attribute="attribute",_e.class_definition="class_definition",_e.expression_list="expression_list",_e.argument_list="argument_list",_e.function_definition="function_definition",_e.expression_statement="expression_statement",_e.if_statement="if_statement",_e.decorated_definition="decorated_definition",_e.decorator="decorator",_e.parameters="parameters",_e.block="block",_e.assignment="assignment",_e.for_statement="for_statement",_e.while_statement="while_statement",_e.return_statement="return_statement",_e.module="module",_e.comparison_operator="comparison_operator",_e))(NodeType$1||{}),FiledName=(_e=>(_e.name="name",_e.body_init="body_init",_e.parameters_init="parameters_init",_e.body="body",_e.left="left",_e.right="right",_e.object="object",_e.function="function",_e.parameters="parameters",_e.condition="condition",_e.consequence="consequence",_e))(FiledName||{}),treeSitter={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(_e,$)=>{throw $},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary;function locateFile(_e){return Module.locateFile?Module.locateFile(_e,scriptDirectory):scriptDirectory+_e}function logExceptionOnExit(_e){_e instanceof ExitStatus||err("exiting due to exception: "+_e)}if(ENVIRONMENT_IS_NODE){var fs=require$$0,nodePath=require$$0;scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=(_e,$)=>(_e=isFileURI(_e)?new URL(_e):nodePath.normalize(_e),fs.readFileSync(_e,$?void 0:"utf8")),readBinary=_e=>{var $=read_(_e,!0);return $.buffer||($=new Uint8Array($)),$},readAsync=(_e,$,et)=>{_e=isFileURI(_e)?new URL(_e):nodePath.normalize(_e),fs.readFile(_e,function(tt,nt){tt?et(tt):$(nt.buffer)})},process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),module.exports=Module,quit_=(_e,$)=>{if(keepRuntimeAlive())throw process.exitCode=_e,$;logExceptionOnExit($),process.exit(_e)},Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=_e=>{var $=new XMLHttpRequest;return $.open("GET",_e,!1),$.send(null),$.responseText},ENVIRONMENT_IS_WORKER&&(readBinary=_e=>{var $=new XMLHttpRequest;return $.open("GET",_e,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),readAsync=(_e,$,et)=>{var tt=new XMLHttpRequest;tt.open("GET",_e,!0),tt.responseType="arraybuffer",tt.onload=()=>{tt.status==200||tt.status==0&&tt.response?$(tt.response):et()},tt.onerror=et,tt.send(null)});Module.print||console.log.bind(console);var err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(_e,$,et){for(var tt=$+et,nt=$;_e[nt]&&!(nt>=tt);)++nt;if(nt-$>16&&_e.buffer&&UTF8Decoder)return UTF8Decoder.decode(_e.subarray($,nt));for(var rt="";$<nt;){var it=_e[$++];if(128&it){var ot=63&_e[$++];if((224&it)!=192){var lt=63&_e[$++];if((it=(240&it)==224?(15&it)<<12|ot<<6|lt:(7&it)<<18|ot<<12|lt<<6|63&_e[$++])<65536)rt+=String.fromCharCode(it);else{var ut=it-65536;rt+=String.fromCharCode(55296|ut>>10,56320|1023&ut)}}else rt+=String.fromCharCode((31&it)<<6|ot)}else rt+=String.fromCharCode(it)}return rt}function UTF8ToString(_e,$){return _e?UTF8ArrayToString(HEAPU8,_e,$):""}function stringToUTF8Array(_e,$,et,tt){if(!(tt>0))return 0;for(var nt=et,rt=et+tt-1,it=0;it<_e.length;++it){var ot=_e.charCodeAt(it);if(ot>=55296&&ot<=57343&&(ot=65536+((1023&ot)<<10)|1023&_e.charCodeAt(++it)),ot<=127){if(et>=rt)break;$[et++]=ot}else if(ot<=2047){if(et+1>=rt)break;$[et++]=192|ot>>6,$[et++]=128|63&ot}else if(ot<=65535){if(et+2>=rt)break;$[et++]=224|ot>>12,$[et++]=128|ot>>6&63,$[et++]=128|63&ot}else{if(et+3>=rt)break;$[et++]=240|ot>>18,$[et++]=128|ot>>12&63,$[et++]=128|ot>>6&63,$[et++]=128|63&ot}}return $[et]=0,et-nt}function stringToUTF8(_e,$,et){return stringToUTF8Array(_e,HEAPU8,$,et)}function lengthBytesUTF8(_e){for(var $=0,et=0;et<_e.length;++et){var tt=_e.charCodeAt(et);tt<=127?$++:tt<=2047?$+=2:tt>=55296&&tt<=57343?($+=4,++et):$+=3}return $}function updateGlobalBufferAndViews(_e){buffer=_e,Module.HEAP8=HEAP8=new Int8Array(_e),Module.HEAP16=HEAP16=new Int16Array(_e),Module.HEAP32=HEAP32=new Int32Array(_e),Module.HEAPU8=HEAPU8=new Uint8Array(_e),Module.HEAPU16=new Uint16Array(_e),Module.HEAPU32=HEAPU32=new Uint32Array(_e),Module.HEAPF32=HEAPF32=new Float32Array(_e),Module.HEAPF64=HEAPF64=new Float64Array(_e)}var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(_e){__ATPRERUN__.unshift(_e)}function addOnInit(_e){__ATINIT__.unshift(_e)}function addOnPostRun(_e){__ATPOSTRUN__.unshift(_e)}var runDependencies=0,dependenciesFulfilled=null;function addRunDependency(_e){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}function removeRunDependency(_e){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&dependenciesFulfilled){var $=dependenciesFulfilled;dependenciesFulfilled=null,$()}}function abort(_e){throw Module.onAbort&&Module.onAbort(_e),err(_e="Aborted("+_e+")"),ABORT=!0,EXITSTATUS=1,_e+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(_e)}var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(_e){return _e.startsWith(dataURIPrefix)}function isFileURI(_e){return _e.startsWith("file://")}function getBinary(_e){try{if(_e==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(_e);throw"both async and sync fetching of the wasm failed"}catch($){abort($)}}function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(_e){if(!_e.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return _e.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(_e,$){readAsync(wasmBinaryFile,function(et){_e(new Uint8Array(et))},$)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}function createWasm(){var _e={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function $(nt,rt){var it=nt.exports;it=relocateExports(it,1024);var ot=getDylinkMetadata(rt);ot.neededDynlibs&&(dynamicLibraries=ot.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(it),Module.asm=it,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency()}function et(nt){$(nt.instance,nt.module)}function tt(nt){return getBinaryPromise().then(function(rt){return WebAssembly.instantiate(rt,_e)}).then(function(rt){return rt}).then(nt,function(rt){err("failed to asynchronously prepare wasm: "+rt),abort(rt)})}if(addRunDependency(),Module.instantiateWasm)try{return Module.instantiateWasm(_e,$)}catch(nt){return err("Module.instantiateWasm callback failed with error: "+nt),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?tt(et):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(nt){return WebAssembly.instantiateStreaming(nt,_e).then(et,function(rt){return err("wasm streaming compile failed: "+rt),err("falling back to ArrayBuffer instantiation"),tt(et)})}),{}}wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));function ExitStatus(_e){this.name="ExitStatus",this.message="Program terminated with exit("+_e+")",this.status=_e}var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(_e,$){var et=GOT[$];return et||(et=GOT[$]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has($)||(et.required=!0),et}};function callRuntimeCallbacks(_e){for(;_e.length>0;)_e.shift()(Module)}function getDylinkMetadata(_e){var $=0,et=0;function tt(){for(var St=0,vt=1;;){var Tt=_e[$++];if(St+=(127&Tt)*vt,vt*=128,!(128&Tt))break}return St}function nt(){var St=tt();return UTF8ArrayToString(_e,($+=St)-St,St)}function rt(St,vt){if(St)throw new Error(vt)}var it="dylink.0";if(_e instanceof WebAssembly.Module){var ot=WebAssembly.Module.customSections(_e,it);ot.length===0&&(it="dylink",ot=WebAssembly.Module.customSections(_e,it)),rt(ot.length===0,"need dylink section"),et=(_e=new Uint8Array(ot[0])).length}else{rt(new Uint32Array(new Uint8Array(_e.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),rt(_e[8]!==0,"need the dylink section to be first"),$=9;var lt=tt();et=$+lt,it=nt()}var ut={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(it=="dylink"){ut.memorySize=tt(),ut.memoryAlign=tt(),ut.tableSize=tt(),ut.tableAlign=tt();for(var ct=tt(),ht=0;ht<ct;++ht){var dt=nt();ut.neededDynlibs.push(dt)}}else for(rt(it!=="dylink.0");$<et;){var mt=_e[$++],gt=tt();if(mt===1)ut.memorySize=tt(),ut.memoryAlign=tt(),ut.tableSize=tt(),ut.tableAlign=tt();else if(mt===2)for(ct=tt(),ht=0;ht<ct;++ht)dt=nt(),ut.neededDynlibs.push(dt);else if(mt===3)for(var Ot=tt();Ot--;){var wt=nt();256&tt()&&ut.tlsExports.add(wt)}else if(mt===4)for(Ot=tt();Ot--;)nt(),wt=nt(),(3&tt())==1&&ut.weakImports.add(wt);else $+=gt}return ut}function getValue(_e,$="i8"){switch($.endsWith("*")&&($="*"),$){case"i1":case"i8":return HEAP8[_e>>0];case"i16":return HEAP16[_e>>1];case"i32":case"i64":return HEAP32[_e>>2];case"float":return HEAPF32[_e>>2];case"double":return HEAPF64[_e>>3];case"*":return HEAPU32[_e>>2];default:abort("invalid type for getValue: "+$)}return null}function asmjsMangle(_e){return _e.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(_e)?_e:"_"+_e}function mergeLibSymbols(_e,$){for(var et in _e)if(_e.hasOwnProperty(et)){asmLibraryArg.hasOwnProperty(et)||(asmLibraryArg[et]=_e[et]);var tt=asmjsMangle(et);Module.hasOwnProperty(tt)||(Module[tt]=_e[et]),et=="__main_argc_argv"&&(Module._main=_e[et])}}var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(_e,$,et){var tt=Module["dynCall_"+_e];return et&&et.length?tt.apply(null,[$].concat(et)):tt.call(null,$)}var wasmTableMirror=[];function getWasmTableEntry(_e){var $=wasmTableMirror[_e];return $||(_e>=wasmTableMirror.length&&(wasmTableMirror.length=_e+1),wasmTableMirror[_e]=$=wasmTable.get(_e)),$}function dynCall(_e,$,et){return _e.includes("j")?dynCallLegacy(_e,$,et):getWasmTableEntry($).apply(null,et)}function createInvokeFunction(_e){return function(){var $=stackSave();try{return dynCall(_e,arguments[0],Array.prototype.slice.call(arguments,1))}catch(et){if(stackRestore($),et!==et+0)throw et;_setThrew(1,0)}}}var ___heap_base=78144;function zeroMemory(_e,$){return HEAPU8.fill(0,_e,_e+$),_e}function getMemory(_e){if(runtimeInitialized)return zeroMemory(_malloc(_e),_e);var $=___heap_base,et=$+_e+15&-16;return ___heap_base=et,GOT.__heap_base.value=et,$}function isInternalSym(_e){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(_e)}function uleb128Encode(_e,$){_e<128?$.push(_e):$.push(_e%128|128,_e>>7)}function sigToWasmTypes(_e){for(var $={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},et={parameters:[],results:_e[0]=="v"?[]:[$[_e[0]]]},tt=1;tt<_e.length;++tt)et.parameters.push($[_e[tt]]),_e[tt]==="j"&&et.parameters.push("i32");return et}function generateFuncType(_e,$){var et=_e.slice(0,1),tt=_e.slice(1),nt={i:127,p:127,j:126,f:125,d:124};$.push(96),uleb128Encode(tt.length,$);for(var rt=0;rt<tt.length;++rt)$.push(nt[tt[rt]]);et=="v"?$.push(0):$.push(1,nt[et])}function convertJsFunctionToWasm(_e,$){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes($),_e);var et=[1];generateFuncType($,et);var tt=[0,97,115,109,1,0,0,0,1];uleb128Encode(et.length,tt),tt.push.apply(tt,et),tt.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var nt=new WebAssembly.Module(new Uint8Array(tt));return new WebAssembly.Instance(nt,{e:{f:_e}}).exports.f}function updateTableMap(_e,$){if(functionsInTableMap)for(var et=_e;et<_e+$;et++){var tt=getWasmTableEntry(et);tt&&functionsInTableMap.set(tt,et)}}var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(_e){throw _e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":_e}return wasmTable.length-1}function setWasmTableEntry(_e,$){wasmTable.set(_e,$),wasmTableMirror[_e]=wasmTable.get(_e)}function addFunction(_e,$){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(_e))return functionsInTableMap.get(_e);var et=getEmptyTableSlot();try{setWasmTableEntry(et,_e)}catch(tt){if(!(tt instanceof TypeError))throw tt;setWasmTableEntry(et,convertJsFunctionToWasm(_e,$))}return functionsInTableMap.set(_e,et),et}function updateGOT(_e,$){for(var et in _e)if(!isInternalSym(et)){var tt=_e[et];et.startsWith("orig$")&&(et=et.split("$")[1],$=!0),GOT[et]||(GOT[et]=new WebAssembly.Global({value:"i32",mutable:!0})),($||GOT[et].value==0)&&(typeof tt=="function"?GOT[et].value=addFunction(tt):typeof tt=="number"?GOT[et].value=tt:err("unhandled export type for `"+et+"`: "+typeof tt))}}function relocateExports(_e,$,et){var tt={};for(var nt in _e){var rt=_e[nt];typeof rt=="object"&&(rt=rt.value),typeof rt=="number"&&(rt+=$),tt[nt]=rt}return updateGOT(tt,et),tt}function resolveGlobalSymbol(_e,$){var et;return $&&(et=asmLibraryArg["orig$"+_e]),et||(et=asmLibraryArg[_e])&&et.stub&&(et=void 0),et||(et=Module[asmjsMangle(_e)]),!et&&_e.startsWith("invoke_")&&(et=createInvokeFunction(_e.split("_")[1])),et}function alignMemory(_e,$){return Math.ceil(_e/$)*$}function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(_e){var $=resolveGlobalSymbol(_e,!1);return $||($=moduleExports[_e]),$}tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(_e,$){switch($){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if($ in asmLibraryArg)return asmLibraryArg[$];var et;return $ in _e||(_e[$]=function(){return et||(et=resolveSymbol($)),et.apply(null,arguments)}),_e[$]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";eval(func)}if(updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(_e){return postInstantiation(_e.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(_e,$){return _e.then(function(){return loadDynamicLibrary($,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(_e){loadDynamicLibrary(_e,flags)}),loadModule())}function loadDynamicLibrary(_e,$,et){$=$||{global:!0,nodelete:!0};var tt=LDSO.loadedLibsByName[_e];if(tt)return $.global&&!tt.global&&(tt.global=!0,tt.module!=="loading"&&mergeLibSymbols(tt.module)),$.nodelete&&tt.refcount!==1/0&&(tt.refcount=1/0),tt.refcount++,et&&(LDSO.loadedLibsByHandle[et]=tt),!$.loadAsync||Promise.resolve(!0);function nt(ot){if($.fs&&$.fs.findObject(ot)){var lt=$.fs.readFile(ot,{encoding:"binary"});return lt instanceof Uint8Array||(lt=new Uint8Array(lt)),$.loadAsync?Promise.resolve(lt):lt}if(ot=locateFile(ot),$.loadAsync)return new Promise(function(ut,ct){readAsync(ot,ht=>ut(new Uint8Array(ht)),ct)});if(!readBinary)throw new Error(ot+": file not found, and synchronous loading of external files is not available");return readBinary(ot)}function rt(){if(typeof preloadedWasm<"u"&&preloadedWasm[_e]){var ot=preloadedWasm[_e];return $.loadAsync?Promise.resolve(ot):ot}return $.loadAsync?nt(_e).then(function(lt){return loadWebAssemblyModule(lt,$,et)}):loadWebAssemblyModule(nt(_e),$,et)}function it(ot){tt.global&&mergeLibSymbols(ot),tt.module=ot}return tt={refcount:$.nodelete?1/0:1,name:_e,module:"loading",global:$.global},LDSO.loadedLibsByName[_e]=tt,et&&(LDSO.loadedLibsByHandle[et]=tt),$.loadAsync?rt().then(function(ot){return it(ot),!0}):(it(rt()),!0)}function reportUndefinedSymbols(){for(var _e in GOT)if(GOT[_e].value==0){var $=resolveGlobalSymbol(_e,!0);if(!$&&!GOT[_e].required)continue;if(typeof $=="function")GOT[_e].value=addFunction($,$.sig);else{if(typeof $!="number")throw new Error("bad export type for `"+_e+"`: "+typeof $);GOT[_e].value=$}}}function preloadDylibs(){dynamicLibraries.length?(addRunDependency(),dynamicLibraries.reduce(function(_e,$){return _e.then(function(){return loadDynamicLibrary($,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency()})):reportUndefinedSymbols()}function setValue(_e,$,et="i8"){switch(et.endsWith("*")&&(et="*"),et){case"i1":case"i8":HEAP8[_e>>0]=$;break;case"i16":HEAP16[_e>>1]=$;break;case"i32":HEAP32[_e>>2]=$;break;case"i64":tempI64=[$>>>0,(tempDouble=$,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[_e>>2]=tempI64[0],HEAP32[_e+4>>2]=tempI64[1];break;case"float":HEAPF32[_e>>2]=$;break;case"double":HEAPF64[_e>>3]=$;break;case"*":HEAPU32[_e>>2]=$;break;default:abort("invalid type for setValue: "+et)}}var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}function _abort(){abort("")}function _emscripten_memcpy_big(_e,$,et){HEAPU8.copyWithin(_e,$,$+et)}function getHeapMax(){return 2147483648}function emscripten_realloc_buffer(_e){try{return wasmMemory.grow(_e-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}function _emscripten_resize_heap(_e){var $=HEAPU8.length;_e>>>=0;var et=getHeapMax();if(_e>et)return!1;for(var tt=1;tt<=4;tt*=2){var nt=$*(1+.2/tt);if(nt=Math.min(nt,_e+100663296),emscripten_realloc_buffer(Math.min(et,(rt=Math.max(_e,nt))+((it=65536)-rt%it)%it)))return!0}var rt,it;return!1}__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var _e=process.hrtime();return 1e3*_e[0]+_e[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(_e,$,et){if(PATH.isAbs($))return $;var tt;if(_e===-100?tt=FS.cwd():tt=SYSCALLS.getStreamFromFD(_e).path,$.length==0){if(!et)throw new FS.ErrnoError(44);return tt}return PATH.join2(tt,$)},doStat:function(_e,$,et){try{var tt=_e($)}catch(ot){if(ot&&ot.node&&PATH.normalize($)!==PATH.normalize(FS.getPath(ot.node)))return-54;throw ot}HEAP32[et>>2]=tt.dev,HEAP32[et+8>>2]=tt.ino,HEAP32[et+12>>2]=tt.mode,HEAPU32[et+16>>2]=tt.nlink,HEAP32[et+20>>2]=tt.uid,HEAP32[et+24>>2]=tt.gid,HEAP32[et+28>>2]=tt.rdev,tempI64=[tt.size>>>0,(tempDouble=tt.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[et+40>>2]=tempI64[0],HEAP32[et+44>>2]=tempI64[1],HEAP32[et+48>>2]=4096,HEAP32[et+52>>2]=tt.blocks;var nt=tt.atime.getTime(),rt=tt.mtime.getTime(),it=tt.ctime.getTime();return tempI64=[Math.floor(nt/1e3)>>>0,(tempDouble=Math.floor(nt/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[et+56>>2]=tempI64[0],HEAP32[et+60>>2]=tempI64[1],HEAPU32[et+64>>2]=nt%1e3*1e3,tempI64=[Math.floor(rt/1e3)>>>0,(tempDouble=Math.floor(rt/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[et+72>>2]=tempI64[0],HEAP32[et+76>>2]=tempI64[1],HEAPU32[et+80>>2]=rt%1e3*1e3,tempI64=[Math.floor(it/1e3)>>>0,(tempDouble=Math.floor(it/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[et+88>>2]=tempI64[0],HEAP32[et+92>>2]=tempI64[1],HEAPU32[et+96>>2]=it%1e3*1e3,tempI64=[tt.ino>>>0,(tempDouble=tt.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[et+104>>2]=tempI64[0],HEAP32[et+108>>2]=tempI64[1],0},doMsync:function(_e,$,et,tt,nt){if(!FS.isFile($.node.mode))throw new FS.ErrnoError(43);if(2&tt)return 0;var rt=HEAPU8.slice(_e,_e+et);FS.msync($,rt,nt,et,tt)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(_e){return UTF8ToString(_e)},getStreamFromFD:function(_e){var $=FS.getStream(_e);if(!$)throw new FS.ErrnoError(8);return $}};function _proc_exit(_e){EXITSTATUS=_e,keepRuntimeAlive()||(Module.onExit&&Module.onExit(_e),ABORT=!0),quit_(_e,new ExitStatus(_e))}function exitJS(_e,$){EXITSTATUS=_e,_proc_exit(_e)}_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(_e){try{var $=SYSCALLS.getStreamFromFD(_e);return FS.close($),0}catch(et){if(typeof FS>"u"||!(et instanceof FS.ErrnoError))throw et;return et.errno}}function convertI32PairToI53Checked(_e,$){return $+2097152>>>0<4194305-!!_e?(_e>>>0)+4294967296*$:NaN}function _fd_seek(_e,$,et,tt,nt){try{var rt=convertI32PairToI53Checked($,et);if(isNaN(rt))return 61;var it=SYSCALLS.getStreamFromFD(_e);return FS.llseek(it,rt,tt),tempI64=[it.position>>>0,(tempDouble=it.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[nt>>2]=tempI64[0],HEAP32[nt+4>>2]=tempI64[1],it.getdents&&rt===0&&tt===0&&(it.getdents=null),0}catch(ot){if(typeof FS>"u"||!(ot instanceof FS.ErrnoError))throw ot;return ot.errno}}function doWritev(_e,$,et,tt){for(var nt=0,rt=0;rt<et;rt++){var it=HEAPU32[$>>2],ot=HEAPU32[$+4>>2];$+=8;var lt=FS.write(_e,HEAP8,it,ot,tt);if(lt<0)return-1;nt+=lt,tt!==void 0&&(tt+=lt)}return nt}function _fd_write(_e,$,et,tt){try{var nt=doWritev(SYSCALLS.getStreamFromFD(_e),$,et);return HEAPU32[tt>>2]=nt,0}catch(rt){if(typeof FS>"u"||!(rt instanceof FS.ErrnoError))throw rt;return rt.errno}}function _tree_sitter_log_callback(_e,$){if(currentLogCallback){const et=UTF8ToString($);currentLogCallback(et,_e!==0)}}function _tree_sitter_parse_callback(_e,$,et,tt,nt){var rt=currentParseCallback($,{row:et,column:tt});typeof rt=="string"?(setValue(nt,rt.length,"i32"),stringToUTF16(rt,_e,10240)):setValue(nt,0,"i32")}function handleException(_e){if(_e instanceof ExitStatus||_e=="unwind")return EXITSTATUS;quit_(1,_e)}function allocateUTF8OnStack(_e){var $=lengthBytesUTF8(_e)+1,et=stackAlloc($);return stringToUTF8Array(_e,HEAP8,et,$),et}function stringToUTF16(_e,$,et){if(et===void 0&&(et=2147483647),et<2)return 0;for(var tt=$,nt=(et-=2)<2*_e.length?et/2:_e.length,rt=0;rt<nt;++rt){var it=_e.charCodeAt(rt);HEAP16[$>>1]=it,$+=2}return HEAP16[$>>1]=0,$-tt}function AsciiToString(_e){for(var $="";;){var et=HEAPU8[_e++>>0];if(!et)return $;$+=String.fromCharCode(et)}}_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback};createWasm(),Module.___wasm_call_ctors=function(){return(Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},Module.___wasm_apply_data_relocs=function(){return(Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)};var _malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)};Module._calloc=function(){return(Module._calloc=Module.asm.calloc).apply(null,arguments)},Module._realloc=function(){return(Module._realloc=Module.asm.realloc).apply(null,arguments)},Module._free=function(){return(Module._free=Module.asm.free).apply(null,arguments)},Module._ts_language_symbol_count=function(){return(Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},Module._ts_language_version=function(){return(Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},Module._ts_language_field_count=function(){return(Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},Module._ts_language_symbol_name=function(){return(Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},Module._ts_language_symbol_for_name=function(){return(Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},Module._ts_language_symbol_type=function(){return(Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},Module._ts_language_field_name_for_id=function(){return(Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},Module._memset=function(){return(Module._memset=Module.asm.memset).apply(null,arguments)},Module._memcpy=function(){return(Module._memcpy=Module.asm.memcpy).apply(null,arguments)},Module._ts_parser_delete=function(){return(Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},Module._ts_parser_reset=function(){return(Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},Module._ts_parser_set_language=function(){return(Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},Module._ts_parser_timeout_micros=function(){return(Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},Module._ts_parser_set_timeout_micros=function(){return(Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},Module._memmove=function(){return(Module._memmove=Module.asm.memmove).apply(null,arguments)},Module._memcmp=function(){return(Module._memcmp=Module.asm.memcmp).apply(null,arguments)},Module._ts_query_new=function(){return(Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},Module._ts_query_delete=function(){return(Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},Module._iswspace=function(){return(Module._iswspace=Module.asm.iswspace).apply(null,arguments)},Module._iswalnum=function(){return(Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},Module._ts_query_pattern_count=function(){return(Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},Module._ts_query_capture_count=function(){return(Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},Module._ts_query_string_count=function(){return(Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},Module._ts_query_capture_name_for_id=function(){return(Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},Module._ts_query_string_value_for_id=function(){return(Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},Module._ts_query_predicates_for_pattern=function(){return(Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},Module._ts_tree_copy=function(){return(Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},Module._ts_tree_delete=function(){return(Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},Module._ts_init=function(){return(Module._ts_init=Module.asm.ts_init).apply(null,arguments)},Module._ts_parser_new_wasm=function(){return(Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},Module._ts_parser_enable_logger_wasm=function(){return(Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},Module._ts_parser_parse_wasm=function(){return(Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},Module._ts_language_type_is_named_wasm=function(){return(Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},Module._ts_language_type_is_visible_wasm=function(){return(Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},Module._ts_tree_root_node_wasm=function(){return(Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},Module._ts_tree_edit_wasm=function(){return(Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},Module._ts_tree_get_changed_ranges_wasm=function(){return(Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},Module._ts_tree_cursor_new_wasm=function(){return(Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},Module._ts_tree_cursor_delete_wasm=function(){return(Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},Module._ts_tree_cursor_reset_wasm=function(){return(Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_first_child_wasm=function(){return(Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},Module._ts_tree_cursor_goto_parent_wasm=function(){return(Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_id_wasm=function(){return(Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_position_wasm=function(){return(Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_position_wasm=function(){return(Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},Module._ts_tree_cursor_start_index_wasm=function(){return(Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_end_index_wasm=function(){return(Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_field_id_wasm=function(){return(Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},Module._ts_tree_cursor_current_node_wasm=function(){return(Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},Module._ts_node_symbol_wasm=function(){return(Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},Module._ts_node_child_count_wasm=function(){return(Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},Module._ts_node_named_child_count_wasm=function(){return(Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},Module._ts_node_child_wasm=function(){return(Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},Module._ts_node_named_child_wasm=function(){return(Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},Module._ts_node_child_by_field_id_wasm=function(){return(Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},Module._ts_node_next_sibling_wasm=function(){return(Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_sibling_wasm=function(){return(Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},Module._ts_node_next_named_sibling_wasm=function(){return(Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},Module._ts_node_prev_named_sibling_wasm=function(){return(Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},Module._ts_node_parent_wasm=function(){return(Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},Module._ts_node_descendant_for_index_wasm=function(){return(Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_index_wasm=function(){return(Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},Module._ts_node_descendant_for_position_wasm=function(){return(Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_named_descendant_for_position_wasm=function(){return(Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},Module._ts_node_start_point_wasm=function(){return(Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},Module._ts_node_end_point_wasm=function(){return(Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},Module._ts_node_start_index_wasm=function(){return(Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},Module._ts_node_end_index_wasm=function(){return(Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},Module._ts_node_to_string_wasm=function(){return(Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},Module._ts_node_children_wasm=function(){return(Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},Module._ts_node_named_children_wasm=function(){return(Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},Module._ts_node_descendants_of_type_wasm=function(){return(Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},Module._ts_node_is_named_wasm=function(){return(Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},Module._ts_node_has_changes_wasm=function(){return(Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},Module._ts_node_has_error_wasm=function(){return(Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},Module._ts_node_is_missing_wasm=function(){return(Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},Module._ts_query_matches_wasm=function(){return(Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},Module._ts_query_captures_wasm=function(){return(Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},Module.___cxa_atexit=function(){return(Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},Module._iswdigit=function(){return(Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},Module._iswalpha=function(){return(Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},Module._iswlower=function(){return(Module._iswlower=Module.asm.iswlower).apply(null,arguments)},Module._memchr=function(){return(Module._memchr=Module.asm.memchr).apply(null,arguments)},Module._strlen=function(){return(Module._strlen=Module.asm.strlen).apply(null,arguments)},Module._towupper=function(){return(Module._towupper=Module.asm.towupper).apply(null,arguments)};var _setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)};Module.__Znwm=function(){return(Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},Module.__ZdlPv=function(){return(Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},Module.dynCall_jiji=function(){return(Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},Module._orig$ts_parser_timeout_micros=function(){return(Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},Module._orig$ts_parser_set_timeout_micros=function(){return(Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)};var calledRun;function callMain(_e){var $=Module._main;if($){(_e=_e||[]).unshift(thisProgram);var et=_e.length,tt=stackAlloc(4*(et+1)),nt=tt>>2;_e.forEach(it=>{HEAP32[nt++]=allocateUTF8OnStack(it)}),HEAP32[nt]=0;try{var rt=$(et,tt);return exitJS(rt,!0),rt}catch(it){return handleException(it)}}}Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=function _e(){calledRun||run(),calledRun||(dependenciesFulfilled=_e)};var dylibsLoaded=!1;function run(_e){function $(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(_e),postRun()))}_e=_e||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),$()},1)):$()))}if(Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();const C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage($){let et;if($){if($.constructor!==Language)throw new Error("Argument must be a Language");{et=$[0];const tt=C._ts_language_version(et);if(tt<MIN_COMPATIBLE_VERSION||VERSION<tt)throw new Error(`Incompatible language version ${tt}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else et=0,$=null;return this.language=$,C._ts_parser_set_language(this[0],et),this}getLanguage(){return this.language}parse($,et,tt){if(typeof $=="string")currentParseCallback=(lt,ut,ct)=>$.slice(lt,ct);else{if(typeof $!="function")throw new Error("Argument must be a string or a function");currentParseCallback=$}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let nt=0,rt=0;if(tt&&tt.includedRanges){nt=tt.includedRanges.length,rt=C._calloc(nt,SIZE_OF_RANGE);let lt=rt;for(let ut=0;ut<nt;ut++)marshalRange(lt,tt.includedRanges[ut]),lt+=SIZE_OF_RANGE}const it=C._ts_parser_parse_wasm(this[0],this[1],et?et[0]:0,rt,nt);if(!it)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");const ot=new Tree(INTERNAL,it,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,ot}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros($){C._ts_parser_set_timeout_micros(this[0],$)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger($){if($){if(typeof $!="function")throw new Error("Logger callback must be a function")}else $=null;return this.logCallback=$,this}getLogger(){return this.logCallback}}class Tree{constructor($,et,tt,nt){assertInternal($),this[0]=et,this.language=tt,this.textCallback=nt}copy(){const $=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,$,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit($){marshalEdit($),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges($){if($.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],$[0]);const et=getValue(TRANSFER_BUFFER,"i32"),tt=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),nt=new Array(et);if(et>0){let rt=tt;for(let it=0;it<et;it++)nt[it]=unmarshalRange(rt),rt+=SIZE_OF_RANGE;C._free(tt)}return nt}}class Node{constructor($,et){assertInternal($),this.tree=et}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals($){return this.id===$.id}child($){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],$),unmarshalNode(this.tree)}namedChild($){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],$),unmarshalNode(this.tree)}childForFieldId($){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],$),unmarshalNode(this.tree)}childForFieldName($){const et=this.tree.language.fields.indexOf($);if(et!==-1)return this.childForFieldId(et)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);const $=getValue(TRANSFER_BUFFER,"i32"),et=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array($),$>0){let tt=et;for(let nt=0;nt<$;nt++)this._children[nt]=unmarshalNode(this.tree,tt),tt+=SIZE_OF_NODE;C._free(et)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);const $=getValue(TRANSFER_BUFFER,"i32"),et=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array($),$>0){let tt=et;for(let nt=0;nt<$;nt++)this._namedChildren[nt]=unmarshalNode(this.tree,tt),tt+=SIZE_OF_NODE;C._free(et)}}return this._namedChildren}descendantsOfType($,et,tt){Array.isArray($)||($=[$]),et||(et=ZERO_POINT),tt||(tt=ZERO_POINT);const nt=[],rt=this.tree.language.types;for(let ct=0,ht=rt.length;ct<ht;ct++)$.includes(rt[ct])&&nt.push(ct);const it=C._malloc(SIZE_OF_INT*nt.length);for(let ct=0,ht=nt.length;ct<ht;ct++)setValue(it+ct*SIZE_OF_INT,nt[ct],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],it,nt.length,et.row,et.column,tt.row,tt.column);const ot=getValue(TRANSFER_BUFFER,"i32"),lt=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),ut=new Array(ot);if(ot>0){let ct=lt;for(let ht=0;ht<ot;ht++)ut[ht]=unmarshalNode(this.tree,ct),ct+=SIZE_OF_NODE}return C._free(lt),C._free(it),ut}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex($,et=$){if(typeof $!="number"||typeof et!="number")throw new Error("Arguments must be numbers");marshalNode(this);let tt=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(tt,$,"i32"),setValue(tt+SIZE_OF_INT,et,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex($,et=$){if(typeof $!="number"||typeof et!="number")throw new Error("Arguments must be numbers");marshalNode(this);let tt=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(tt,$,"i32"),setValue(tt+SIZE_OF_INT,et,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition($,et=$){if(!isPoint($)||!isPoint(et))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let tt=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(tt,$),marshalPoint(tt+SIZE_OF_POINT,et),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition($,et=$){if(!isPoint($)||!isPoint(et))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let tt=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(tt,$),marshalPoint(tt+SIZE_OF_POINT,et),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);const $=C._ts_node_to_string_wasm(this.tree[0]),et=AsciiToString($);return C._free($),et}}class TreeCursor{constructor($,et){assertInternal($),this.tree=et,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset($){marshalNode($),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);const $=C._ts_tree_cursor_start_index_wasm(this.tree[0]),et=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,$,et)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);const $=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),$===1}gotoNextSibling(){marshalTreeCursor(this);const $=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),$===1}gotoParent(){marshalTreeCursor(this);const $=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),$===1}}class Language{constructor($,et){assertInternal($),this[0]=et,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let tt=0,nt=this.types.length;tt<nt;tt++)C._ts_language_symbol_type(this[0],tt)<2&&(this.types[tt]=UTF8ToString(C._ts_language_symbol_name(this[0],tt)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let tt=0,nt=this.fields.length;tt<nt;tt++){const rt=C._ts_language_field_name_for_id(this[0],tt);this.fields[tt]=rt!==0?UTF8ToString(rt):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName($){const et=this.fields.indexOf($);return et!==-1?et:null}fieldNameForId($){return this.fields[$]||null}idForNodeType($,et){const tt=lengthBytesUTF8($),nt=C._malloc(tt+1);stringToUTF8($,nt,tt+1);const rt=C._ts_language_symbol_for_name(this[0],nt,tt,et);return C._free(nt),rt||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId($){const et=C._ts_language_symbol_name(this[0],$);return et?UTF8ToString(et):null}nodeTypeIsNamed($){return!!C._ts_language_type_is_named_wasm(this[0],$)}nodeTypeIsVisible($){return!!C._ts_language_type_is_visible_wasm(this[0],$)}query($){const et=lengthBytesUTF8($),tt=C._malloc(et+1);stringToUTF8($,tt,et+1);const nt=C._ts_query_new(this[0],tt,et,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!nt){const Ot=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),wt=UTF8ToString(tt,getValue(TRANSFER_BUFFER,"i32")).length,St=$.substr(wt,100).split(`
`)[0];let vt,Tt=St.match(QUERY_WORD_REGEX)[0];switch(Ot){case 2:vt=new RangeError(`Bad node name '${Tt}'`);break;case 3:vt=new RangeError(`Bad field name '${Tt}'`);break;case 4:vt=new RangeError(`Bad capture name @${Tt}`);break;case 5:vt=new TypeError(`Bad pattern structure at offset ${wt}: '${St}'...`),Tt="";break;default:vt=new SyntaxError(`Bad syntax at offset ${wt}: '${St}'...`),Tt=""}throw vt.index=wt,vt.length=Tt.length,C._free(tt),vt}const rt=C._ts_query_string_count(nt),it=C._ts_query_capture_count(nt),ot=C._ts_query_pattern_count(nt),lt=new Array(it),ut=new Array(rt);for(let Ot=0;Ot<it;Ot++){const wt=C._ts_query_capture_name_for_id(nt,Ot,TRANSFER_BUFFER),St=getValue(TRANSFER_BUFFER,"i32");lt[Ot]=UTF8ToString(wt,St)}for(let Ot=0;Ot<rt;Ot++){const wt=C._ts_query_string_value_for_id(nt,Ot,TRANSFER_BUFFER),St=getValue(TRANSFER_BUFFER,"i32");ut[Ot]=UTF8ToString(wt,St)}const ct=new Array(ot),ht=new Array(ot),dt=new Array(ot),mt=new Array(ot),gt=new Array(ot);for(let Ot=0;Ot<ot;Ot++){const wt=C._ts_query_predicates_for_pattern(nt,Ot,TRANSFER_BUFFER),St=getValue(TRANSFER_BUFFER,"i32");mt[Ot]=[],gt[Ot]=[];const vt=[];let Tt=wt;for(let Et=0;Et<St;Et++){const Pt=getValue(Tt,"i32");Tt+=SIZE_OF_INT;const Mt=getValue(Tt,"i32");if(Tt+=SIZE_OF_INT,Pt===PREDICATE_STEP_TYPE_CAPTURE)vt.push({type:"capture",name:lt[Mt]});else if(Pt===PREDICATE_STEP_TYPE_STRING)vt.push({type:"string",value:ut[Mt]});else if(vt.length>0){if(vt[0].type!=="string")throw new Error("Predicates must begin with a literal value");const Rt=vt[0].value;let Lt=!0;switch(Rt){case"not-eq?":Lt=!1;case"eq?":if(vt.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(vt.length-1));if(vt[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${vt[1].value}"`);if(vt[2].type==="capture"){const Xt=vt[1].name,ln=vt[2].name;gt[Ot].push(function(cn){let yn,En;for(const vn of cn)vn.name===Xt&&(yn=vn.node),vn.name===ln&&(En=vn.node);return yn===void 0||En===void 0||yn.text===En.text===Lt})}else{const Xt=vt[1].name,ln=vt[2].value;gt[Ot].push(function(cn){for(const yn of cn)if(yn.name===Xt)return yn.node.text===ln===Lt;return!0})}break;case"not-match?":Lt=!1;case"match?":if(vt.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${vt.length-1}.`);if(vt[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${vt[1].value}".`);if(vt[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${vt[2].value}.`);const Wt=vt[1].name,Ft=new RegExp(vt[2].value);gt[Ot].push(function(Xt){for(const ln of Xt)if(ln.name===Wt)return Ft.test(ln.node.text)===Lt;return!0});break;case"set!":if(vt.length<2||vt.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${vt.length-1}.`);if(vt.some(Xt=>Xt.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');ct[Ot]||(ct[Ot]={}),ct[Ot][vt[1].value]=vt[2]?vt[2].value:null;break;case"is?":case"is-not?":if(vt.length<2||vt.length>3)throw new Error(`Wrong number of arguments to \`#${Rt}\` predicate. Expected 1 or 2. Got ${vt.length-1}.`);if(vt.some(Xt=>Xt.type!=="string"))throw new Error(`Arguments to \`#${Rt}\` predicate must be a strings.".`);const Ut=Rt==="is?"?ht:dt;Ut[Ot]||(Ut[Ot]={}),Ut[Ot][vt[1].value]=vt[2]?vt[2].value:null;break;default:mt[Ot].push({operator:Rt,operands:vt.slice(1)})}vt.length=0}}Object.freeze(ct[Ot]),Object.freeze(ht[Ot]),Object.freeze(dt[Ot])}return C._free(tt),new Query(INTERNAL,nt,lt,gt,mt,Object.freeze(ct),Object.freeze(ht),Object.freeze(dt))}static load($){let et;if($ instanceof Uint8Array)et=Promise.resolve($);else{const nt=$;if(typeof process<"u"&&process.versions&&process.versions.node){const rt=require$$0;et=Promise.resolve(rt.readFileSync(nt))}else et=fetch(nt).then(rt=>rt.arrayBuffer().then(it=>{if(rt.ok)return new Uint8Array(it);{const ot=new TextDecoder("utf-8").decode(it);throw new Error(`Language.load failed with status ${rt.status}.

${ot}`)}}))}const tt=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return et.then(nt=>tt(nt,{loadAsync:!0})).then(nt=>{const rt=Object.keys(nt),it=rt.find(lt=>LANGUAGE_FUNCTION_REGEX.test(lt)&&!lt.includes("external_scanner_"));it||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(rt,null,2)}`);const ot=nt[it]();return new Language(INTERNAL,ot)})}}class Query{constructor($,et,tt,nt,rt,it,ot,lt){assertInternal($),this[0]=et,this.captureNames=tt,this.textPredicates=nt,this.predicates=rt,this.setProperties=it,this.assertedProperties=ot,this.refutedProperties=lt,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches($,et,tt,nt){et||(et=ZERO_POINT),tt||(tt=ZERO_POINT),nt||(nt={});let rt=nt.matchLimit;if(rt===void 0)rt=0;else if(typeof rt!="number")throw new Error("Arguments must be numbers");marshalNode($),C._ts_query_matches_wasm(this[0],$.tree[0],et.row,et.column,tt.row,tt.column,rt);const it=getValue(TRANSFER_BUFFER,"i32"),ot=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),lt=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),ut=new Array(it);this.exceededMatchLimit=!!lt;let ct=0,ht=ot;for(let dt=0;dt<it;dt++){const mt=getValue(ht,"i32");ht+=SIZE_OF_INT;const gt=getValue(ht,"i32");ht+=SIZE_OF_INT;const Ot=new Array(gt);if(ht=unmarshalCaptures(this,$.tree,ht,Ot),this.textPredicates[mt].every(wt=>wt(Ot))){ut[ct++]={pattern:mt,captures:Ot};const wt=this.setProperties[mt];wt&&(ut[dt].setProperties=wt);const St=this.assertedProperties[mt];St&&(ut[dt].assertedProperties=St);const vt=this.refutedProperties[mt];vt&&(ut[dt].refutedProperties=vt)}}return ut.length=ct,C._free(ot),ut}captures($,et,tt,nt){et||(et=ZERO_POINT),tt||(tt=ZERO_POINT),nt||(nt={});let rt=nt.matchLimit;if(rt===void 0)rt=0;else if(typeof rt!="number")throw new Error("Arguments must be numbers");marshalNode($),C._ts_query_captures_wasm(this[0],$.tree[0],et.row,et.column,tt.row,tt.column,rt);const it=getValue(TRANSFER_BUFFER,"i32"),ot=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),lt=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),ut=[];this.exceededMatchLimit=!!lt;const ct=[];let ht=ot;for(let dt=0;dt<it;dt++){const mt=getValue(ht,"i32");ht+=SIZE_OF_INT;const gt=getValue(ht,"i32");ht+=SIZE_OF_INT;const Ot=getValue(ht,"i32");if(ht+=SIZE_OF_INT,ct.length=gt,ht=unmarshalCaptures(this,$.tree,ht,ct),this.textPredicates[mt].every(wt=>wt(ct))){const wt=ct[Ot],St=this.setProperties[mt];St&&(wt.setProperties=St);const vt=this.assertedProperties[mt];vt&&(wt.assertedProperties=vt);const Tt=this.refutedProperties[mt];Tt&&(wt.refutedProperties=Tt),ut.push(wt)}}return C._free(ot),ut}predicatesForPattern($){return this.predicates[$]}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(_e,$,et){const tt=et-$;let nt=_e.textCallback($,null,et);for($+=nt.length;$<et;){const rt=_e.textCallback($,null,et);if(!(rt&&rt.length>0))break;$+=rt.length,nt+=rt}return $>et&&(nt=nt.slice(0,tt)),nt}function unmarshalCaptures(_e,$,et,tt){for(let nt=0,rt=tt.length;nt<rt;nt++){const it=getValue(et,"i32"),ot=unmarshalNode($,et+=SIZE_OF_INT);et+=SIZE_OF_NODE,tt[nt]={name:_e.captureNames[it],node:ot}}return et}function assertInternal(_e){if(_e!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(_e){return _e&&typeof _e.row=="number"&&typeof _e.column=="number"}function marshalNode(_e){let $=TRANSFER_BUFFER;setValue($,_e.id,"i32"),$+=SIZE_OF_INT,setValue($,_e.startIndex,"i32"),$+=SIZE_OF_INT,setValue($,_e.startPosition.row,"i32"),$+=SIZE_OF_INT,setValue($,_e.startPosition.column,"i32"),$+=SIZE_OF_INT,setValue($,_e[0],"i32")}function unmarshalNode(_e,$=TRANSFER_BUFFER){const et=getValue($,"i32");if(et===0)return null;const tt=getValue($+=SIZE_OF_INT,"i32"),nt=getValue($+=SIZE_OF_INT,"i32"),rt=getValue($+=SIZE_OF_INT,"i32"),it=getValue($+=SIZE_OF_INT,"i32"),ot=new Node(INTERNAL,_e);return ot.id=et,ot.startIndex=tt,ot.startPosition={row:nt,column:rt},ot[0]=it,ot}function marshalTreeCursor(_e,$=TRANSFER_BUFFER){setValue($+0*SIZE_OF_INT,_e[0],"i32"),setValue($+1*SIZE_OF_INT,_e[1],"i32"),setValue($+2*SIZE_OF_INT,_e[2],"i32")}function unmarshalTreeCursor(_e){_e[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),_e[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),_e[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}function marshalPoint(_e,$){setValue(_e,$.row,"i32"),setValue(_e+SIZE_OF_INT,$.column,"i32")}function unmarshalPoint(_e){return{row:getValue(_e,"i32"),column:getValue(_e+SIZE_OF_INT,"i32")}}function marshalRange(_e,$){marshalPoint(_e,$.startPosition),marshalPoint(_e+=SIZE_OF_POINT,$.endPosition),setValue(_e+=SIZE_OF_POINT,$.startIndex,"i32"),setValue(_e+=SIZE_OF_INT,$.endIndex,"i32"),_e+=SIZE_OF_INT}function unmarshalRange(_e){const $={};return $.startPosition=unmarshalPoint(_e),_e+=SIZE_OF_POINT,$.endPosition=unmarshalPoint(_e),_e+=SIZE_OF_POINT,$.startIndex=getValue(_e,"i32"),_e+=SIZE_OF_INT,$.endIndex=getValue(_e,"i32"),$}function marshalEdit(_e){let $=TRANSFER_BUFFER;marshalPoint($,_e.startPosition),$+=SIZE_OF_POINT,marshalPoint($,_e.oldEndPosition),$+=SIZE_OF_POINT,marshalPoint($,_e.newEndPosition),$+=SIZE_OF_POINT,setValue($,_e.startIndex,"i32"),$+=SIZE_OF_INT,setValue($,_e.oldEndIndex,"i32"),$+=SIZE_OF_INT,setValue($,_e.newEndIndex,"i32"),$+=SIZE_OF_INT}for(const _e of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,_e,{value:ParserImpl.prototype[_e],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();module.exports=TreeSitter})(treeSitter);var treeSitterExports=treeSitter.exports;const Parser$1=getDefaultExportFromCjs(treeSitterExports);class Text{lineAt($){if($<0||$>this.length)throw new RangeError(`Invalid position ${$} in document of length ${this.length}`);return this.lineInner($,!1,1,0)}line($){if($<1||$>this.lines)throw new RangeError(`Invalid line number ${$} in ${this.lines}-line document`);return this.lineInner($,!0,1,0)}replace($,et,tt){[$,et]=clip(this,$,et);let nt=[];return this.decompose(0,$,nt,2),tt.length&&tt.decompose(0,tt.length,nt,3),this.decompose(et,this.length,nt,1),TextNode.from(nt,this.length-(et-$)+tt.length)}append($){return this.replace(this.length,this.length,$)}slice($,et=this.length){[$,et]=clip(this,$,et);let tt=[];return this.decompose($,et,tt,0),TextNode.from(tt,et-$)}eq($){if($==this)return!0;if($.length!=this.length||$.lines!=this.lines)return!1;let et=this.scanIdentical($,1),tt=this.length-this.scanIdentical($,-1),nt=new RawTextCursor(this),rt=new RawTextCursor($);for(let it=et,ot=et;;){if(nt.next(it),rt.next(it),it=0,nt.lineBreak!=rt.lineBreak||nt.done!=rt.done||nt.value!=rt.value)return!1;if(ot+=nt.value.length,nt.done||ot>=tt)return!0}}iter($=1){return new RawTextCursor(this,$)}iterRange($,et=this.length){return new PartialTextCursor(this,$,et)}iterLines($,et){let tt;if($==null)tt=this.iter();else{et==null&&(et=this.lines+1);let nt=this.line($).from;tt=this.iterRange(nt,Math.max(nt,et==this.lines+1?this.length:et<=1?0:this.line(et-1).to))}return new LineCursor(tt)}toString(){return this.sliceString(0)}toJSON(){let $=[];return this.flatten($),$}constructor(){}static of($){if($.length==0)throw new RangeError("A document must have at least one line");return $.length==1&&!$[0]?Text.empty:$.length<=32?new TextLeaf($):TextNode.from(TextLeaf.split($,[]))}}class TextLeaf extends Text{constructor($,et=textLength($)){super(),this.text=$,this.length=et}get lines(){return this.text.length}get children(){return null}lineInner($,et,tt,nt){for(let rt=0;;rt++){let it=this.text[rt],ot=nt+it.length;if((et?tt:ot)>=$)return new Line(nt,ot,tt,it);nt=ot+1,tt++}}decompose($,et,tt,nt){let rt=$<=0&&et>=this.length?this:new TextLeaf(sliceText(this.text,$,et),Math.min(et,this.length)-Math.max(0,$));if(nt&1){let it=tt.pop(),ot=appendText(rt.text,it.text.slice(),0,rt.length);if(ot.length<=32)tt.push(new TextLeaf(ot,it.length+rt.length));else{let lt=ot.length>>1;tt.push(new TextLeaf(ot.slice(0,lt)),new TextLeaf(ot.slice(lt)))}}else tt.push(rt)}replace($,et,tt){if(!(tt instanceof TextLeaf))return super.replace($,et,tt);[$,et]=clip(this,$,et);let nt=appendText(this.text,appendText(tt.text,sliceText(this.text,0,$)),et),rt=this.length+tt.length-(et-$);return nt.length<=32?new TextLeaf(nt,rt):TextNode.from(TextLeaf.split(nt,[]),rt)}sliceString($,et=this.length,tt=`
`){[$,et]=clip(this,$,et);let nt="";for(let rt=0,it=0;rt<=et&&it<this.text.length;it++){let ot=this.text[it],lt=rt+ot.length;rt>$&&it&&(nt+=tt),$<lt&&et>rt&&(nt+=ot.slice(Math.max(0,$-rt),et-rt)),rt=lt+1}return nt}flatten($){for(let et of this.text)$.push(et)}scanIdentical(){return 0}static split($,et){let tt=[],nt=-1;for(let rt of $)tt.push(rt),nt+=rt.length+1,tt.length==32&&(et.push(new TextLeaf(tt,nt)),tt=[],nt=-1);return nt>-1&&et.push(new TextLeaf(tt,nt)),et}}class TextNode extends Text{constructor($,et){super(),this.children=$,this.length=et,this.lines=0;for(let tt of $)this.lines+=tt.lines}lineInner($,et,tt,nt){for(let rt=0;;rt++){let it=this.children[rt],ot=nt+it.length,lt=tt+it.lines-1;if((et?lt:ot)>=$)return it.lineInner($,et,tt,nt);nt=ot+1,tt=lt+1}}decompose($,et,tt,nt){for(let rt=0,it=0;it<=et&&rt<this.children.length;rt++){let ot=this.children[rt],lt=it+ot.length;if($<=lt&&et>=it){let ut=nt&((it<=$?1:0)|(lt>=et?2:0));it>=$&&lt<=et&&!ut?tt.push(ot):ot.decompose($-it,et-it,tt,ut)}it=lt+1}}replace($,et,tt){if([$,et]=clip(this,$,et),tt.lines<this.lines)for(let nt=0,rt=0;nt<this.children.length;nt++){let it=this.children[nt],ot=rt+it.length;if($>=rt&&et<=ot){let lt=it.replace($-rt,et-rt,tt),ut=this.lines-it.lines+lt.lines;if(lt.lines<ut>>4&&lt.lines>ut>>6){let ct=this.children.slice();return ct[nt]=lt,new TextNode(ct,this.length-(et-$)+tt.length)}return super.replace(rt,ot,lt)}rt=ot+1}return super.replace($,et,tt)}sliceString($,et=this.length,tt=`
`){[$,et]=clip(this,$,et);let nt="";for(let rt=0,it=0;rt<this.children.length&&it<=et;rt++){let ot=this.children[rt],lt=it+ot.length;it>$&&rt&&(nt+=tt),$<lt&&et>it&&(nt+=ot.sliceString($-it,et-it,tt)),it=lt+1}return nt}flatten($){for(let et of this.children)et.flatten($)}scanIdentical($,et){if(!($ instanceof TextNode))return 0;let tt=0,[nt,rt,it,ot]=et>0?[0,0,this.children.length,$.children.length]:[this.children.length-1,$.children.length-1,-1,-1];for(;;nt+=et,rt+=et){if(nt==it||rt==ot)return tt;let lt=this.children[nt],ut=$.children[rt];if(lt!=ut)return tt+lt.scanIdentical(ut,et);tt+=lt.length+1}}static from($,et=$.reduce((tt,nt)=>tt+nt.length+1,-1)){let tt=0;for(let mt of $)tt+=mt.lines;if(tt<32){let mt=[];for(let gt of $)gt.flatten(mt);return new TextLeaf(mt,et)}let nt=Math.max(32,tt>>5),rt=nt<<1,it=nt>>1,ot=[],lt=0,ut=-1,ct=[];function ht(mt){let gt;if(mt.lines>rt&&mt instanceof TextNode)for(let Ot of mt.children)ht(Ot);else mt.lines>it&&(lt>it||!lt)?(dt(),ot.push(mt)):mt instanceof TextLeaf&&lt&&(gt=ct[ct.length-1])instanceof TextLeaf&&mt.lines+gt.lines<=32?(lt+=mt.lines,ut+=mt.length+1,ct[ct.length-1]=new TextLeaf(gt.text.concat(mt.text),gt.length+1+mt.length)):(lt+mt.lines>nt&&dt(),lt+=mt.lines,ut+=mt.length+1,ct.push(mt))}function dt(){lt!=0&&(ot.push(ct.length==1?ct[0]:TextNode.from(ct,ut)),ut=-1,lt=ct.length=0)}for(let mt of $)ht(mt);return dt(),ot.length==1?ot[0]:new TextNode(ot,et)}}Text.empty=new TextLeaf([""],0);function textLength(_e){let $=-1;for(let et of _e)$+=et.length+1;return $}function appendText(_e,$,et=0,tt=1e9){for(let nt=0,rt=0,it=!0;rt<_e.length&&nt<=tt;rt++){let ot=_e[rt],lt=nt+ot.length;lt>=et&&(lt>tt&&(ot=ot.slice(0,tt-nt)),nt<et&&(ot=ot.slice(et-nt)),it?($[$.length-1]+=ot,it=!1):$.push(ot)),nt=lt+1}return $}function sliceText(_e,$,et){return appendText(_e,[""],$,et)}class RawTextCursor{constructor($,et=1){this.dir=et,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[$],this.offsets=[et>0?1:($ instanceof TextLeaf?$.text.length:$.children.length)<<1]}nextInner($,et){for(this.done=this.lineBreak=!1;;){let tt=this.nodes.length-1,nt=this.nodes[tt],rt=this.offsets[tt],it=rt>>1,ot=nt instanceof TextLeaf?nt.text.length:nt.children.length;if(it==(et>0?ot:0)){if(tt==0)return this.done=!0,this.value="",this;et>0&&this.offsets[tt-1]++,this.nodes.pop(),this.offsets.pop()}else if((rt&1)==(et>0?0:1)){if(this.offsets[tt]+=et,$==0)return this.lineBreak=!0,this.value=`
`,this;$--}else if(nt instanceof TextLeaf){let lt=nt.text[it+(et<0?-1:0)];if(this.offsets[tt]+=et,lt.length>Math.max(0,$))return this.value=$==0?lt:et>0?lt.slice($):lt.slice(0,lt.length-$),this;$-=lt.length}else{let lt=nt.children[it+(et<0?-1:0)];$>lt.length?($-=lt.length,this.offsets[tt]+=et):(et<0&&this.offsets[tt]--,this.nodes.push(lt),this.offsets.push(et>0?1:(lt instanceof TextLeaf?lt.text.length:lt.children.length)<<1))}}}next($=0){return $<0&&(this.nextInner(-$,-this.dir),$=this.value.length),this.nextInner($,this.dir)}}class PartialTextCursor{constructor($,et,tt){this.value="",this.done=!1,this.cursor=new RawTextCursor($,et>tt?-1:1),this.pos=et>tt?$.length:0,this.from=Math.min(et,tt),this.to=Math.max(et,tt)}nextInner($,et){if(et<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;$+=Math.max(0,et<0?this.pos-this.to:this.from-this.pos);let tt=et<0?this.pos-this.from:this.to-this.pos;$>tt&&($=tt),tt-=$;let{value:nt}=this.cursor.next($);return this.pos+=(nt.length+$)*et,this.value=nt.length<=tt?nt:et<0?nt.slice(nt.length-tt):nt.slice(0,tt),this.done=!this.value,this}next($=0){return $<0?$=Math.max($,this.from-this.pos):$>0&&($=Math.min($,this.to-this.pos)),this.nextInner($,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor($){this.inner=$,this.afterBreak=!0,this.value="",this.done=!1}next($=0){let{done:et,lineBreak:tt,value:nt}=this.inner.next($);return et&&this.afterBreak?(this.value="",this.afterBreak=!1):et?(this.done=!0,this.value=""):tt?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=nt,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor($,et,tt,nt){this.from=$,this.to=et,this.number=tt,this.text=nt}get length(){return this.to-this.from}}function clip(_e,$,et){return $=Math.max(0,Math.min(_e.length,$)),[$,Math.max($,Math.min(_e.length,et))]}let extend="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(_e=>_e?parseInt(_e,36):1);for(let _e=1;_e<extend.length;_e++)extend[_e]+=extend[_e-1];function isExtendingChar(_e){for(let $=1;$<extend.length;$+=2)if(extend[$]>_e)return extend[$-1]<=_e;return!1}function isRegionalIndicator(_e){return _e>=127462&&_e<=127487}const ZWJ=8205;function findClusterBreak(_e,$,et=!0,tt=!0){return(et?nextClusterBreak:prevClusterBreak)(_e,$,tt)}function nextClusterBreak(_e,$,et){if($==_e.length)return $;$&&surrogateLow(_e.charCodeAt($))&&surrogateHigh(_e.charCodeAt($-1))&&$--;let tt=codePointAt(_e,$);for($+=codePointSize(tt);$<_e.length;){let nt=codePointAt(_e,$);if(tt==ZWJ||nt==ZWJ||et&&isExtendingChar(nt))$+=codePointSize(nt),tt=nt;else if(isRegionalIndicator(nt)){let rt=0,it=$-2;for(;it>=0&&isRegionalIndicator(codePointAt(_e,it));)rt++,it-=2;if(rt%2==0)break;$+=2}else break}return $}function prevClusterBreak(_e,$,et){for(;$>0;){let tt=nextClusterBreak(_e,$-2,et);if(tt<$)return tt;$--}return 0}function surrogateLow(_e){return _e>=56320&&_e<57344}function surrogateHigh(_e){return _e>=55296&&_e<56320}function codePointAt(_e,$){let et=_e.charCodeAt($);if(!surrogateHigh(et)||$+1==_e.length)return et;let tt=_e.charCodeAt($+1);return surrogateLow(tt)?(et-55296<<10)+(tt-56320)+65536:et}function fromCodePoint(_e){return _e<=65535?String.fromCharCode(_e):(_e-=65536,String.fromCharCode((_e>>10)+55296,(_e&1023)+56320))}function codePointSize(_e){return _e<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=function(_e){return _e[_e.Simple=0]="Simple",_e[_e.TrackDel=1]="TrackDel",_e[_e.TrackBefore=2]="TrackBefore",_e[_e.TrackAfter=3]="TrackAfter",_e}(MapMode||(MapMode={}));class ChangeDesc{constructor($){this.sections=$}get length(){let $=0;for(let et=0;et<this.sections.length;et+=2)$+=this.sections[et];return $}get newLength(){let $=0;for(let et=0;et<this.sections.length;et+=2){let tt=this.sections[et+1];$+=tt<0?this.sections[et]:tt}return $}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps($){for(let et=0,tt=0,nt=0;et<this.sections.length;){let rt=this.sections[et++],it=this.sections[et++];it<0?($(tt,nt,rt),nt+=rt):nt+=it,tt+=rt}}iterChangedRanges($,et=!1){iterChanges(this,$,et)}get invertedDesc(){let $=[];for(let et=0;et<this.sections.length;){let tt=this.sections[et++],nt=this.sections[et++];nt<0?$.push(tt,nt):$.push(nt,tt)}return new ChangeDesc($)}composeDesc($){return this.empty?$:$.empty?this:composeSets(this,$)}mapDesc($,et=!1){return $.empty?this:mapSet(this,$,et)}mapPos($,et=-1,tt=MapMode.Simple){let nt=0,rt=0;for(let it=0;it<this.sections.length;){let ot=this.sections[it++],lt=this.sections[it++],ut=nt+ot;if(lt<0){if(ut>$)return rt+($-nt);rt+=ot}else{if(tt!=MapMode.Simple&&ut>=$&&(tt==MapMode.TrackDel&&nt<$&&ut>$||tt==MapMode.TrackBefore&&nt<$||tt==MapMode.TrackAfter&&ut>$))return null;if(ut>$||ut==$&&et<0&&!ot)return $==nt||et<0?rt:rt+lt;rt+=lt}nt=ut}if($>nt)throw new RangeError(`Position ${$} is out of range for changeset of length ${nt}`);return rt}touchesRange($,et=$){for(let tt=0,nt=0;tt<this.sections.length&&nt<=et;){let rt=this.sections[tt++],it=this.sections[tt++],ot=nt+rt;if(it>=0&&nt<=et&&ot>=$)return nt<$&&ot>et?"cover":!0;nt=ot}return!1}toString(){let $="";for(let et=0;et<this.sections.length;){let tt=this.sections[et++],nt=this.sections[et++];$+=($?" ":"")+tt+(nt>=0?":"+nt:"")}return $}toJSON(){return this.sections}static fromJSON($){if(!Array.isArray($)||$.length%2||$.some(et=>typeof et!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc($)}static create($){return new ChangeDesc($)}}class ChangeSet extends ChangeDesc{constructor($,et){super($),this.inserted=et}apply($){if(this.length!=$.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(et,tt,nt,rt,it)=>$=$.replace(nt,nt+(tt-et),it),!1),$}mapDesc($,et=!1){return mapSet(this,$,et,!0)}invert($){let et=this.sections.slice(),tt=[];for(let nt=0,rt=0;nt<et.length;nt+=2){let it=et[nt],ot=et[nt+1];if(ot>=0){et[nt]=ot,et[nt+1]=it;let lt=nt>>1;for(;tt.length<lt;)tt.push(Text.empty);tt.push(it?$.slice(rt,rt+it):Text.empty)}rt+=it}return new ChangeSet(et,tt)}compose($){return this.empty?$:$.empty?this:composeSets(this,$,!0)}map($,et=!1){return $.empty?this:mapSet(this,$,et,!0)}iterChanges($,et=!1){iterChanges(this,$,et)}get desc(){return ChangeDesc.create(this.sections)}filter($){let et=[],tt=[],nt=[],rt=new SectionIter(this);e:for(let it=0,ot=0;;){let lt=it==$.length?1e9:$[it++];for(;ot<lt||ot==lt&&rt.len==0;){if(rt.done)break e;let ct=Math.min(rt.len,lt-ot);addSection(nt,ct,-1);let ht=rt.ins==-1?-1:rt.off==0?rt.ins:0;addSection(et,ct,ht),ht>0&&addInsert(tt,et,rt.text),rt.forward(ct),ot+=ct}let ut=$[it++];for(;ot<ut;){if(rt.done)break e;let ct=Math.min(rt.len,ut-ot);addSection(et,ct,-1),addSection(nt,ct,rt.ins==-1?-1:rt.off==0?rt.ins:0),rt.forward(ct),ot+=ct}}return{changes:new ChangeSet(et,tt),filtered:ChangeDesc.create(nt)}}toJSON(){let $=[];for(let et=0;et<this.sections.length;et+=2){let tt=this.sections[et],nt=this.sections[et+1];nt<0?$.push(tt):nt==0?$.push([tt]):$.push([tt].concat(this.inserted[et>>1].toJSON()))}return $}static of($,et,tt){let nt=[],rt=[],it=0,ot=null;function lt(ct=!1){if(!ct&&!nt.length)return;it<et&&addSection(nt,et-it,-1);let ht=new ChangeSet(nt,rt);ot=ot?ot.compose(ht.map(ot)):ht,nt=[],rt=[],it=0}function ut(ct){if(Array.isArray(ct))for(let ht of ct)ut(ht);else if(ct instanceof ChangeSet){if(ct.length!=et)throw new RangeError(`Mismatched change set length (got ${ct.length}, expected ${et})`);lt(),ot=ot?ot.compose(ct.map(ot)):ct}else{let{from:ht,to:dt=ht,insert:mt}=ct;if(ht>dt||ht<0||dt>et)throw new RangeError(`Invalid change range ${ht} to ${dt} (in doc of length ${et})`);let gt=mt?typeof mt=="string"?Text.of(mt.split(tt||DefaultSplit)):mt:Text.empty,Ot=gt.length;if(ht==dt&&Ot==0)return;ht<it&&lt(),ht>it&&addSection(nt,ht-it,-1),addSection(nt,dt-ht,Ot),addInsert(rt,nt,gt),it=dt}}return ut($),lt(!ot),ot}static empty($){return new ChangeSet($?[$,-1]:[],[])}static fromJSON($){if(!Array.isArray($))throw new RangeError("Invalid JSON representation of ChangeSet");let et=[],tt=[];for(let nt=0;nt<$.length;nt++){let rt=$[nt];if(typeof rt=="number")et.push(rt,-1);else{if(!Array.isArray(rt)||typeof rt[0]!="number"||rt.some((it,ot)=>ot&&typeof it!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(rt.length==1)et.push(rt[0],0);else{for(;tt.length<nt;)tt.push(Text.empty);tt[nt]=Text.of(rt.slice(1)),et.push(rt[0],tt[nt].length)}}}return new ChangeSet(et,tt)}static createSet($,et){return new ChangeSet($,et)}}function addSection(_e,$,et,tt=!1){if($==0&&et<=0)return;let nt=_e.length-2;nt>=0&&et<=0&&et==_e[nt+1]?_e[nt]+=$:$==0&&_e[nt]==0?_e[nt+1]+=et:tt?(_e[nt]+=$,_e[nt+1]+=et):_e.push($,et)}function addInsert(_e,$,et){if(et.length==0)return;let tt=$.length-2>>1;if(tt<_e.length)_e[_e.length-1]=_e[_e.length-1].append(et);else{for(;_e.length<tt;)_e.push(Text.empty);_e.push(et)}}function iterChanges(_e,$,et){let tt=_e.inserted;for(let nt=0,rt=0,it=0;it<_e.sections.length;){let ot=_e.sections[it++],lt=_e.sections[it++];if(lt<0)nt+=ot,rt+=ot;else{let ut=nt,ct=rt,ht=Text.empty;for(;ut+=ot,ct+=lt,lt&&tt&&(ht=ht.append(tt[it-2>>1])),!(et||it==_e.sections.length||_e.sections[it+1]<0);)ot=_e.sections[it++],lt=_e.sections[it++];$(nt,ut,rt,ct,ht),nt=ut,rt=ct}}}function mapSet(_e,$,et,tt=!1){let nt=[],rt=tt?[]:null,it=new SectionIter(_e),ot=new SectionIter($);for(let lt=-1;;)if(it.ins==-1&&ot.ins==-1){let ut=Math.min(it.len,ot.len);addSection(nt,ut,-1),it.forward(ut),ot.forward(ut)}else if(ot.ins>=0&&(it.ins<0||lt==it.i||it.off==0&&(ot.len<it.len||ot.len==it.len&&!et))){let ut=ot.len;for(addSection(nt,ot.ins,-1);ut;){let ct=Math.min(it.len,ut);it.ins>=0&&lt<it.i&&it.len<=ct&&(addSection(nt,0,it.ins),rt&&addInsert(rt,nt,it.text),lt=it.i),it.forward(ct),ut-=ct}ot.next()}else if(it.ins>=0){let ut=0,ct=it.len;for(;ct;)if(ot.ins==-1){let ht=Math.min(ct,ot.len);ut+=ht,ct-=ht,ot.forward(ht)}else if(ot.ins==0&&ot.len<ct)ct-=ot.len,ot.next();else break;addSection(nt,ut,lt<it.i?it.ins:0),rt&&lt<it.i&&addInsert(rt,nt,it.text),lt=it.i,it.forward(it.len-ct)}else{if(it.done&&ot.done)return rt?ChangeSet.createSet(nt,rt):ChangeDesc.create(nt);throw new Error("Mismatched change set lengths")}}function composeSets(_e,$,et=!1){let tt=[],nt=et?[]:null,rt=new SectionIter(_e),it=new SectionIter($);for(let ot=!1;;){if(rt.done&&it.done)return nt?ChangeSet.createSet(tt,nt):ChangeDesc.create(tt);if(rt.ins==0)addSection(tt,rt.len,0,ot),rt.next();else if(it.len==0&&!it.done)addSection(tt,0,it.ins,ot),nt&&addInsert(nt,tt,it.text),it.next();else{if(rt.done||it.done)throw new Error("Mismatched change set lengths");{let lt=Math.min(rt.len2,it.len),ut=tt.length;if(rt.ins==-1){let ct=it.ins==-1?-1:it.off?0:it.ins;addSection(tt,lt,ct,ot),nt&&ct&&addInsert(nt,tt,it.text)}else it.ins==-1?(addSection(tt,rt.off?0:rt.len,lt,ot),nt&&addInsert(nt,tt,rt.textBit(lt))):(addSection(tt,rt.off?0:rt.len,it.off?0:it.ins,ot),nt&&!it.off&&addInsert(nt,tt,it.text));ot=(rt.ins>lt||it.ins>=0&&it.len>lt)&&(ot||tt.length>ut),rt.forward2(lt),it.forward(lt)}}}}class SectionIter{constructor($){this.set=$,this.i=0,this.next()}next(){let{sections:$}=this.set;this.i<$.length?(this.len=$[this.i++],this.ins=$[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:$}=this.set,et=this.i-2>>1;return et>=$.length?Text.empty:$[et]}textBit($){let{inserted:et}=this.set,tt=this.i-2>>1;return tt>=et.length&&!$?Text.empty:et[tt].slice(this.off,$==null?void 0:this.off+$)}forward($){$==this.len?this.next():(this.len-=$,this.off+=$)}forward2($){this.ins==-1?this.forward($):$==this.ins?this.next():(this.ins-=$,this.off+=$)}}class SelectionRange{constructor($,et,tt){this.from=$,this.to=et,this.flags=tt}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let $=this.flags&7;return $==7?null:$}get goalColumn(){let $=this.flags>>6;return $==16777215?void 0:$}map($,et=-1){let tt,nt;return this.empty?tt=nt=$.mapPos(this.from,et):(tt=$.mapPos(this.from,1),nt=$.mapPos(this.to,-1)),tt==this.from&&nt==this.to?this:new SelectionRange(tt,nt,this.flags)}extend($,et=$){if($<=this.anchor&&et>=this.anchor)return EditorSelection.range($,et);let tt=Math.abs($-this.anchor)>Math.abs(et-this.anchor)?$:et;return EditorSelection.range(this.anchor,tt)}eq($,et=!1){return this.anchor==$.anchor&&this.head==$.head&&(!et||!this.empty||this.assoc==$.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON($){if(!$||typeof $.anchor!="number"||typeof $.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range($.anchor,$.head)}static create($,et,tt){return new SelectionRange($,et,tt)}}class EditorSelection{constructor($,et){this.ranges=$,this.mainIndex=et}map($,et=-1){return $.empty?this:EditorSelection.create(this.ranges.map(tt=>tt.map($,et)),this.mainIndex)}eq($,et=!1){if(this.ranges.length!=$.ranges.length||this.mainIndex!=$.mainIndex)return!1;for(let tt=0;tt<this.ranges.length;tt++)if(!this.ranges[tt].eq($.ranges[tt],et))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange($,et=!0){return EditorSelection.create([$].concat(this.ranges),et?0:this.mainIndex+1)}replaceRange($,et=this.mainIndex){let tt=this.ranges.slice();return tt[et]=$,EditorSelection.create(tt,this.mainIndex)}toJSON(){return{ranges:this.ranges.map($=>$.toJSON()),main:this.mainIndex}}static fromJSON($){if(!$||!Array.isArray($.ranges)||typeof $.main!="number"||$.main>=$.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection($.ranges.map(et=>SelectionRange.fromJSON(et)),$.main)}static single($,et=$){return new EditorSelection([EditorSelection.range($,et)],0)}static create($,et=0){if($.length==0)throw new RangeError("A selection needs at least one range");for(let tt=0,nt=0;nt<$.length;nt++){let rt=$[nt];if(rt.empty?rt.from<=tt:rt.from<tt)return EditorSelection.normalized($.slice(),et);tt=rt.to}return new EditorSelection($,et)}static cursor($,et=0,tt,nt){return SelectionRange.create($,$,(et==0?0:et<0?8:16)|(tt==null?7:Math.min(6,tt))|(nt??16777215)<<6)}static range($,et,tt,nt){let rt=(tt??16777215)<<6|(nt==null?7:Math.min(6,nt));return et<$?SelectionRange.create(et,$,48|rt):SelectionRange.create($,et,(et>$?8:0)|rt)}static normalized($,et=0){let tt=$[et];$.sort((nt,rt)=>nt.from-rt.from),et=$.indexOf(tt);for(let nt=1;nt<$.length;nt++){let rt=$[nt],it=$[nt-1];if(rt.empty?rt.from<=it.to:rt.from<it.to){let ot=it.from,lt=Math.max(rt.to,it.to);nt<=et&&et--,$.splice(--nt,2,rt.anchor>rt.head?EditorSelection.range(lt,ot):EditorSelection.range(ot,lt))}}return new EditorSelection($,et)}}function checkSelection(_e,$){for(let et of _e.ranges)if(et.to>$)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor($,et,tt,nt,rt){this.combine=$,this.compareInput=et,this.compare=tt,this.isStatic=nt,this.id=nextID++,this.default=$([]),this.extensions=typeof rt=="function"?rt(this):rt}get reader(){return this}static define($={}){return new Facet($.combine||(et=>et),$.compareInput||((et,tt)=>et===tt),$.compare||($.combine?(et,tt)=>et===tt:sameArray$1),!!$.static,$.enables)}of($){return new FacetProvider([],this,0,$)}compute($,et){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider($,this,1,et)}computeN($,et){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider($,this,2,et)}from($,et){return et||(et=tt=>tt),this.compute([$],tt=>et(tt.field($)))}}function sameArray$1(_e,$){return _e==$||_e.length==$.length&&_e.every((et,tt)=>et===$[tt])}class FacetProvider{constructor($,et,tt,nt){this.dependencies=$,this.facet=et,this.type=tt,this.value=nt,this.id=nextID++}dynamicSlot($){var et;let tt=this.value,nt=this.facet.compareInput,rt=this.id,it=$[rt]>>1,ot=this.type==2,lt=!1,ut=!1,ct=[];for(let ht of this.dependencies)ht=="doc"?lt=!0:ht=="selection"?ut=!0:((et=$[ht.id])!==null&&et!==void 0?et:1)&1||ct.push($[ht.id]);return{create(ht){return ht.values[it]=tt(ht),1},update(ht,dt){if(lt&&dt.docChanged||ut&&(dt.docChanged||dt.selection)||ensureAll(ht,ct)){let mt=tt(ht);if(ot?!compareArray(mt,ht.values[it],nt):!nt(mt,ht.values[it]))return ht.values[it]=mt,1}return 0},reconfigure:(ht,dt)=>{let mt,gt=dt.config.address[rt];if(gt!=null){let Ot=getAddr(dt,gt);if(this.dependencies.every(wt=>wt instanceof Facet?dt.facet(wt)===ht.facet(wt):wt instanceof StateField?dt.field(wt,!1)==ht.field(wt,!1):!0)||(ot?compareArray(mt=tt(ht),Ot,nt):nt(mt=tt(ht),Ot)))return ht.values[it]=Ot,0}else mt=tt(ht);return ht.values[it]=mt,1}}}}function compareArray(_e,$,et){if(_e.length!=$.length)return!1;for(let tt=0;tt<_e.length;tt++)if(!et(_e[tt],$[tt]))return!1;return!0}function ensureAll(_e,$){let et=!1;for(let tt of $)ensureAddr(_e,tt)&1&&(et=!0);return et}function dynamicFacetSlot(_e,$,et){let tt=et.map(lt=>_e[lt.id]),nt=et.map(lt=>lt.type),rt=tt.filter(lt=>!(lt&1)),it=_e[$.id]>>1;function ot(lt){let ut=[];for(let ct=0;ct<tt.length;ct++){let ht=getAddr(lt,tt[ct]);if(nt[ct]==2)for(let dt of ht)ut.push(dt);else ut.push(ht)}return $.combine(ut)}return{create(lt){for(let ut of tt)ensureAddr(lt,ut);return lt.values[it]=ot(lt),1},update(lt,ut){if(!ensureAll(lt,rt))return 0;let ct=ot(lt);return $.compare(ct,lt.values[it])?0:(lt.values[it]=ct,1)},reconfigure(lt,ut){let ct=ensureAll(lt,tt),ht=ut.config.facets[$.id],dt=ut.facet($);if(ht&&!ct&&sameArray$1(et,ht))return lt.values[it]=dt,0;let mt=ot(lt);return $.compare(mt,dt)?(lt.values[it]=dt,0):(lt.values[it]=mt,1)}}}const initField=Facet.define({static:!0});class StateField{constructor($,et,tt,nt,rt){this.id=$,this.createF=et,this.updateF=tt,this.compareF=nt,this.spec=rt,this.provides=void 0}static define($){let et=new StateField(nextID++,$.create,$.update,$.compare||((tt,nt)=>tt===nt),$);return $.provide&&(et.provides=$.provide(et)),et}create($){let et=$.facet(initField).find(tt=>tt.field==this);return(et?.create||this.createF)($)}slot($){let et=$[this.id]>>1;return{create:tt=>(tt.values[et]=this.create(tt),1),update:(tt,nt)=>{let rt=tt.values[et],it=this.updateF(rt,nt);return this.compareF(rt,it)?0:(tt.values[et]=it,1)},reconfigure:(tt,nt)=>nt.config.address[this.id]!=null?(tt.values[et]=nt.field(this),0):(tt.values[et]=this.create(tt),1)}}init($){return[this,initField.of({field:this,create:$})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(_e){return $=>new PrecExtension($,_e)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor($,et){this.inner=$,this.prec=et}}class Compartment{of($){return new CompartmentInstance(this,$)}reconfigure($){return Compartment.reconfigure.of({compartment:this,extension:$})}get($){return $.config.compartments.get(this)}}class CompartmentInstance{constructor($,et){this.compartment=$,this.inner=et}}class Configuration{constructor($,et,tt,nt,rt,it){for(this.base=$,this.compartments=et,this.dynamicSlots=tt,this.address=nt,this.staticValues=rt,this.facets=it,this.statusTemplate=[];this.statusTemplate.length<tt.length;)this.statusTemplate.push(0)}staticFacet($){let et=this.address[$.id];return et==null?$.default:this.staticValues[et>>1]}static resolve($,et,tt){let nt=[],rt=Object.create(null),it=new Map;for(let dt of flatten($,et,it))dt instanceof StateField?nt.push(dt):(rt[dt.facet.id]||(rt[dt.facet.id]=[])).push(dt);let ot=Object.create(null),lt=[],ut=[];for(let dt of nt)ot[dt.id]=ut.length<<1,ut.push(mt=>dt.slot(mt));let ct=tt?.config.facets;for(let dt in rt){let mt=rt[dt],gt=mt[0].facet,Ot=ct&&ct[dt]||[];if(mt.every(wt=>wt.type==0))if(ot[gt.id]=lt.length<<1|1,sameArray$1(Ot,mt))lt.push(tt.facet(gt));else{let wt=gt.combine(mt.map(St=>St.value));lt.push(tt&&gt.compare(wt,tt.facet(gt))?tt.facet(gt):wt)}else{for(let wt of mt)wt.type==0?(ot[wt.id]=lt.length<<1|1,lt.push(wt.value)):(ot[wt.id]=ut.length<<1,ut.push(St=>wt.dynamicSlot(St)));ot[gt.id]=ut.length<<1,ut.push(wt=>dynamicFacetSlot(wt,gt,mt))}}let ht=ut.map(dt=>dt(ot));return new Configuration($,it,ht,ot,lt,rt)}}function flatten(_e,$,et){let tt=[[],[],[],[],[]],nt=new Map;function rt(it,ot){let lt=nt.get(it);if(lt!=null){if(lt<=ot)return;let ut=tt[lt].indexOf(it);ut>-1&&tt[lt].splice(ut,1),it instanceof CompartmentInstance&&et.delete(it.compartment)}if(nt.set(it,ot),Array.isArray(it))for(let ut of it)rt(ut,ot);else if(it instanceof CompartmentInstance){if(et.has(it.compartment))throw new RangeError("Duplicate use of compartment in extensions");let ut=$.get(it.compartment)||it.inner;et.set(it.compartment,ut),rt(ut,ot)}else if(it instanceof PrecExtension)rt(it.inner,it.prec);else if(it instanceof StateField)tt[ot].push(it),it.provides&&rt(it.provides,ot);else if(it instanceof FacetProvider)tt[ot].push(it),it.facet.extensions&&rt(it.facet.extensions,Prec_.default);else{let ut=it.extension;if(!ut)throw new Error(`Unrecognized extension value in extension set (${it}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);rt(ut,ot)}}return rt(_e,Prec_.default),tt.reduce((it,ot)=>it.concat(ot))}function ensureAddr(_e,$){if($&1)return 2;let et=$>>1,tt=_e.status[et];if(tt==4)throw new Error("Cyclic dependency between fields and/or facets");if(tt&2)return tt;_e.status[et]=4;let nt=_e.computeSlot(_e,_e.config.dynamicSlots[et]);return _e.status[et]=2|nt}function getAddr(_e,$){return $&1?_e.config.staticValues[$>>1]:_e.values[$>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:_e=>_e.some($=>$),static:!0}),lineSeparator=Facet.define({combine:_e=>_e.length?_e[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:_e=>_e.length?_e[0]:!1});class Annotation{constructor($,et){this.type=$,this.value=et}static define(){return new AnnotationType}}class AnnotationType{of($){return new Annotation(this,$)}}class StateEffectType{constructor($){this.map=$}of($){return new StateEffect(this,$)}}class StateEffect{constructor($,et){this.type=$,this.value=et}map($){let et=this.type.map(this.value,$);return et===void 0?void 0:et==this.value?this:new StateEffect(this.type,et)}is($){return this.type==$}static define($={}){return new StateEffectType($.map||(et=>et))}static mapEffects($,et){if(!$.length)return $;let tt=[];for(let nt of $){let rt=nt.map(et);rt&&tt.push(rt)}return tt}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor($,et,tt,nt,rt,it){this.startState=$,this.changes=et,this.selection=tt,this.effects=nt,this.annotations=rt,this.scrollIntoView=it,this._doc=null,this._state=null,tt&&checkSelection(tt,et.newLength),rt.some(ot=>ot.type==Transaction.time)||(this.annotations=rt.concat(Transaction.time.of(Date.now())))}static create($,et,tt,nt,rt,it){return new Transaction($,et,tt,nt,rt,it)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation($){for(let et of this.annotations)if(et.type==$)return et.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent($){let et=this.annotation(Transaction.userEvent);return!!(et&&(et==$||et.length>$.length&&et.slice(0,$.length)==$&&et[$.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(_e,$){let et=[];for(let tt=0,nt=0;;){let rt,it;if(tt<_e.length&&(nt==$.length||$[nt]>=_e[tt]))rt=_e[tt++],it=_e[tt++];else if(nt<$.length)rt=$[nt++],it=$[nt++];else return et;!et.length||et[et.length-1]<rt?et.push(rt,it):et[et.length-1]<it&&(et[et.length-1]=it)}}function mergeTransaction(_e,$,et){var tt;let nt,rt,it;return et?(nt=$.changes,rt=ChangeSet.empty($.changes.length),it=_e.changes.compose($.changes)):(nt=$.changes.map(_e.changes),rt=_e.changes.mapDesc($.changes,!0),it=_e.changes.compose(nt)),{changes:it,selection:$.selection?$.selection.map(rt):(tt=_e.selection)===null||tt===void 0?void 0:tt.map(nt),effects:StateEffect.mapEffects(_e.effects,nt).concat(StateEffect.mapEffects($.effects,rt)),annotations:_e.annotations.length?_e.annotations.concat($.annotations):$.annotations,scrollIntoView:_e.scrollIntoView||$.scrollIntoView}}function resolveTransactionInner(_e,$,et){let tt=$.selection,nt=asArray$1($.annotations);return $.userEvent&&(nt=nt.concat(Transaction.userEvent.of($.userEvent))),{changes:$.changes instanceof ChangeSet?$.changes:ChangeSet.of($.changes||[],et,_e.facet(lineSeparator)),selection:tt&&(tt instanceof EditorSelection?tt:EditorSelection.single(tt.anchor,tt.head)),effects:asArray$1($.effects),annotations:nt,scrollIntoView:!!$.scrollIntoView}}function resolveTransaction(_e,$,et){let tt=resolveTransactionInner(_e,$.length?$[0]:{},_e.doc.length);$.length&&$[0].filter===!1&&(et=!1);for(let rt=1;rt<$.length;rt++){$[rt].filter===!1&&(et=!1);let it=!!$[rt].sequential;tt=mergeTransaction(tt,resolveTransactionInner(_e,$[rt],it?tt.changes.newLength:_e.doc.length),it)}let nt=Transaction.create(_e,tt.changes,tt.selection,tt.effects,tt.annotations,tt.scrollIntoView);return extendTransaction(et?filterTransaction(nt):nt)}function filterTransaction(_e){let $=_e.startState,et=!0;for(let nt of $.facet(changeFilter)){let rt=nt(_e);if(rt===!1){et=!1;break}Array.isArray(rt)&&(et=et===!0?rt:joinRanges(et,rt))}if(et!==!0){let nt,rt;if(et===!1)rt=_e.changes.invertedDesc,nt=ChangeSet.empty($.doc.length);else{let it=_e.changes.filter(et);nt=it.changes,rt=it.filtered.mapDesc(it.changes).invertedDesc}_e=Transaction.create($,nt,_e.selection&&_e.selection.map(rt),StateEffect.mapEffects(_e.effects,rt),_e.annotations,_e.scrollIntoView)}let tt=$.facet(transactionFilter);for(let nt=tt.length-1;nt>=0;nt--){let rt=tt[nt](_e);rt instanceof Transaction?_e=rt:Array.isArray(rt)&&rt.length==1&&rt[0]instanceof Transaction?_e=rt[0]:_e=resolveTransaction($,asArray$1(rt),!1)}return _e}function extendTransaction(_e){let $=_e.startState,et=$.facet(transactionExtender),tt=_e;for(let nt=et.length-1;nt>=0;nt--){let rt=et[nt](_e);rt&&Object.keys(rt).length&&(tt=mergeTransaction(tt,resolveTransactionInner($,rt,_e.changes.newLength),!0))}return tt==_e?_e:Transaction.create($,_e.changes,_e.selection,tt.effects,tt.annotations,tt.scrollIntoView)}const none$2=[];function asArray$1(_e){return _e==null?none$2:Array.isArray(_e)?_e:[_e]}var CharCategory=function(_e){return _e[_e.Word=0]="Word",_e[_e.Space=1]="Space",_e[_e.Other=2]="Other",_e}(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(_e){}function hasWordChar(_e){if(wordChar)return wordChar.test(_e);for(let $=0;$<_e.length;$++){let et=_e[$];if(/\w/.test(et)||et>""&&(et.toUpperCase()!=et.toLowerCase()||nonASCIISingleCaseWordChar.test(et)))return!0}return!1}function makeCategorizer(_e){return $=>{if(!/\S/.test($))return CharCategory.Space;if(hasWordChar($))return CharCategory.Word;for(let et=0;et<_e.length;et++)if($.indexOf(_e[et])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor($,et,tt,nt,rt,it){this.config=$,this.doc=et,this.selection=tt,this.values=nt,this.status=$.statusTemplate.slice(),this.computeSlot=rt,it&&(it._state=this);for(let ot=0;ot<this.config.dynamicSlots.length;ot++)ensureAddr(this,ot<<1);this.computeSlot=null}field($,et=!0){let tt=this.config.address[$.id];if(tt==null){if(et)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,tt),getAddr(this,tt)}update(...$){return resolveTransaction(this,$,!0)}applyTransaction($){let et=this.config,{base:tt,compartments:nt}=et;for(let ot of $.effects)ot.is(Compartment.reconfigure)?(et&&(nt=new Map,et.compartments.forEach((lt,ut)=>nt.set(ut,lt)),et=null),nt.set(ot.value.compartment,ot.value.extension)):ot.is(StateEffect.reconfigure)?(et=null,tt=ot.value):ot.is(StateEffect.appendConfig)&&(et=null,tt=asArray$1(tt).concat(ot.value));let rt;et?rt=$.startState.values.slice():(et=Configuration.resolve(tt,nt,this),rt=new EditorState(et,this.doc,this.selection,et.dynamicSlots.map(()=>null),(lt,ut)=>ut.reconfigure(lt,this),null).values);let it=$.startState.facet(allowMultipleSelections)?$.newSelection:$.newSelection.asSingle();new EditorState(et,$.newDoc,it,rt,(ot,lt)=>lt.update(ot,$),$)}replaceSelection($){return typeof $=="string"&&($=this.toText($)),this.changeByRange(et=>({changes:{from:et.from,to:et.to,insert:$},range:EditorSelection.cursor(et.from+$.length)}))}changeByRange($){let et=this.selection,tt=$(et.ranges[0]),nt=this.changes(tt.changes),rt=[tt.range],it=asArray$1(tt.effects);for(let ot=1;ot<et.ranges.length;ot++){let lt=$(et.ranges[ot]),ut=this.changes(lt.changes),ct=ut.map(nt);for(let dt=0;dt<ot;dt++)rt[dt]=rt[dt].map(ct);let ht=nt.mapDesc(ut,!0);rt.push(lt.range.map(ht)),nt=nt.compose(ct),it=StateEffect.mapEffects(it,ct).concat(StateEffect.mapEffects(asArray$1(lt.effects),ht))}return{changes:nt,selection:EditorSelection.create(rt,et.mainIndex),effects:it}}changes($=[]){return $ instanceof ChangeSet?$:ChangeSet.of($,this.doc.length,this.facet(EditorState.lineSeparator))}toText($){return Text.of($.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc($=0,et=this.doc.length){return this.doc.sliceString($,et,this.lineBreak)}facet($){let et=this.config.address[$.id];return et==null?$.default:(ensureAddr(this,et),getAddr(this,et))}toJSON($){let et={doc:this.sliceDoc(),selection:this.selection.toJSON()};if($)for(let tt in $){let nt=$[tt];nt instanceof StateField&&this.config.address[nt.id]!=null&&(et[tt]=nt.spec.toJSON(this.field($[tt]),this))}return et}static fromJSON($,et={},tt){if(!$||typeof $.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let nt=[];if(tt){for(let rt in tt)if(Object.prototype.hasOwnProperty.call($,rt)){let it=tt[rt],ot=$[rt];nt.push(it.init(lt=>it.spec.fromJSON(ot,lt)))}}return EditorState.create({doc:$.doc,selection:EditorSelection.fromJSON($.selection),extensions:et.extensions?nt.concat([et.extensions]):nt})}static create($={}){let et=Configuration.resolve($.extensions||[],new Map),tt=$.doc instanceof Text?$.doc:Text.of(($.doc||"").split(et.staticFacet(EditorState.lineSeparator)||DefaultSplit)),nt=$.selection?$.selection instanceof EditorSelection?$.selection:EditorSelection.single($.selection.anchor,$.selection.head):EditorSelection.single(0);return checkSelection(nt,tt.length),et.staticFacet(allowMultipleSelections)||(nt=nt.asSingle()),new EditorState(et,tt,nt,et.dynamicSlots.map(()=>null),(rt,it)=>it.create(rt),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase($,...et){for(let tt of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(tt,$)){$=tt[$];break}return et.length&&($=$.replace(/\$(\$|\d*)/g,(tt,nt)=>{if(nt=="$")return"$";let rt=+(nt||1);return!rt||rt>et.length?tt:et[rt-1]})),$}languageDataAt($,et,tt=-1){let nt=[];for(let rt of this.facet(languageData))for(let it of rt(this,et,tt))Object.prototype.hasOwnProperty.call(it,$)&&nt.push(it[$]);return nt}charCategorizer($){return makeCategorizer(this.languageDataAt("wordChars",$).join(""))}wordAt($){let{text:et,from:tt,length:nt}=this.doc.lineAt($),rt=this.charCategorizer($),it=$-tt,ot=$-tt;for(;it>0;){let lt=findClusterBreak(et,it,!1);if(rt(et.slice(lt,it))!=CharCategory.Word)break;it=lt}for(;ot<nt;){let lt=findClusterBreak(et,ot);if(rt(et.slice(ot,lt))!=CharCategory.Word)break;ot=lt}return it==ot?null:EditorSelection.range(it+tt,ot+tt)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:_e=>_e.length?_e[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(_e,$){let et=Object.keys(_e),tt=Object.keys($);return et.length==tt.length&&et.every(nt=>_e[nt]==$[nt])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(_e,$,et={}){let tt={};for(let nt of _e)for(let rt of Object.keys(nt)){let it=nt[rt],ot=tt[rt];if(ot===void 0)tt[rt]=it;else if(!(ot===it||it===void 0))if(Object.hasOwnProperty.call(et,rt))tt[rt]=et[rt](ot,it);else throw new Error("Config merge conflict for field "+rt)}for(let nt in $)tt[nt]===void 0&&(tt[nt]=$[nt]);return tt}class RangeValue{eq($){return this==$}range($,et=$){return Range$1.create($,et,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;let Range$1=class Dm{constructor($,et,tt){this.from=$,this.to=et,this.value=tt}static create($,et,tt){return new Dm($,et,tt)}};function cmpRange(_e,$){return _e.from-$.from||_e.value.startSide-$.value.startSide}class Chunk{constructor($,et,tt,nt){this.from=$,this.to=et,this.value=tt,this.maxPoint=nt}get length(){return this.to[this.to.length-1]}findIndex($,et,tt,nt=0){let rt=tt?this.to:this.from;for(let it=nt,ot=rt.length;;){if(it==ot)return it;let lt=it+ot>>1,ut=rt[lt]-$||(tt?this.value[lt].endSide:this.value[lt].startSide)-et;if(lt==it)return ut>=0?it:ot;ut>=0?ot=lt:it=lt+1}}between($,et,tt,nt){for(let rt=this.findIndex(et,-1e9,!0),it=this.findIndex(tt,1e9,!1,rt);rt<it;rt++)if(nt(this.from[rt]+$,this.to[rt]+$,this.value[rt])===!1)return!1}map($,et){let tt=[],nt=[],rt=[],it=-1,ot=-1;for(let lt=0;lt<this.value.length;lt++){let ut=this.value[lt],ct=this.from[lt]+$,ht=this.to[lt]+$,dt,mt;if(ct==ht){let gt=et.mapPos(ct,ut.startSide,ut.mapMode);if(gt==null||(dt=mt=gt,ut.startSide!=ut.endSide&&(mt=et.mapPos(ct,ut.endSide),mt<dt)))continue}else if(dt=et.mapPos(ct,ut.startSide),mt=et.mapPos(ht,ut.endSide),dt>mt||dt==mt&&ut.startSide>0&&ut.endSide<=0)continue;(mt-dt||ut.endSide-ut.startSide)<0||(it<0&&(it=dt),ut.point&&(ot=Math.max(ot,mt-dt)),tt.push(ut),nt.push(dt-it),rt.push(mt-it))}return{mapped:tt.length?new Chunk(nt,rt,tt,ot):null,pos:it}}}class RangeSet{constructor($,et,tt,nt){this.chunkPos=$,this.chunk=et,this.nextLayer=tt,this.maxPoint=nt}static create($,et,tt,nt){return new RangeSet($,et,tt,nt)}get length(){let $=this.chunk.length-1;return $<0?0:Math.max(this.chunkEnd($),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let $=this.nextLayer.size;for(let et of this.chunk)$+=et.value.length;return $}chunkEnd($){return this.chunkPos[$]+this.chunk[$].length}update($){let{add:et=[],sort:tt=!1,filterFrom:nt=0,filterTo:rt=this.length}=$,it=$.filter;if(et.length==0&&!it)return this;if(tt&&(et=et.slice().sort(cmpRange)),this.isEmpty)return et.length?RangeSet.of(et):this;let ot=new LayerCursor(this,null,-1).goto(0),lt=0,ut=[],ct=new RangeSetBuilder;for(;ot.value||lt<et.length;)if(lt<et.length&&(ot.from-et[lt].from||ot.startSide-et[lt].value.startSide)>=0){let ht=et[lt++];ct.addInner(ht.from,ht.to,ht.value)||ut.push(ht)}else ot.rangeIndex==1&&ot.chunkIndex<this.chunk.length&&(lt==et.length||this.chunkEnd(ot.chunkIndex)<et[lt].from)&&(!it||nt>this.chunkEnd(ot.chunkIndex)||rt<this.chunkPos[ot.chunkIndex])&&ct.addChunk(this.chunkPos[ot.chunkIndex],this.chunk[ot.chunkIndex])?ot.nextChunk():((!it||nt>ot.to||rt<ot.from||it(ot.from,ot.to,ot.value))&&(ct.addInner(ot.from,ot.to,ot.value)||ut.push(Range$1.create(ot.from,ot.to,ot.value))),ot.next());return ct.finishInner(this.nextLayer.isEmpty&&!ut.length?RangeSet.empty:this.nextLayer.update({add:ut,filter:it,filterFrom:nt,filterTo:rt}))}map($){if($.empty||this.isEmpty)return this;let et=[],tt=[],nt=-1;for(let it=0;it<this.chunk.length;it++){let ot=this.chunkPos[it],lt=this.chunk[it],ut=$.touchesRange(ot,ot+lt.length);if(ut===!1)nt=Math.max(nt,lt.maxPoint),et.push(lt),tt.push($.mapPos(ot));else if(ut===!0){let{mapped:ct,pos:ht}=lt.map(ot,$);ct&&(nt=Math.max(nt,ct.maxPoint),et.push(ct),tt.push(ht))}}let rt=this.nextLayer.map($);return et.length==0?rt:new RangeSet(tt,et,rt||RangeSet.empty,nt)}between($,et,tt){if(!this.isEmpty){for(let nt=0;nt<this.chunk.length;nt++){let rt=this.chunkPos[nt],it=this.chunk[nt];if(et>=rt&&$<=rt+it.length&&it.between(rt,$-rt,et-rt,tt)===!1)return}this.nextLayer.between($,et,tt)}}iter($=0){return HeapCursor.from([this]).goto($)}get isEmpty(){return this.nextLayer==this}static iter($,et=0){return HeapCursor.from($).goto(et)}static compare($,et,tt,nt,rt=-1){let it=$.filter(ht=>ht.maxPoint>0||!ht.isEmpty&&ht.maxPoint>=rt),ot=et.filter(ht=>ht.maxPoint>0||!ht.isEmpty&&ht.maxPoint>=rt),lt=findSharedChunks(it,ot,tt),ut=new SpanCursor(it,lt,rt),ct=new SpanCursor(ot,lt,rt);tt.iterGaps((ht,dt,mt)=>compare(ut,ht,ct,dt,mt,nt)),tt.empty&&tt.length==0&&compare(ut,0,ct,0,0,nt)}static eq($,et,tt=0,nt){nt==null&&(nt=999999999);let rt=$.filter(ct=>!ct.isEmpty&&et.indexOf(ct)<0),it=et.filter(ct=>!ct.isEmpty&&$.indexOf(ct)<0);if(rt.length!=it.length)return!1;if(!rt.length)return!0;let ot=findSharedChunks(rt,it),lt=new SpanCursor(rt,ot,0).goto(tt),ut=new SpanCursor(it,ot,0).goto(tt);for(;;){if(lt.to!=ut.to||!sameValues(lt.active,ut.active)||lt.point&&(!ut.point||!lt.point.eq(ut.point)))return!1;if(lt.to>nt)return!0;lt.next(),ut.next()}}static spans($,et,tt,nt,rt=-1){let it=new SpanCursor($,null,rt).goto(et),ot=et,lt=it.openStart;for(;;){let ut=Math.min(it.to,tt);if(it.point){let ct=it.activeForPoint(it.to),ht=it.pointFrom<et?ct.length+1:it.point.startSide<0?ct.length:Math.min(ct.length,lt);nt.point(ot,ut,it.point,ct,ht,it.pointRank),lt=Math.min(it.openEnd(ut),ct.length)}else ut>ot&&(nt.span(ot,ut,it.active,lt),lt=it.openEnd(ut));if(it.to>tt)return lt+(it.point&&it.to>tt?1:0);ot=it.to,it.next()}}static of($,et=!1){let tt=new RangeSetBuilder;for(let nt of $ instanceof Range$1?[$]:et?lazySort($):$)tt.add(nt.from,nt.to,nt.value);return tt.finish()}static join($){if(!$.length)return RangeSet.empty;let et=$[$.length-1];for(let tt=$.length-2;tt>=0;tt--)for(let nt=$[tt];nt!=RangeSet.empty;nt=nt.nextLayer)et=new RangeSet(nt.chunkPos,nt.chunk,et,Math.max(nt.maxPoint,et.maxPoint));return et}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(_e){if(_e.length>1)for(let $=_e[0],et=1;et<_e.length;et++){let tt=_e[et];if(cmpRange($,tt)>0)return _e.slice().sort(cmpRange);$=tt}return _e}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk($){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,$&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add($,et,tt){this.addInner($,et,tt)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add($,et,tt)}addInner($,et,tt){let nt=$-this.lastTo||tt.startSide-this.last.endSide;if(nt<=0&&($-this.lastFrom||tt.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return nt<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=$),this.from.push($-this.chunkStart),this.to.push(et-this.chunkStart),this.last=tt,this.lastFrom=$,this.lastTo=et,this.value.push(tt),tt.point&&(this.maxPoint=Math.max(this.maxPoint,et-$)),!0)}addChunk($,et){if(($-this.lastTo||et.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,et.maxPoint),this.chunks.push(et),this.chunkPos.push($);let tt=et.value.length-1;return this.last=et.value[tt],this.lastFrom=et.from[tt]+$,this.lastTo=et.to[tt]+$,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner($){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return $;let et=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner($):$,this.setMaxPoint);return this.from=null,et}}function findSharedChunks(_e,$,et){let tt=new Map;for(let rt of _e)for(let it=0;it<rt.chunk.length;it++)rt.chunk[it].maxPoint<=0&&tt.set(rt.chunk[it],rt.chunkPos[it]);let nt=new Set;for(let rt of $)for(let it=0;it<rt.chunk.length;it++){let ot=tt.get(rt.chunk[it]);ot!=null&&(et?et.mapPos(ot):ot)==rt.chunkPos[it]&&!et?.touchesRange(ot,ot+rt.chunk[it].length)&&nt.add(rt.chunk[it])}return nt}class LayerCursor{constructor($,et,tt,nt=0){this.layer=$,this.skip=et,this.minPoint=tt,this.rank=nt}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto($,et=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner($,et,!1),this}gotoInner($,et,tt){for(;this.chunkIndex<this.layer.chunk.length;){let nt=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(nt)||this.layer.chunkEnd(this.chunkIndex)<$||nt.maxPoint<this.minPoint))break;this.chunkIndex++,tt=!1}if(this.chunkIndex<this.layer.chunk.length){let nt=this.layer.chunk[this.chunkIndex].findIndex($-this.layer.chunkPos[this.chunkIndex],et,!0);(!tt||this.rangeIndex<nt)&&this.setRangeIndex(nt)}this.next()}forward($,et){(this.to-$||this.endSide-et)<0&&this.gotoInner($,et,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let $=this.layer.chunkPos[this.chunkIndex],et=this.layer.chunk[this.chunkIndex],tt=$+et.from[this.rangeIndex];if(this.from=tt,this.to=$+et.to[this.rangeIndex],this.value=et.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex($){if($==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=$}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare($){return this.from-$.from||this.startSide-$.startSide||this.rank-$.rank||this.to-$.to||this.endSide-$.endSide}}class HeapCursor{constructor($){this.heap=$}static from($,et=null,tt=-1){let nt=[];for(let rt=0;rt<$.length;rt++)for(let it=$[rt];!it.isEmpty;it=it.nextLayer)it.maxPoint>=tt&&nt.push(new LayerCursor(it,et,tt,rt));return nt.length==1?nt[0]:new HeapCursor(nt)}get startSide(){return this.value?this.value.startSide:0}goto($,et=-1e9){for(let tt of this.heap)tt.goto($,et);for(let tt=this.heap.length>>1;tt>=0;tt--)heapBubble(this.heap,tt);return this.next(),this}forward($,et){for(let tt of this.heap)tt.forward($,et);for(let tt=this.heap.length>>1;tt>=0;tt--)heapBubble(this.heap,tt);(this.to-$||this.value.endSide-et)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let $=this.heap[0];this.from=$.from,this.to=$.to,this.value=$.value,this.rank=$.rank,$.value&&$.next(),heapBubble(this.heap,0)}}}function heapBubble(_e,$){for(let et=_e[$];;){let tt=($<<1)+1;if(tt>=_e.length)break;let nt=_e[tt];if(tt+1<_e.length&&nt.compare(_e[tt+1])>=0&&(nt=_e[tt+1],tt++),et.compare(nt)<0)break;_e[tt]=et,_e[$]=nt,$=tt}}class SpanCursor{constructor($,et,tt){this.minPoint=tt,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from($,et,tt)}goto($,et=-1e9){return this.cursor.goto($,et),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=$,this.endSide=et,this.openStart=-1,this.next(),this}forward($,et){for(;this.minActive>-1&&(this.activeTo[this.minActive]-$||this.active[this.minActive].endSide-et)<0;)this.removeActive(this.minActive);this.cursor.forward($,et)}removeActive($){remove(this.active,$),remove(this.activeTo,$),remove(this.activeRank,$),this.minActive=findMinIndex(this.active,this.activeTo)}addActive($){let et=0,{value:tt,to:nt,rank:rt}=this.cursor;for(;et<this.activeRank.length&&(rt-this.activeRank[et]||nt-this.activeTo[et])>0;)et++;insert(this.active,et,tt),insert(this.activeTo,et,nt),insert(this.activeRank,et,rt),$&&insert($,et,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let $=this.to,et=this.point;this.point=null;let tt=this.openStart<0?[]:null;for(;;){let nt=this.minActive;if(nt>-1&&(this.activeTo[nt]-this.cursor.from||this.active[nt].endSide-this.cursor.startSide)<0){if(this.activeTo[nt]>$){this.to=this.activeTo[nt],this.endSide=this.active[nt].endSide;break}this.removeActive(nt),tt&&remove(tt,nt)}else if(this.cursor.value)if(this.cursor.from>$){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let rt=this.cursor.value;if(!rt.point)this.addActive(tt),this.cursor.next();else if(et&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=rt,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=rt.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(tt){this.openStart=0;for(let nt=tt.length-1;nt>=0&&tt[nt]<$;nt--)this.openStart++}}activeForPoint($){if(!this.active.length)return this.active;let et=[];for(let tt=this.active.length-1;tt>=0&&!(this.activeRank[tt]<this.pointRank);tt--)(this.activeTo[tt]>$||this.activeTo[tt]==$&&this.active[tt].endSide>=this.point.endSide)&&et.push(this.active[tt]);return et.reverse()}openEnd($){let et=0;for(let tt=this.activeTo.length-1;tt>=0&&this.activeTo[tt]>$;tt--)et++;return et}}function compare(_e,$,et,tt,nt,rt){_e.goto($),et.goto(tt);let it=tt+nt,ot=tt,lt=tt-$;for(;;){let ut=_e.to+lt-et.to||_e.endSide-et.endSide,ct=ut<0?_e.to+lt:et.to,ht=Math.min(ct,it);if(_e.point||et.point?_e.point&&et.point&&(_e.point==et.point||_e.point.eq(et.point))&&sameValues(_e.activeForPoint(_e.to),et.activeForPoint(et.to))||rt.comparePoint(ot,ht,_e.point,et.point):ht>ot&&!sameValues(_e.active,et.active)&&rt.compareRange(ot,ht,_e.active,et.active),ct>it)break;ot=ct,ut<=0&&_e.next(),ut>=0&&et.next()}}function sameValues(_e,$){if(_e.length!=$.length)return!1;for(let et=0;et<_e.length;et++)if(_e[et]!=$[et]&&!_e[et].eq($[et]))return!1;return!0}function remove(_e,$){for(let et=$,tt=_e.length-1;et<tt;et++)_e[et]=_e[et+1];_e.pop()}function insert(_e,$,et){for(let tt=_e.length-1;tt>=$;tt--)_e[tt+1]=_e[tt];_e[$]=et}function findMinIndex(_e,$){let et=-1,tt=1e9;for(let nt=0;nt<$.length;nt++)($[nt]-tt||_e[nt].endSide-_e[et].endSide)<0&&(et=nt,tt=$[nt]);return et}function countColumn(_e,$,et=_e.length){let tt=0;for(let nt=0;nt<et;)_e.charCodeAt(nt)==9?(tt+=$-tt%$,nt++):(tt++,nt=findClusterBreak(_e,nt));return tt}function findColumn(_e,$,et,tt){for(let nt=0,rt=0;;){if(rt>=$)return nt;if(nt==_e.length)break;rt+=_e.charCodeAt(nt)==9?et-rt%et:1,nt=findClusterBreak(_e,nt)}return tt===!0?-1:_e.length}const C="ͼ",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor($,et){this.rules=[];let{finish:tt}=et||{};function nt(it){return/^@/.test(it)?[it]:it.split(/,\s*/)}function rt(it,ot,lt,ut){let ct=[],ht=/^@(\w+)\b/.exec(it[0]),dt=ht&&ht[1]=="keyframes";if(ht&&ot==null)return lt.push(it[0]+";");for(let mt in ot){let gt=ot[mt];if(/&/.test(mt))rt(mt.split(/,\s*/).map(Ot=>it.map(wt=>Ot.replace(/&/,wt))).reduce((Ot,wt)=>Ot.concat(wt)),gt,lt);else if(gt&&typeof gt=="object"){if(!ht)throw new RangeError("The value of a property ("+mt+") should be a primitive value.");rt(nt(mt),gt,ct,dt)}else gt!=null&&ct.push(mt.replace(/_.*/,"").replace(/[A-Z]/g,Ot=>"-"+Ot.toLowerCase())+": "+gt+";")}(ct.length||dt)&&lt.push((tt&&!ht&&!ut?it.map(tt):it).join(", ")+" {"+ct.join(" ")+"}")}for(let it in $)rt(nt(it),$[it],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let $=top[COUNT]||1;return top[COUNT]=$+1,C+$.toString(36)}static mount($,et,tt){let nt=$[SET],rt=tt&&tt.nonce;nt?rt&&nt.setNonce(rt):nt=new StyleSet($,rt),nt.mount(Array.isArray(et)?et:[et])}}let adoptedSet=new Map;class StyleSet{constructor($,et){let tt=$.ownerDocument||$,nt=tt.defaultView;if(!$.head&&$.adoptedStyleSheets&&nt.CSSStyleSheet){let rt=adoptedSet.get(tt);if(rt)return $.adoptedStyleSheets=[rt.sheet,...$.adoptedStyleSheets],$[SET]=rt;this.sheet=new nt.CSSStyleSheet,$.adoptedStyleSheets=[this.sheet,...$.adoptedStyleSheets],adoptedSet.set(tt,this)}else{this.styleTag=tt.createElement("style"),et&&this.styleTag.setAttribute("nonce",et);let rt=$.head||$;rt.insertBefore(this.styleTag,rt.firstChild)}this.modules=[],$[SET]=this}mount($){let et=this.sheet,tt=0,nt=0;for(let rt=0;rt<$.length;rt++){let it=$[rt],ot=this.modules.indexOf(it);if(ot<nt&&ot>-1&&(this.modules.splice(ot,1),nt--,ot=-1),ot==-1){if(this.modules.splice(nt++,0,it),et)for(let lt=0;lt<it.rules.length;lt++)et.insertRule(it.rules[lt],tt++)}else{for(;nt<ot;)tt+=this.modules[nt++].rules.length;tt+=it.rules.length,nt++}}if(!et){let rt="";for(let it=0;it<this.modules.length;it++)rt+=this.modules[it].getRules()+`
`;this.styleTag.textContent=rt}}setNonce($){this.styleTag&&this.styleTag.getAttribute("nonce")!=$&&this.styleTag.setAttribute("nonce",$)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(_e){var $=mac&&_e.metaKey&&_e.shiftKey&&!_e.ctrlKey&&!_e.altKey||ie$1&&_e.shiftKey&&_e.key&&_e.key.length==1||_e.key=="Unidentified",et=!$&&_e.key||(_e.shiftKey?shift:base)[_e.keyCode]||_e.key||"Unidentified";return et=="Esc"&&(et="Escape"),et=="Del"&&(et="Delete"),et=="Left"&&(et="ArrowLeft"),et=="Up"&&(et="ArrowUp"),et=="Right"&&(et="ArrowRight"),et=="Down"&&(et="ArrowDown"),et}function getSelection(_e){let $;return _e.nodeType==11?$=_e.getSelection?_e:_e.ownerDocument:$=_e,$.getSelection()}function contains(_e,$){return $?_e==$||_e.contains($.nodeType!=1?$.parentNode:$):!1}function deepActiveElement(_e){let $=_e.activeElement;for(;$&&$.shadowRoot;)$=$.shadowRoot.activeElement;return $}function hasSelection(_e,$){if(!$.anchorNode)return!1;try{return contains(_e,$.anchorNode)}catch{return!1}}function clientRectsFor(_e){return _e.nodeType==3?textRange(_e,0,_e.nodeValue.length).getClientRects():_e.nodeType==1?_e.getClientRects():[]}function isEquivalentPosition(_e,$,et,tt){return et?scanFor(_e,$,et,tt,-1)||scanFor(_e,$,et,tt,1):!1}function domIndex(_e){for(var $=0;;$++)if(_e=_e.previousSibling,!_e)return $}function scanFor(_e,$,et,tt,nt){for(;;){if(_e==et&&$==tt)return!0;if($==(nt<0?0:maxOffset(_e))){if(_e.nodeName=="DIV")return!1;let rt=_e.parentNode;if(!rt||rt.nodeType!=1)return!1;$=domIndex(_e)+(nt<0?0:1),_e=rt}else if(_e.nodeType==1){if(_e=_e.childNodes[$+(nt<0?-1:0)],_e.nodeType==1&&_e.contentEditable=="false")return!1;$=nt<0?maxOffset(_e):0}else return!1}}function maxOffset(_e){return _e.nodeType==3?_e.nodeValue.length:_e.childNodes.length}function flattenRect(_e,$){let et=$?_e.left:_e.right;return{left:et,right:et,top:_e.top,bottom:_e.bottom}}function windowRect(_e){return{left:0,right:_e.innerWidth,top:0,bottom:_e.innerHeight}}function getScale(_e,$){let et=$.width/_e.offsetWidth,tt=$.height/_e.offsetHeight;return(et>.995&&et<1.005||!isFinite(et)||Math.abs($.width-_e.offsetWidth)<1)&&(et=1),(tt>.995&&tt<1.005||!isFinite(tt)||Math.abs($.height-_e.offsetHeight)<1)&&(tt=1),{scaleX:et,scaleY:tt}}function scrollRectIntoView(_e,$,et,tt,nt,rt,it,ot){let lt=_e.ownerDocument,ut=lt.defaultView||window;for(let ct=_e,ht=!1;ct&&!ht;)if(ct.nodeType==1){let dt,mt=ct==lt.body,gt=1,Ot=1;if(mt)dt=windowRect(ut);else{if(/^(fixed|sticky)$/.test(getComputedStyle(ct).position)&&(ht=!0),ct.scrollHeight<=ct.clientHeight&&ct.scrollWidth<=ct.clientWidth){ct=ct.assignedSlot||ct.parentNode;continue}let vt=ct.getBoundingClientRect();({scaleX:gt,scaleY:Ot}=getScale(ct,vt)),dt={left:vt.left,right:vt.left+ct.clientWidth*gt,top:vt.top,bottom:vt.top+ct.clientHeight*Ot}}let wt=0,St=0;if(nt=="nearest")$.top<dt.top?(St=-(dt.top-$.top+it),et>0&&$.bottom>dt.bottom+St&&(St=$.bottom-dt.bottom+St+it)):$.bottom>dt.bottom&&(St=$.bottom-dt.bottom+it,et<0&&$.top-St<dt.top&&(St=-(dt.top+St-$.top+it)));else{let vt=$.bottom-$.top,Tt=dt.bottom-dt.top;St=(nt=="center"&&vt<=Tt?$.top+vt/2-Tt/2:nt=="start"||nt=="center"&&et<0?$.top-it:$.bottom-Tt+it)-dt.top}if(tt=="nearest"?$.left<dt.left?(wt=-(dt.left-$.left+rt),et>0&&$.right>dt.right+wt&&(wt=$.right-dt.right+wt+rt)):$.right>dt.right&&(wt=$.right-dt.right+rt,et<0&&$.left<dt.left+wt&&(wt=-(dt.left+wt-$.left+rt))):wt=(tt=="center"?$.left+($.right-$.left)/2-(dt.right-dt.left)/2:tt=="start"==ot?$.left-rt:$.right-(dt.right-dt.left)+rt)-dt.left,wt||St)if(mt)ut.scrollBy(wt,St);else{let vt=0,Tt=0;if(St){let Et=ct.scrollTop;ct.scrollTop+=St/Ot,Tt=(ct.scrollTop-Et)*Ot}if(wt){let Et=ct.scrollLeft;ct.scrollLeft+=wt/gt,vt=(ct.scrollLeft-Et)*gt}$={left:$.left-vt,top:$.top-Tt,right:$.right-vt,bottom:$.bottom-Tt},vt&&Math.abs(vt-wt)<1&&(tt="nearest"),Tt&&Math.abs(Tt-St)<1&&(nt="nearest")}if(mt)break;ct=ct.assignedSlot||ct.parentNode}else if(ct.nodeType==11)ct=ct.host;else break}function scrollableParent(_e){let $=_e.ownerDocument;for(let et=_e.parentNode;et&&et!=$.body;)if(et.nodeType==1){if(et.scrollHeight>et.clientHeight||et.scrollWidth>et.clientWidth)return et;et=et.assignedSlot||et.parentNode}else if(et.nodeType==11)et=et.host;else break;return null}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq($){return this.anchorNode==$.anchorNode&&this.anchorOffset==$.anchorOffset&&this.focusNode==$.focusNode&&this.focusOffset==$.focusOffset}setRange($){let{anchorNode:et,focusNode:tt}=$;this.set(et,Math.min($.anchorOffset,et?maxOffset(et):0),tt,Math.min($.focusOffset,tt?maxOffset(tt):0))}set($,et,tt,nt){this.anchorNode=$,this.anchorOffset=et,this.focusNode=tt,this.focusOffset=nt}}let preventScrollSupported=null;function focusPreventScroll(_e){if(_e.setActive)return _e.setActive();if(preventScrollSupported)return _e.focus(preventScrollSupported);let $=[];for(let et=_e;et&&($.push(et,et.scrollTop,et.scrollLeft),et!=et.ownerDocument);et=et.parentNode);if(_e.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let et=0;et<$.length;){let tt=$[et++],nt=$[et++],rt=$[et++];tt.scrollTop!=nt&&(tt.scrollTop=nt),tt.scrollLeft!=rt&&(tt.scrollLeft=rt)}}}let scratchRange;function textRange(_e,$,et=$){let tt=scratchRange||(scratchRange=document.createRange());return tt.setEnd(_e,et),tt.setStart(_e,$),tt}function dispatchKey(_e,$,et){let tt={key:$,code:$,keyCode:et,which:et,cancelable:!0},nt=new KeyboardEvent("keydown",tt);nt.synthetic=!0,_e.dispatchEvent(nt);let rt=new KeyboardEvent("keyup",tt);return rt.synthetic=!0,_e.dispatchEvent(rt),nt.defaultPrevented||rt.defaultPrevented}function getRoot(_e){for(;_e;){if(_e&&(_e.nodeType==9||_e.nodeType==11&&_e.host))return _e;_e=_e.assignedSlot||_e.parentNode}return null}function clearAttributes(_e){for(;_e.attributes.length;)_e.removeAttributeNode(_e.attributes[0])}function atElementStart(_e,$){let et=$.focusNode,tt=$.focusOffset;if(!et||$.anchorNode!=et||$.anchorOffset!=tt)return!1;for(tt=Math.min(tt,maxOffset(et));;)if(tt){if(et.nodeType!=1)return!1;let nt=et.childNodes[tt-1];nt.contentEditable=="false"?tt--:(et=nt,tt=maxOffset(et))}else{if(et==_e)return!0;tt=domIndex(et),et=et.parentNode}}function isScrolledToBottom(_e){return _e.scrollTop>Math.max(1,_e.scrollHeight-_e.clientHeight-4)}class DOMPos{constructor($,et,tt=!0){this.node=$,this.offset=et,this.precise=tt}static before($,et){return new DOMPos($.parentNode,domIndex($),et)}static after($,et){return new DOMPos($.parentNode,domIndex($)+1,et)}}const noChildren=[];class ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore($){let et=this.posAtStart;for(let tt of this.children){if(tt==$)return et;et+=tt.length+tt.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter($){return this.posBefore($)+$.length}sync($,et){if(this.flags&2){let tt=this.dom,nt=null,rt;for(let it of this.children){if(it.flags&7){if(!it.dom&&(rt=nt?nt.nextSibling:tt.firstChild)){let ot=ContentView.get(rt);(!ot||!ot.parent&&ot.canReuseDOM(it))&&it.reuseDOM(rt)}it.sync($,et),it.flags&=-8}if(rt=nt?nt.nextSibling:tt.firstChild,et&&!et.written&&et.node==tt&&rt!=it.dom&&(et.written=!0),it.dom.parentNode==tt)for(;rt&&rt!=it.dom;)rt=rm$1(rt);else tt.insertBefore(it.dom,rt);nt=it.dom}for(rt=nt?nt.nextSibling:tt.firstChild,rt&&et&&et.node==tt&&(et.written=!0);rt;)rt=rm$1(rt)}else if(this.flags&1)for(let tt of this.children)tt.flags&7&&(tt.sync($,et),tt.flags&=-8)}reuseDOM($){}localPosFromDOM($,et){let tt;if($==this.dom)tt=this.dom.childNodes[et];else{let nt=maxOffset($)==0?0:et==0?-1:1;for(;;){let rt=$.parentNode;if(rt==this.dom)break;nt==0&&rt.firstChild!=rt.lastChild&&($==rt.firstChild?nt=-1:nt=1),$=rt}nt<0?tt=$:tt=$.nextSibling}if(tt==this.dom.firstChild)return 0;for(;tt&&!ContentView.get(tt);)tt=tt.nextSibling;if(!tt)return this.length;for(let nt=0,rt=0;;nt++){let it=this.children[nt];if(it.dom==tt)return rt;rt+=it.length+it.breakAfter}}domBoundsAround($,et,tt=0){let nt=-1,rt=-1,it=-1,ot=-1;for(let lt=0,ut=tt,ct=tt;lt<this.children.length;lt++){let ht=this.children[lt],dt=ut+ht.length;if(ut<$&&dt>et)return ht.domBoundsAround($,et,ut);if(dt>=$&&nt==-1&&(nt=lt,rt=ut),ut>et&&ht.dom.parentNode==this.dom){it=lt,ot=ct;break}ct=dt,ut=dt+ht.breakAfter}return{from:rt,to:ot<0?tt+this.length:ot,startDOM:(nt?this.children[nt-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:it<this.children.length&&it>=0?this.children[it].dom:null}}markDirty($=!1){this.flags|=2,this.markParentsDirty($)}markParentsDirty($){for(let et=this.parent;et;et=et.parent){if($&&(et.flags|=2),et.flags&1)return;et.flags|=1,$=!1}}setParent($){this.parent!=$&&(this.parent=$,this.flags&7&&this.markParentsDirty(!0))}setDOM($){this.dom!=$&&(this.dom&&(this.dom.cmView=null),this.dom=$,$.cmView=this)}get rootView(){for(let $=this;;){let et=$.parent;if(!et)return $;$=et}}replaceChildren($,et,tt=noChildren){this.markDirty();for(let nt=$;nt<et;nt++){let rt=this.children[nt];rt.parent==this&&tt.indexOf(rt)<0&&rt.destroy()}this.children.splice($,et-$,...tt);for(let nt=0;nt<tt.length;nt++)tt[nt].setParent(this)}ignoreMutation($){return!1}ignoreEvent($){return!1}childCursor($=this.length){return new ChildCursor(this.children,$,this.children.length)}childPos($,et=1){return this.childCursor().findPos($,et)}toString(){let $=this.constructor.name.replace("View","");return $+(this.children.length?"("+this.children.join()+")":this.length?"["+($=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get($){return $.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge($,et,tt,nt,rt,it){return!1}become($){return!1}canReuseDOM($){return $.constructor==this.constructor&&!((this.flags|$.flags)&8)}getSide(){return 0}destroy(){for(let $ of this.children)$.parent==this&&$.destroy();this.parent=null}}ContentView.prototype.breakAfter=0;function rm$1(_e){let $=_e.nextSibling;return _e.parentNode.removeChild(_e),$}class ChildCursor{constructor($,et,tt){this.children=$,this.pos=et,this.i=tt,this.off=0}findPos($,et=1){for(;;){if($>this.pos||$==this.pos&&(et>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=$-this.pos,this;let tt=this.children[--this.i];this.pos-=tt.length+tt.breakAfter}}}function replaceRange(_e,$,et,tt,nt,rt,it,ot,lt){let{children:ut}=_e,ct=ut.length?ut[$]:null,ht=rt.length?rt[rt.length-1]:null,dt=ht?ht.breakAfter:it;if(!($==tt&&ct&&!it&&!dt&&rt.length<2&&ct.merge(et,nt,rt.length?ht:null,et==0,ot,lt))){if(tt<ut.length){let mt=ut[tt];mt&&(nt<mt.length||mt.breakAfter&&ht?.breakAfter)?($==tt&&(mt=mt.split(nt),nt=0),!dt&&ht&&mt.merge(0,nt,ht,!0,0,lt)?rt[rt.length-1]=mt:((nt||mt.children.length&&!mt.children[0].length)&&mt.merge(0,nt,null,!1,0,lt),rt.push(mt))):mt?.breakAfter&&(ht?ht.breakAfter=1:it=1),tt++}for(ct&&(ct.breakAfter=it,et>0&&(!it&&rt.length&&ct.merge(et,ct.length,rt[0],!1,ot,0)?ct.breakAfter=rt.shift().breakAfter:(et<ct.length||ct.children.length&&ct.children[ct.children.length-1].length==0)&&ct.merge(et,ct.length,null,!1,ot,0),$++));$<tt&&rt.length;)if(ut[tt-1].become(rt[rt.length-1]))tt--,rt.pop(),lt=rt.length?0:ot;else if(ut[$].become(rt[0]))$++,rt.shift(),ot=rt.length?0:lt;else break;!rt.length&&$&&tt<ut.length&&!ut[$-1].breakAfter&&ut[tt].merge(0,0,ut[$-1],!1,ot,lt)&&$--,($<tt||rt.length)&&_e.replaceChildren($,tt,rt)}}function mergeChildrenInto(_e,$,et,tt,nt,rt){let it=_e.childCursor(),{i:ot,off:lt}=it.findPos(et,1),{i:ut,off:ct}=it.findPos($,-1),ht=$-et;for(let dt of tt)ht+=dt.length;_e.length+=ht,replaceRange(_e,ut,ct,ot,lt,tt,0,nt,rt)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit,safari,webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const MaxJoinLen=256;class TextView extends ContentView{constructor($){super(),this.text=$}get length(){return this.text.length}createDOM($){this.setDOM($||document.createTextNode(this.text))}sync($,et){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(et&&et.node==this.dom&&(et.written=!0),this.dom.nodeValue=this.text)}reuseDOM($){$.nodeType==3&&this.createDOM($)}merge($,et,tt){return this.flags&8||tt&&(!(tt instanceof TextView)||this.length-(et-$)+tt.length>MaxJoinLen||tt.flags&8)?!1:(this.text=this.text.slice(0,$)+(tt?tt.text:"")+this.text.slice(et),this.markDirty(),!0)}split($){let et=new TextView(this.text.slice($));return this.text=this.text.slice(0,$),this.markDirty(),et.flags|=this.flags&8,et}localPosFromDOM($,et){return $==this.dom?et:et?this.text.length:0}domAtPos($){return new DOMPos(this.dom,$)}domBoundsAround($,et,tt){return{from:tt,to:tt+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt($,et){return textCoords(this.dom,$,et)}}class MarkView extends ContentView{constructor($,et=[],tt=0){super(),this.mark=$,this.children=et,this.length=tt;for(let nt of et)nt.setParent(this)}setAttrs($){if(clearAttributes($),this.mark.class&&($.className=this.mark.class),this.mark.attrs)for(let et in this.mark.attrs)$.setAttribute(et,this.mark.attrs[et]);return $}canReuseDOM($){return super.canReuseDOM($)&&!((this.flags|$.flags)&8)}reuseDOM($){$.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM($),this.flags|=6)}sync($,et){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync($,et)}merge($,et,tt,nt,rt,it){return tt&&(!(tt instanceof MarkView&&tt.mark.eq(this.mark))||$&&rt<=0||et<this.length&&it<=0)?!1:(mergeChildrenInto(this,$,et,tt?tt.children.slice():[],rt-1,it-1),this.markDirty(),!0)}split($){let et=[],tt=0,nt=-1,rt=0;for(let ot of this.children){let lt=tt+ot.length;lt>$&&et.push(tt<$?ot.split($-tt):ot),nt<0&&tt>=$&&(nt=rt),tt=lt,rt++}let it=this.length-$;return this.length=$,nt>-1&&(this.children.length=nt,this.markDirty()),new MarkView(this.mark,et,it)}domAtPos($){return inlineDOMAtPos(this,$)}coordsAt($,et){return coordsInChildren(this,$,et)}}function textCoords(_e,$,et){let tt=_e.nodeValue.length;$>tt&&($=tt);let nt=$,rt=$,it=0;$==0&&et<0||$==tt&&et>=0?browser.chrome||browser.gecko||($?(nt--,it=1):rt<tt&&(rt++,it=-1)):et<0?nt--:rt<tt&&rt++;let ot=textRange(_e,nt,rt).getClientRects();if(!ot.length)return null;let lt=ot[(it?it<0:et>=0)?0:ot.length-1];return browser.safari&&!it&&lt.width==0&&(lt=Array.prototype.find.call(ot,ut=>ut.width)||lt),it?flattenRect(lt,it<0):lt||null}class WidgetView extends ContentView{static create($,et,tt){return new WidgetView($,et,tt)}constructor($,et,tt){super(),this.widget=$,this.length=et,this.side=tt,this.prevWidget=null}split($){let et=WidgetView.create(this.widget,this.length-$,this.side);return this.length-=$,et}sync($){(!this.dom||!this.widget.updateDOM(this.dom,$))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM($)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge($,et,tt,nt,rt,it){return tt&&(!(tt instanceof WidgetView)||!this.widget.compare(tt.widget)||$>0&&rt<=0||et<this.length&&it<=0)?!1:(this.length=$+(tt?tt.length:0)+(this.length-et),!0)}become($){return $ instanceof WidgetView&&$.side==this.side&&this.widget.constructor==$.widget.constructor?(this.widget.compare($.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=$.widget,this.length=$.length,!0):!1}ignoreMutation(){return!0}ignoreEvent($){return this.widget.ignoreEvent($)}get overrideDOMText(){if(this.length==0)return Text.empty;let $=this;for(;$.parent;)$=$.parent;let{view:et}=$,tt=et&&et.state.doc,nt=this.posAtStart;return tt?tt.slice(nt,nt+this.length):Text.empty}domAtPos($){return(this.length?$==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,$==this.length)}domBoundsAround(){return null}coordsAt($,et){let tt=this.widget.coordsAt(this.dom,$,et);if(tt)return tt;let nt=this.dom.getClientRects(),rt=null;if(!nt.length)return null;let it=this.side?this.side<0:$>0;for(let ot=it?nt.length-1:0;rt=nt[ot],!($>0?ot==0:ot==nt.length-1||rt.top<rt.bottom);ot+=it?-1:1);return flattenRect(rt,!it)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class WidgetBufferView extends ContentView{constructor($){super(),this.side=$}get length(){return 0}merge(){return!1}become($){return $ instanceof WidgetBufferView&&$.side==this.side}split(){return new WidgetBufferView(this.side)}sync(){if(!this.dom){let $=document.createElement("img");$.className="cm-widgetBuffer",$.setAttribute("aria-hidden","true"),this.setDOM($)}}getSide(){return this.side}domAtPos($){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt($){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}}TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=noChildren;function inlineDOMAtPos(_e,$){let et=_e.dom,{children:tt}=_e,nt=0;for(let rt=0;nt<tt.length;nt++){let it=tt[nt],ot=rt+it.length;if(!(ot==rt&&it.getSide()<=0)){if($>rt&&$<ot&&it.dom.parentNode==et)return it.domAtPos($-rt);if($<=rt)break;rt=ot}}for(let rt=nt;rt>0;rt--){let it=tt[rt-1];if(it.dom.parentNode==et)return it.domAtPos(it.length)}for(let rt=nt;rt<tt.length;rt++){let it=tt[rt];if(it.dom.parentNode==et)return it.domAtPos(0)}return new DOMPos(et,0)}function joinInlineInto(_e,$,et){let tt,{children:nt}=_e;et>0&&$ instanceof MarkView&&nt.length&&(tt=nt[nt.length-1])instanceof MarkView&&tt.mark.eq($.mark)?joinInlineInto(tt,$.children[0],et-1):(nt.push($),$.setParent(_e)),_e.length+=$.length}function coordsInChildren(_e,$,et){let tt=null,nt=-1,rt=null,it=-1;function ot(ut,ct){for(let ht=0,dt=0;ht<ut.children.length&&dt<=ct;ht++){let mt=ut.children[ht],gt=dt+mt.length;gt>=ct&&(mt.children.length?ot(mt,ct-dt):(!rt||rt.isHidden&&et>0)&&(gt>ct||dt==gt&&mt.getSide()>0)?(rt=mt,it=ct-dt):(dt<ct||dt==gt&&mt.getSide()<0&&!mt.isHidden)&&(tt=mt,nt=ct-dt)),dt=gt}}ot(_e,$);let lt=(et<0?tt:rt)||tt||rt;return lt?lt.coordsAt(Math.max(0,lt==tt?nt:it),et):fallbackRect(_e)}function fallbackRect(_e){let $=_e.dom.lastChild;if(!$)return _e.dom.getBoundingClientRect();let et=clientRectsFor($);return et[et.length-1]||null}function combineAttrs(_e,$){for(let et in _e)et=="class"&&$.class?$.class+=" "+_e.class:et=="style"&&$.style?$.style+=";"+_e.style:$[et]=_e[et];return $}const noAttrs=Object.create(null);function attrsEq(_e,$,et){if(_e==$)return!0;_e||(_e=noAttrs),$||($=noAttrs);let tt=Object.keys(_e),nt=Object.keys($);if(tt.length-(et&&tt.indexOf(et)>-1?1:0)!=nt.length-(et&&nt.indexOf(et)>-1?1:0))return!1;for(let rt of tt)if(rt!=et&&(nt.indexOf(rt)==-1||_e[rt]!==$[rt]))return!1;return!0}function updateAttrs(_e,$,et){let tt=!1;if($)for(let nt in $)et&&nt in et||(tt=!0,nt=="style"?_e.style.cssText="":_e.removeAttribute(nt));if(et)for(let nt in et)$&&$[nt]==et[nt]||(tt=!0,nt=="style"?_e.style.cssText=et[nt]:_e.setAttribute(nt,et[nt]));return tt}function getAttrs(_e){let $=Object.create(null);for(let et=0;et<_e.attributes.length;et++){let tt=_e.attributes[et];$[tt.name]=tt.value}return $}class LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge($,et,tt,nt,rt,it){if(tt){if(!(tt instanceof LineView))return!1;this.dom||tt.transferDOM(this)}return nt&&this.setDeco(tt?tt.attrs:null),mergeChildrenInto(this,$,et,tt?tt.children.slice():[],rt,it),!0}split($){let et=new LineView;if(et.breakAfter=this.breakAfter,this.length==0)return et;let{i:tt,off:nt}=this.childPos($);nt&&(et.append(this.children[tt].split(nt),0),this.children[tt].merge(nt,this.children[tt].length,null,!1,0,0),tt++);for(let rt=tt;rt<this.children.length;rt++)et.append(this.children[rt],0);for(;tt>0&&this.children[tt-1].length==0;)this.children[--tt].destroy();return this.children.length=tt,this.markDirty(),this.length=$,et}transferDOM($){this.dom&&(this.markDirty(),$.setDOM(this.dom),$.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco($){attrsEq(this.attrs,$)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=$)}append($,et){joinInlineInto(this,$,et)}addLineDeco($){let et=$.spec.attributes,tt=$.spec.class;et&&(this.attrs=combineAttrs(et,this.attrs||{})),tt&&(this.attrs=combineAttrs({class:tt},this.attrs||{}))}domAtPos($){return inlineDOMAtPos(this,$)}reuseDOM($){$.nodeName=="DIV"&&(this.setDOM($),this.flags|=6)}sync($,et){var tt;this.dom?this.flags&4&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync($,et);let nt=this.dom.lastChild;for(;nt&&ContentView.get(nt)instanceof MarkView;)nt=nt.lastChild;if(!nt||!this.length||nt.nodeName!="BR"&&((tt=ContentView.get(nt))===null||tt===void 0?void 0:tt.isEditable)==!1&&(!browser.ios||!this.children.some(rt=>rt instanceof TextView))){let rt=document.createElement("BR");rt.cmIgnore=!0,this.dom.appendChild(rt)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let $=0,et;for(let tt of this.children){if(!(tt instanceof TextView)||/[^ -~]/.test(tt.text))return null;let nt=clientRectsFor(tt.dom);if(nt.length!=1)return null;$+=nt[0].width,et=nt[0].height}return $?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:$/this.length,textHeight:et}:null}coordsAt($,et){let tt=coordsInChildren(this,$,et);if(!this.children.length&&tt&&this.parent){let{heightOracle:nt}=this.parent.view.viewState,rt=tt.bottom-tt.top;if(Math.abs(rt-nt.lineHeight)<2&&nt.textHeight<rt){let it=(rt-nt.textHeight)/2;return{top:tt.top+it,bottom:tt.bottom-it,left:tt.left,right:tt.left}}}return tt}become($){return!1}covers(){return!0}static find($,et){for(let tt=0,nt=0;tt<$.children.length;tt++){let rt=$.children[tt],it=nt+rt.length;if(it>=et){if(rt instanceof LineView)return rt;if(it>et)break}nt=it+rt.breakAfter}return null}}class BlockWidgetView extends ContentView{constructor($,et,tt){super(),this.widget=$,this.length=et,this.deco=tt,this.breakAfter=0,this.prevWidget=null}merge($,et,tt,nt,rt,it){return tt&&(!(tt instanceof BlockWidgetView)||!this.widget.compare(tt.widget)||$>0&&rt<=0||et<this.length&&it<=0)?!1:(this.length=$+(tt?tt.length:0)+(this.length-et),!0)}domAtPos($){return $==0?DOMPos.before(this.dom):DOMPos.after(this.dom,$==this.length)}split($){let et=this.length-$;this.length=$;let tt=new BlockWidgetView(this.widget,et,this.deco);return tt.breakAfter=this.breakAfter,tt}get children(){return noChildren}sync($){(!this.dom||!this.widget.updateDOM(this.dom,$))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM($)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become($){return $ instanceof BlockWidgetView&&$.widget.constructor==this.widget.constructor?($.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=$.widget,this.length=$.length,this.deco=$.deco,this.breakAfter=$.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent($){return this.widget.ignoreEvent($)}get isEditable(){return!1}get isWidget(){return!0}coordsAt($,et){return this.widget.coordsAt(this.dom,$,et)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers($){let{startSide:et,endSide:tt}=this.deco;return et==tt?!1:$<0?et<0:tt>0}}class WidgetType{eq($){return!1}updateDOM($,et){return!1}compare($){return this==$||this.constructor==$.constructor&&this.eq($)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent($){return!0}coordsAt($,et,tt){return null}get isHidden(){return!1}get editable(){return!1}destroy($){}}var BlockType=function(_e){return _e[_e.Text=0]="Text",_e[_e.WidgetBefore=1]="WidgetBefore",_e[_e.WidgetAfter=2]="WidgetAfter",_e[_e.WidgetRange=3]="WidgetRange",_e}(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor($,et,tt,nt){super(),this.startSide=$,this.endSide=et,this.widget=tt,this.spec=nt}get heightRelevant(){return!1}static mark($){return new MarkDecoration($)}static widget($){let et=Math.max(-1e4,Math.min(1e4,$.side||0)),tt=!!$.block;return et+=tt&&!$.inlineOrder?et>0?3e8:-4e8:et>0?1e8:-1e8,new PointDecoration($,et,et,tt,$.widget||null,!1)}static replace($){let et=!!$.block,tt,nt;if($.isBlockGap)tt=-5e8,nt=4e8;else{let{start:rt,end:it}=getInclusive($,et);tt=(rt?et?-3e8:-1:5e8)-1,nt=(it?et?2e8:1:-6e8)+1}return new PointDecoration($,tt,nt,et,$.widget||null,!0)}static line($){return new LineDecoration($)}static set($,et=!1){return RangeSet.of($,et)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor($){let{start:et,end:tt}=getInclusive($);super(et?-1:5e8,tt?1:-6e8,null,$),this.tagName=$.tagName||"span",this.class=$.class||"",this.attrs=$.attributes||null}eq($){var et,tt;return this==$||$ instanceof MarkDecoration&&this.tagName==$.tagName&&(this.class||((et=this.attrs)===null||et===void 0?void 0:et.class))==($.class||((tt=$.attrs)===null||tt===void 0?void 0:tt.class))&&attrsEq(this.attrs,$.attrs,"class")}range($,et=$){if($>=et)throw new RangeError("Mark decorations may not be empty");return super.range($,et)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor($){super(-2e8,-2e8,null,$)}eq($){return $ instanceof LineDecoration&&this.spec.class==$.spec.class&&attrsEq(this.spec.attributes,$.spec.attributes)}range($,et=$){if(et!=$)throw new RangeError("Line decoration ranges must be zero-length");return super.range($,et)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor($,et,tt,nt,rt,it){super(et,tt,rt,$),this.block=nt,this.isReplace=it,this.mapMode=nt?et<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq($){return $ instanceof PointDecoration&&widgetsEq(this.widget,$.widget)&&this.block==$.block&&this.startSide==$.startSide&&this.endSide==$.endSide}range($,et=$){if(this.isReplace&&($>et||$==et&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&et!=$)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range($,et)}}PointDecoration.prototype.point=!0;function getInclusive(_e,$=!1){let{inclusiveStart:et,inclusiveEnd:tt}=_e;return et==null&&(et=_e.inclusive),tt==null&&(tt=_e.inclusive),{start:et??$,end:tt??$}}function widgetsEq(_e,$){return _e==$||!!(_e&&$&&_e.compare($))}function addRange(_e,$,et,tt=0){let nt=et.length-1;nt>=0&&et[nt]+tt>=_e?et[nt]=Math.max(et[nt],$):et.push(_e,$)}class ContentBuilder{constructor($,et,tt,nt){this.doc=$,this.pos=et,this.end=tt,this.disallowBlockEffectsFor=nt,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=$.iter(),this.skip=et}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let $=this.content[this.content.length-1];return!($.breakAfter||$ instanceof BlockWidgetView&&$.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer($=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),$),$.length),this.pendingBuffer=0)}addBlockWidget($){this.flushBuffer(),this.curLine=null,this.content.push($)}finish($){this.pendingBuffer&&$<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!($&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView)&&this.getLine()}buildText($,et,tt){for(;$>0;){if(this.textOff==this.text.length){let{value:rt,lineBreak:it,done:ot}=this.cursor.next(this.skip);if(this.skip=0,ot)throw new Error("Ran out of text content when drawing inline views");if(it){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,$--;continue}else this.text=rt,this.textOff=0}let nt=Math.min(this.text.length-this.textOff,$,512);this.flushBuffer(et.slice(et.length-tt)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+nt)),et),tt),this.atCursorPos=!0,this.textOff+=nt,$-=nt,tt=0}}span($,et,tt,nt){this.buildText(et-$,tt,nt),this.pos=et,this.openStart<0&&(this.openStart=nt)}point($,et,tt,nt,rt,it){if(this.disallowBlockEffectsFor[it]&&tt instanceof PointDecoration){if(tt.block)throw new RangeError("Block decorations may not be specified via plugins");if(et>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let ot=et-$;if(tt instanceof PointDecoration)if(tt.block)tt.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(tt.widget||NullWidget.block,ot,tt));else{let lt=WidgetView.create(tt.widget||NullWidget.inline,ot,ot?0:tt.startSide),ut=this.atCursorPos&&!lt.isEditable&&rt<=nt.length&&($<et||tt.startSide>0),ct=!lt.isEditable&&($<et||rt>nt.length||tt.startSide<=0),ht=this.getLine();this.pendingBuffer==2&&!ut&&!lt.isEditable&&(this.pendingBuffer=0),this.flushBuffer(nt),ut&&(ht.append(wrapMarks(new WidgetBufferView(1),nt),rt),rt=nt.length+Math.max(0,rt-nt.length)),ht.append(wrapMarks(lt,nt),rt),this.atCursorPos=ct,this.pendingBuffer=ct?$<et||rt>nt.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=nt.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(tt);ot&&(this.textOff+ot<=this.text.length?this.textOff+=ot:(this.skip+=ot-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=et),this.openStart<0&&(this.openStart=rt)}static build($,et,tt,nt,rt){let it=new ContentBuilder($,et,tt,rt);return it.openEnd=RangeSet.spans(nt,et,tt,it),it.openStart<0&&(it.openStart=it.openEnd),it.finish(it.openEnd),it}}function wrapMarks(_e,$){for(let et of $)_e=new MarkView(et,[_e],_e.length);return _e}class NullWidget extends WidgetType{constructor($){super(),this.tag=$}eq($){return $.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM($){return $.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");var Direction=function(_e){return _e[_e.LTR=0]="LTR",_e[_e.RTL=1]="RTL",_e}(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(_e){let $=[];for(let et=0;et<_e.length;et++)$.push(1<<+_e[et]);return $}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let _e of["()","[]","{}"]){let $=_e.charCodeAt(0),et=_e.charCodeAt(1);Brackets[$]=et,Brackets[et]=-$}function charType(_e){return _e<=247?LowTypes[_e]:1424<=_e&&_e<=1524?2:1536<=_e&&_e<=1785?ArabicTypes[_e-1536]:1774<=_e&&_e<=2220?4:8192<=_e&&_e<=8204?256:64336<=_e&&_e<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor($,et,tt){this.from=$,this.to=et,this.level=tt}side($,et){return this.dir==et==$?this.to:this.from}forward($,et){return $==(this.dir==et)}static find($,et,tt,nt){let rt=-1;for(let it=0;it<$.length;it++){let ot=$[it];if(ot.from<=et&&ot.to>=et){if(ot.level==tt)return it;(rt<0||(nt!=0?nt<0?ot.from<et:ot.to>et:$[rt].level>ot.level))&&(rt=it)}}if(rt<0)throw new RangeError("Index out of range");return rt}}function isolatesEq(_e,$){if(_e.length!=$.length)return!1;for(let et=0;et<_e.length;et++){let tt=_e[et],nt=$[et];if(tt.from!=nt.from||tt.to!=nt.to||tt.direction!=nt.direction||!isolatesEq(tt.inner,nt.inner))return!1}return!0}const types=[];function computeCharTypes(_e,$,et,tt,nt){for(let rt=0;rt<=tt.length;rt++){let it=rt?tt[rt-1].to:$,ot=rt<tt.length?tt[rt].from:et,lt=rt?256:nt;for(let ut=it,ct=lt,ht=lt;ut<ot;ut++){let dt=charType(_e.charCodeAt(ut));dt==512?dt=ct:dt==8&&ht==4&&(dt=16),types[ut]=dt==4?2:dt,dt&7&&(ht=dt),ct=dt}for(let ut=it,ct=lt,ht=lt;ut<ot;ut++){let dt=types[ut];if(dt==128)ut<ot-1&&ct==types[ut+1]&&ct&24?dt=types[ut]=ct:types[ut]=256;else if(dt==64){let mt=ut+1;for(;mt<ot&&types[mt]==64;)mt++;let gt=ut&&ct==8||mt<et&&types[mt]==8?ht==1?1:8:256;for(let Ot=ut;Ot<mt;Ot++)types[Ot]=gt;ut=mt-1}else dt==8&&ht==1&&(types[ut]=1);ct=dt,dt&7&&(ht=dt)}}}function processBracketPairs(_e,$,et,tt,nt){let rt=nt==1?2:1;for(let it=0,ot=0,lt=0;it<=tt.length;it++){let ut=it?tt[it-1].to:$,ct=it<tt.length?tt[it].from:et;for(let ht=ut,dt,mt,gt;ht<ct;ht++)if(mt=Brackets[dt=_e.charCodeAt(ht)])if(mt<0){for(let Ot=ot-3;Ot>=0;Ot-=3)if(BracketStack[Ot+1]==-mt){let wt=BracketStack[Ot+2],St=wt&2?nt:wt&4?wt&1?rt:nt:0;St&&(types[ht]=types[BracketStack[Ot]]=St),ot=Ot;break}}else{if(BracketStack.length==189)break;BracketStack[ot++]=ht,BracketStack[ot++]=dt,BracketStack[ot++]=lt}else if((gt=types[ht])==2||gt==1){let Ot=gt==nt;lt=Ot?0:1;for(let wt=ot-3;wt>=0;wt-=3){let St=BracketStack[wt+2];if(St&2)break;if(Ot)BracketStack[wt+2]|=2;else{if(St&4)break;BracketStack[wt+2]|=4}}}}}function processNeutrals(_e,$,et,tt){for(let nt=0,rt=tt;nt<=et.length;nt++){let it=nt?et[nt-1].to:_e,ot=nt<et.length?et[nt].from:$;for(let lt=it;lt<ot;){let ut=types[lt];if(ut==256){let ct=lt+1;for(;;)if(ct==ot){if(nt==et.length)break;ct=et[nt++].to,ot=nt<et.length?et[nt].from:$}else if(types[ct]==256)ct++;else break;let ht=rt==1,dt=(ct<$?types[ct]:tt)==1,mt=ht==dt?ht?1:2:tt;for(let gt=ct,Ot=nt,wt=Ot?et[Ot-1].to:_e;gt>lt;)gt==wt&&(gt=et[--Ot].from,wt=Ot?et[Ot-1].to:_e),types[--gt]=mt;lt=ct}else rt=ut,lt++}}}function emitSpans(_e,$,et,tt,nt,rt,it){let ot=tt%2?2:1;if(tt%2==nt%2)for(let lt=$,ut=0;lt<et;){let ct=!0,ht=!1;if(ut==rt.length||lt<rt[ut].from){let Ot=types[lt];Ot!=ot&&(ct=!1,ht=Ot==16)}let dt=!ct&&ot==1?[]:null,mt=ct?tt:tt+1,gt=lt;e:for(;;)if(ut<rt.length&&gt==rt[ut].from){if(ht)break e;let Ot=rt[ut];if(!ct)for(let wt=Ot.to,St=ut+1;;){if(wt==et)break e;if(St<rt.length&&rt[St].from==wt)wt=rt[St++].to;else{if(types[wt]==ot)break e;break}}if(ut++,dt)dt.push(Ot);else{Ot.from>lt&&it.push(new BidiSpan(lt,Ot.from,mt));let wt=Ot.direction==LTR!=!(mt%2);computeSectionOrder(_e,wt?tt+1:tt,nt,Ot.inner,Ot.from,Ot.to,it),lt=Ot.to}gt=Ot.to}else{if(gt==et||(ct?types[gt]!=ot:types[gt]==ot))break;gt++}dt?emitSpans(_e,lt,gt,tt+1,nt,dt,it):lt<gt&&it.push(new BidiSpan(lt,gt,mt)),lt=gt}else for(let lt=et,ut=rt.length;lt>$;){let ct=!0,ht=!1;if(!ut||lt>rt[ut-1].to){let Ot=types[lt-1];Ot!=ot&&(ct=!1,ht=Ot==16)}let dt=!ct&&ot==1?[]:null,mt=ct?tt:tt+1,gt=lt;e:for(;;)if(ut&&gt==rt[ut-1].to){if(ht)break e;let Ot=rt[--ut];if(!ct)for(let wt=Ot.from,St=ut;;){if(wt==$)break e;if(St&&rt[St-1].to==wt)wt=rt[--St].from;else{if(types[wt-1]==ot)break e;break}}if(dt)dt.push(Ot);else{Ot.to<lt&&it.push(new BidiSpan(Ot.to,lt,mt));let wt=Ot.direction==LTR!=!(mt%2);computeSectionOrder(_e,wt?tt+1:tt,nt,Ot.inner,Ot.from,Ot.to,it),lt=Ot.from}gt=Ot.from}else{if(gt==$||(ct?types[gt-1]!=ot:types[gt-1]==ot))break;gt--}dt?emitSpans(_e,gt,lt,tt+1,nt,dt,it):gt<lt&&it.push(new BidiSpan(gt,lt,mt)),lt=gt}}function computeSectionOrder(_e,$,et,tt,nt,rt,it){let ot=$%2?2:1;computeCharTypes(_e,nt,rt,tt,ot),processBracketPairs(_e,nt,rt,tt,ot),processNeutrals(nt,rt,tt,ot),emitSpans(_e,nt,rt,$,et,tt,it)}function computeOrder(_e,$,et){if(!_e)return[new BidiSpan(0,0,$==RTL?1:0)];if($==LTR&&!et.length&&!BidiRE.test(_e))return trivialOrder(_e.length);if(et.length)for(;_e.length>types.length;)types[types.length]=256;let tt=[],nt=$==LTR?0:1;return computeSectionOrder(_e,nt,nt,et,0,_e.length,tt),tt}function trivialOrder(_e){return[new BidiSpan(0,_e,0)]}let movedOver="";function moveVisually(_e,$,et,tt,nt){var rt;let it=tt.head-_e.from,ot=BidiSpan.find($,it,(rt=tt.bidiLevel)!==null&&rt!==void 0?rt:-1,tt.assoc),lt=$[ot],ut=lt.side(nt,et);if(it==ut){let dt=ot+=nt?1:-1;if(dt<0||dt>=$.length)return null;lt=$[ot=dt],it=lt.side(!nt,et),ut=lt.side(nt,et)}let ct=findClusterBreak(_e.text,it,lt.forward(nt,et));(ct<lt.from||ct>lt.to)&&(ct=ut),movedOver=_e.text.slice(Math.min(it,ct),Math.max(it,ct));let ht=ot==(nt?$.length-1:0)?null:$[ot+(nt?1:-1)];return ht&&ct==ut&&ht.level+(nt?0:1)<lt.level?EditorSelection.cursor(ht.side(!nt,et)+_e.from,ht.forward(nt,et)?1:-1,ht.level):EditorSelection.cursor(ct+_e.from,lt.forward(nt,et)?-1:1,lt.level)}function autoDirection(_e,$,et){for(let tt=$;tt<et;tt++){let nt=charType(_e.charCodeAt(tt));if(nt==1)return LTR;if(nt==2||nt==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler=Facet.define(),focusChangeEffect=Facet.define(),perLineTextDirection=Facet.define({combine:_e=>_e.some($=>$)}),nativeSelectionHidden=Facet.define({combine:_e=>_e.some($=>$)});class ScrollTarget{constructor($,et="nearest",tt="nearest",nt=5,rt=5,it=!1){this.range=$,this.y=et,this.x=tt,this.yMargin=nt,this.xMargin=rt,this.isSnapshot=it}map($){return $.empty?this:new ScrollTarget(this.range.map($),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip($){return this.range.to<=$.doc.length?this:new ScrollTarget(EditorSelection.cursor($.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(_e,$)=>_e.map($)});function logException(_e,$,et){let tt=_e.facet(exceptionSink);tt.length?tt[0]($):window.onerror?window.onerror(String($),et,void 0,void 0,$):et?console.error(et+":",$):console.error($)}const editable=Facet.define({combine:_e=>_e.length?_e[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define();class ViewPlugin{constructor($,et,tt,nt,rt){this.id=$,this.create=et,this.domEventHandlers=tt,this.domEventObservers=nt,this.extension=rt(this)}static define($,et){const{eventHandlers:tt,eventObservers:nt,provide:rt,decorations:it}=et||{};return new ViewPlugin(nextPluginID++,$,tt,nt,ot=>{let lt=[viewPlugin.of(ot)];return it&&lt.push(decorations.of(ut=>{let ct=ut.plugin(ot);return ct?it(ct):Decoration.none})),rt&&lt.push(rt(ot)),lt})}static fromClass($,et){return ViewPlugin.define(tt=>new $(tt),et)}}class PluginInstance{constructor($){this.spec=$,this.mustUpdate=null,this.value=null}update($){if(this.value){if(this.mustUpdate){let et=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(et)}catch(tt){if(logException(et.state,tt,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create($)}catch(et){logException($.state,et,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy($){var et;if(!((et=this.value)===null||et===void 0)&&et.destroy)try{this.value.destroy()}catch(tt){logException($.state,tt,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(_e,$){let et=_e.state.facet(bidiIsolatedRanges);if(!et.length)return et;let tt=et.map(rt=>rt instanceof Function?rt(_e):rt),nt=[];return RangeSet.spans(tt,$.from,$.to,{point(){},span(rt,it,ot,lt){let ut=rt-$.from,ct=it-$.from,ht=nt;for(let dt=ot.length-1;dt>=0;dt--,lt--){let mt=ot[dt].spec.bidiIsolate,gt;if(mt==null&&(mt=autoDirection($.text,ut,ct)),lt>0&&ht.length&&(gt=ht[ht.length-1]).to==ut&&gt.direction==mt)gt.to=ct,ht=gt.inner;else{let Ot={from:ut,to:ct,direction:mt,inner:[]};ht.push(Ot),ht=Ot.inner}}}}),nt}const scrollMargins=Facet.define();function getScrollMargins(_e){let $=0,et=0,tt=0,nt=0;for(let rt of _e.state.facet(scrollMargins)){let it=rt(_e);it&&(it.left!=null&&($=Math.max($,it.left)),it.right!=null&&(et=Math.max(et,it.right)),it.top!=null&&(tt=Math.max(tt,it.top)),it.bottom!=null&&(nt=Math.max(nt,it.bottom)))}return{left:$,right:et,top:tt,bottom:nt}}const styleModule=Facet.define();class ChangedRange{constructor($,et,tt,nt){this.fromA=$,this.toA=et,this.fromB=tt,this.toB=nt}join($){return new ChangedRange(Math.min(this.fromA,$.fromA),Math.max(this.toA,$.toA),Math.min(this.fromB,$.fromB),Math.max(this.toB,$.toB))}addToSet($){let et=$.length,tt=this;for(;et>0;et--){let nt=$[et-1];if(!(nt.fromA>tt.toA)){if(nt.toA<tt.fromA)break;tt=tt.join(nt),$.splice(et-1,1)}}return $.splice(et,0,tt),$}static extendWithRanges($,et){if(et.length==0)return $;let tt=[];for(let nt=0,rt=0,it=0,ot=0;;nt++){let lt=nt==$.length?null:$[nt],ut=it-ot,ct=lt?lt.fromB:1e9;for(;rt<et.length&&et[rt]<ct;){let ht=et[rt],dt=et[rt+1],mt=Math.max(ot,ht),gt=Math.min(ct,dt);if(mt<=gt&&new ChangedRange(mt+ut,gt+ut,mt,gt).addToSet(tt),dt>ct)break;rt+=2}if(!lt)return tt;new ChangedRange(lt.fromA,lt.toA,lt.fromB,lt.toB).addToSet(tt),it=lt.toA,ot=lt.toB}}}class ViewUpdate{constructor($,et,tt){this.view=$,this.state=et,this.transactions=tt,this.flags=0,this.startState=$.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let rt of tt)this.changes=this.changes.compose(rt.changes);let nt=[];this.changes.iterChangedRanges((rt,it,ot,lt)=>nt.push(new ChangedRange(rt,it,ot,lt))),this.changedRanges=nt}static create($,et,tt){return new ViewUpdate($,et,tt)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some($=>$.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class DocView extends ContentView{get length(){return this.view.state.doc.length}constructor($){super(),this.view=$,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.compositionBarrier=Decoration.none,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM($.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,$.state.doc.length)],0,null)}update($){var et;let tt=$.changedRanges;this.minWidth>0&&tt.length&&(tt.every(({fromA:ut,toA:ct})=>ct<this.minWidthFrom||ut>this.minWidthTo)?(this.minWidthFrom=$.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=$.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let nt=-1;this.view.inputState.composing>=0&&(!((et=this.domChanged)===null||et===void 0)&&et.newSel?nt=this.domChanged.newSel.head:!touchesComposition($.changes,this.hasComposition)&&!$.selectionSet&&(nt=$.state.selection.main.head));let rt=nt>-1?findCompositionRange(this.view,$.changes,nt):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:ut,to:ct}=this.hasComposition;tt=new ChangedRange(ut,ct,$.changes.mapPos(ut,-1),$.changes.mapPos(ct,1)).addToSet(tt.slice())}this.hasComposition=rt?{from:rt.range.fromB,to:rt.range.toB}:null,(browser.ie||browser.chrome)&&!rt&&$&&$.state.doc.lines!=$.startState.doc.lines&&(this.forceSelection=!0);let it=this.decorations,ot=this.updateDeco(),lt=findChangedDeco(it,ot,$.changes);return tt=ChangedRange.extendWithRanges(tt,lt),!(this.flags&7)&&tt.length==0?!1:(this.updateInner(tt,$.startState.doc.length,rt),$.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner($,et,tt){this.view.viewState.mustMeasureContent=!0,this.updateChildren($,et,tt);let{observer:nt}=this.view;nt.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let it=browser.chrome||browser.ios?{node:nt.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,it),this.flags&=-8,it&&(it.written||nt.selectionRange.focusNode!=it.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(it=>it.flags&=-9);let rt=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let it of this.children)it instanceof BlockWidgetView&&it.widget instanceof BlockGapWidget&&rt.push(it.dom);nt.updateGaps(rt)}updateChildren($,et,tt){let nt=tt?tt.range.addToSet($.slice()):$,rt=this.childCursor(et);for(let it=nt.length-1;;it--){let ot=it>=0?nt[it]:null;if(!ot)break;let{fromA:lt,toA:ut,fromB:ct,toB:ht}=ot,dt,mt,gt,Ot;if(tt&&tt.range.fromB<ht&&tt.range.toB>ct){let Et=ContentBuilder.build(this.view.state.doc,ct,tt.range.fromB,this.decorations,this.dynamicDecorationMap),Pt=ContentBuilder.build(this.view.state.doc,tt.range.toB,ht,this.decorations,this.dynamicDecorationMap);mt=Et.breakAtStart,gt=Et.openStart,Ot=Pt.openEnd;let Mt=this.compositionView(tt);Pt.breakAtStart?Mt.breakAfter=1:Pt.content.length&&Mt.merge(Mt.length,Mt.length,Pt.content[0],!1,Pt.openStart,0)&&(Mt.breakAfter=Pt.content[0].breakAfter,Pt.content.shift()),Et.content.length&&Mt.merge(0,0,Et.content[Et.content.length-1],!0,0,Et.openEnd)&&Et.content.pop(),dt=Et.content.concat(Mt).concat(Pt.content)}else({content:dt,breakAtStart:mt,openStart:gt,openEnd:Ot}=ContentBuilder.build(this.view.state.doc,ct,ht,this.decorations,this.dynamicDecorationMap));let{i:wt,off:St}=rt.findPos(ut,1),{i:vt,off:Tt}=rt.findPos(lt,-1);replaceRange(this,vt,Tt,wt,St,dt,mt,gt,Ot)}tt&&this.fixCompositionDOM(tt)}compositionView($){let et=new TextView($.text.nodeValue);et.flags|=8;for(let{deco:nt}of $.marks)et=new MarkView(nt,[et],et.length);let tt=new LineView;return tt.append(et,0),tt}fixCompositionDOM($){let et=(rt,it)=>{it.flags|=8|(it.children.some(lt=>lt.flags&7)?1:0),this.markedForComposition.add(it);let ot=ContentView.get(rt);ot&&ot!=it&&(ot.dom=null),it.setDOM(rt)},tt=this.childPos($.range.fromB,1),nt=this.children[tt.i];et($.line,nt);for(let rt=$.marks.length-1;rt>=-1;rt--)tt=nt.childPos(tt.off,1),nt=nt.children[tt.i],et(rt>=0?$.marks[rt].node:$.text,nt)}updateSelection($=!1,et=!1){($||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let tt=this.view.root.activeElement,nt=tt==this.dom,rt=!nt&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(tt&&this.dom.contains(tt));if(!(nt||et||rt))return;let it=this.forceSelection;this.forceSelection=!1;let ot=this.view.state.selection.main,lt=this.moveToLine(this.domAtPos(ot.anchor)),ut=ot.empty?lt:this.moveToLine(this.domAtPos(ot.head));if(browser.gecko&&ot.empty&&!this.hasComposition&&betweenUneditable(lt)){let ht=document.createTextNode("");this.view.observer.ignore(()=>lt.node.insertBefore(ht,lt.node.childNodes[lt.offset]||null)),lt=ut=new DOMPos(ht,0),it=!0}let ct=this.view.observer.selectionRange;(it||!ct.focusNode||(!isEquivalentPosition(lt.node,lt.offset,ct.anchorNode,ct.anchorOffset)||!isEquivalentPosition(ut.node,ut.offset,ct.focusNode,ct.focusOffset))&&!this.suppressWidgetCursorChange(ct,ot))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&this.dom.contains(ct.focusNode)&&inUneditable(ct.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let ht=getSelection(this.view.root);if(ht)if(ot.empty){if(browser.gecko){let dt=nextToUneditable(lt.node,lt.offset);if(dt&&dt!=3){let mt=nearbyTextNode(lt.node,lt.offset,dt==1?1:-1);mt&&(lt=new DOMPos(mt.node,mt.offset))}}ht.collapse(lt.node,lt.offset),ot.bidiLevel!=null&&ht.caretBidiLevel!==void 0&&(ht.caretBidiLevel=ot.bidiLevel)}else if(ht.extend){ht.collapse(lt.node,lt.offset);try{ht.extend(ut.node,ut.offset)}catch{}}else{let dt=document.createRange();ot.anchor>ot.head&&([lt,ut]=[ut,lt]),dt.setEnd(ut.node,ut.offset),dt.setStart(lt.node,lt.offset),ht.removeAllRanges(),ht.addRange(dt)}rt&&this.view.root.activeElement==this.dom&&(this.dom.blur(),tt&&tt.focus())}),this.view.observer.setSelectionRange(lt,ut)),this.impreciseAnchor=lt.precise?null:new DOMPos(ct.anchorNode,ct.anchorOffset),this.impreciseHead=ut.precise?null:new DOMPos(ct.focusNode,ct.focusOffset)}suppressWidgetCursorChange($,et){return this.hasComposition&&et.empty&&!this.compositionBarrier.size&&isEquivalentPosition($.focusNode,$.focusOffset,$.anchorNode,$.anchorOffset)&&this.posFromDOM($.focusNode,$.focusOffset)==et.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:$}=this,et=$.state.selection.main,tt=getSelection($.root),{anchorNode:nt,anchorOffset:rt}=$.observer.selectionRange;if(!tt||!et.empty||!et.assoc||!tt.modify)return;let it=LineView.find(this,et.head);if(!it)return;let ot=it.posAtStart;if(et.head==ot||et.head==ot+it.length)return;let lt=this.coordsAt(et.head,-1),ut=this.coordsAt(et.head,1);if(!lt||!ut||lt.bottom>ut.top)return;let ct=this.domAtPos(et.head+et.assoc);tt.collapse(ct.node,ct.offset),tt.modify("move",et.assoc<0?"forward":"backward","lineboundary"),$.observer.readSelectionRange();let ht=$.observer.selectionRange;$.docView.posFromDOM(ht.anchorNode,ht.anchorOffset)!=et.from&&tt.collapse(nt,rt)}moveToLine($){let et=this.dom,tt;if($.node!=et)return $;for(let nt=$.offset;!tt&&nt<et.childNodes.length;nt++){let rt=ContentView.get(et.childNodes[nt]);rt instanceof LineView&&(tt=rt.domAtPos(0))}for(let nt=$.offset-1;!tt&&nt>=0;nt--){let rt=ContentView.get(et.childNodes[nt]);rt instanceof LineView&&(tt=rt.domAtPos(rt.length))}return tt?new DOMPos(tt.node,tt.offset,!0):$}nearest($){for(let et=$;et;){let tt=ContentView.get(et);if(tt&&tt.rootView==this)return tt;et=et.parentNode}return null}posFromDOM($,et){let tt=this.nearest($);if(!tt)throw new RangeError("Trying to find position for a DOM position outside of the document");return tt.localPosFromDOM($,et)+tt.posAtStart}domAtPos($){let{i:et,off:tt}=this.childCursor().findPos($,-1);for(;et<this.children.length-1;){let nt=this.children[et];if(tt<nt.length||nt instanceof LineView)break;et++,tt=0}return this.children[et].domAtPos(tt)}coordsAt($,et){let tt=null,nt=0;for(let rt=this.length,it=this.children.length-1;it>=0;it--){let ot=this.children[it],lt=rt-ot.breakAfter,ut=lt-ot.length;if(lt<$)break;ut<=$&&(ut<$||ot.covers(-1))&&(lt>$||ot.covers(1))&&(!tt||ot instanceof LineView&&!(tt instanceof LineView&&et>=0))&&(tt=ot,nt=ut),rt=ut}return tt?tt.coordsAt($-nt,et):null}coordsForChar($){let{i:et,off:tt}=this.childPos($,1),nt=this.children[et];if(!(nt instanceof LineView))return null;for(;nt.children.length;){let{i:ot,off:lt}=nt.childPos(tt,1);for(;;ot++){if(ot==nt.children.length)return null;if((nt=nt.children[ot]).length)break}tt=lt}if(!(nt instanceof TextView))return null;let rt=findClusterBreak(nt.text,tt);if(rt==tt)return null;let it=textRange(nt.dom,tt,rt).getClientRects();for(let ot=0;ot<it.length;ot++){let lt=it[ot];if(ot==it.length-1||lt.top<lt.bottom&&lt.left<lt.right)return lt}return null}measureVisibleLineHeights($){let et=[],{from:tt,to:nt}=$,rt=this.view.contentDOM.clientWidth,it=rt>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,ot=-1,lt=this.view.textDirection==Direction.LTR;for(let ut=0,ct=0;ct<this.children.length;ct++){let ht=this.children[ct],dt=ut+ht.length;if(dt>nt)break;if(ut>=tt){let mt=ht.dom.getBoundingClientRect();if(et.push(mt.height),it){let gt=ht.dom.lastChild,Ot=gt?clientRectsFor(gt):[];if(Ot.length){let wt=Ot[Ot.length-1],St=lt?wt.right-mt.left:mt.right-wt.left;St>ot&&(ot=St,this.minWidth=rt,this.minWidthFrom=ut,this.minWidthTo=dt)}}}ut=dt+ht.breakAfter}return et}textDirectionAt($){let{i:et}=this.childPos($,1);return getComputedStyle(this.children[et].dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){for(let rt of this.children)if(rt instanceof LineView){let it=rt.measureTextSize();if(it)return it}let $=document.createElement("div"),et,tt,nt;return $.className="cm-line",$.style.width="99999px",$.style.position="absolute",$.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild($);let rt=clientRectsFor($.firstChild)[0];et=$.getBoundingClientRect().height,tt=rt?rt.width/27:7,nt=rt?rt.height:et,$.remove()}),{lineHeight:et,charWidth:tt,textHeight:nt}}childCursor($=this.length){let et=this.children.length;return et&&($-=this.children[--et].length),new ChildCursor(this.children,$,et)}computeBlockGapDeco(){let $=[],et=this.view.viewState;for(let tt=0,nt=0;;nt++){let rt=nt==et.viewports.length?null:et.viewports[nt],it=rt?rt.from-1:this.length;if(it>tt){let ot=(et.lineBlockAt(it).bottom-et.lineBlockAt(tt).top)/this.view.scaleY;$.push(Decoration.replace({widget:new BlockGapWidget(ot),block:!0,inclusive:!0,isBlockGap:!0}).range(tt,it))}if(!rt)break;tt=rt.to+1}return Decoration.set($)}updateDeco(){let $=1,et=this.view.state.facet(decorations).map(rt=>(this.dynamicDecorationMap[$++]=typeof rt=="function")?rt(this.view):rt),tt=!1,nt=this.view.state.facet(outerDecorations).map((rt,it)=>{let ot=typeof rt=="function";return ot&&(tt=!0),ot?rt(this.view):rt});for(nt.length&&(this.dynamicDecorationMap[$++]=tt,et.push(RangeSet.join(nt))),this.decorations=[this.compositionBarrier,...et,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];$<this.decorations.length;)this.dynamicDecorationMap[$++]=!1;return this.decorations}maybeCreateCompositionBarrier(){let{main:{head:$,empty:et}}=this.view.state.selection;if(!et)return!1;let tt=null;for(let nt of this.decorations)if(nt.between($,$,(rt,it,ot)=>{ot.point?tt=!1:ot.endSide<0&&rt<$&&it==$&&(tt=!0)}),tt===!1)break;return this.compositionBarrier=tt?Decoration.set(compositionBarrierWidget.range($)):Decoration.none,!!tt}clearCompositionBarrier(){this.compositionBarrier=Decoration.none}scrollIntoView($){if($.isSnapshot){let ut=this.view.viewState.lineBlockAt($.range.head);this.view.scrollDOM.scrollTop=ut.top-$.yMargin,this.view.scrollDOM.scrollLeft=$.xMargin;return}let{range:et}=$,tt=this.coordsAt(et.head,et.empty?et.assoc:et.head>et.anchor?-1:1),nt;if(!tt)return;!et.empty&&(nt=this.coordsAt(et.anchor,et.anchor>et.head?-1:1))&&(tt={left:Math.min(tt.left,nt.left),top:Math.min(tt.top,nt.top),right:Math.max(tt.right,nt.right),bottom:Math.max(tt.bottom,nt.bottom)});let rt=getScrollMargins(this.view),it={left:tt.left-rt.left,top:tt.top-rt.top,right:tt.right+rt.right,bottom:tt.bottom+rt.bottom},{offsetWidth:ot,offsetHeight:lt}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,it,et.head<et.anchor?-1:1,$.x,$.y,Math.max(Math.min($.xMargin,ot),-ot),Math.max(Math.min($.yMargin,lt),-lt),this.view.textDirection==Direction.LTR)}}const compositionBarrierWidget=Decoration.widget({side:-1,widget:NullWidget.inline});function betweenUneditable(_e){return _e.node.nodeType==1&&_e.node.firstChild&&(_e.offset==0||_e.node.childNodes[_e.offset-1].contentEditable=="false")&&(_e.offset==_e.node.childNodes.length||_e.node.childNodes[_e.offset].contentEditable=="false")}class BlockGapWidget extends WidgetType{constructor($){super(),this.height=$}toDOM(){let $=document.createElement("div");return $.className="cm-gap",this.updateDOM($),$}eq($){return $.height==this.height}updateDOM($){return $.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function findCompositionNode(_e,$){let et=_e.observer.selectionRange,tt=et.focusNode&&nearbyTextNode(et.focusNode,et.focusOffset,0);if(!tt)return null;let nt=$-tt.offset;return{from:nt,to:nt+tt.node.nodeValue.length,node:tt.node}}function findCompositionRange(_e,$,et){let tt=findCompositionNode(_e,et);if(!tt)return null;let{node:nt,from:rt,to:it}=tt,ot=nt.nodeValue;if(/[\n\r]/.test(ot)||_e.state.doc.sliceString(tt.from,tt.to)!=ot)return null;let lt=$.invertedDesc,ut=new ChangedRange(lt.mapPos(rt),lt.mapPos(it),rt,it),ct=[];for(let ht=nt.parentNode;;ht=ht.parentNode){let dt=ContentView.get(ht);if(dt instanceof MarkView)ct.push({node:ht,deco:dt.mark});else{if(dt instanceof LineView||ht.nodeName=="DIV"&&ht.parentNode==_e.contentDOM)return{range:ut,text:nt,marks:ct,line:ht};if(ht!=_e.contentDOM)ct.push({node:ht,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(ht),tagName:ht.tagName.toLowerCase()})});else return null}}}function nearbyTextNode(_e,$,et){if(et<=0)for(let tt=_e,nt=$;;){if(tt.nodeType==3)return{node:tt,offset:nt};if(tt.nodeType==1&&nt>0)tt=tt.childNodes[nt-1],nt=maxOffset(tt);else break}if(et>=0)for(let tt=_e,nt=$;;){if(tt.nodeType==3)return{node:tt,offset:nt};if(tt.nodeType==1&&nt<tt.childNodes.length&&et>=0)tt=tt.childNodes[nt],nt=0;else break}return null}function nextToUneditable(_e,$){return _e.nodeType!=1?0:($&&_e.childNodes[$-1].contentEditable=="false"?1:0)|($<_e.childNodes.length&&_e.childNodes[$].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange($,et){addRange($,et,this.changes)}comparePoint($,et){addRange($,et,this.changes)}};function findChangedDeco(_e,$,et){let tt=new DecorationComparator$1;return RangeSet.compare(_e,$,et,tt),tt.changes}function inUneditable(_e,$){for(let et=_e;et&&et!=$;et=et.assignedSlot||et.parentNode)if(et.nodeType==1&&et.contentEditable=="false")return!0;return!1}function touchesComposition(_e,$){let et=!1;return $&&_e.iterChangedRanges((tt,nt)=>{tt<$.to&&nt>$.from&&(et=!0)}),et}function groupAt(_e,$,et=1){let tt=_e.charCategorizer($),nt=_e.doc.lineAt($),rt=$-nt.from;if(nt.length==0)return EditorSelection.cursor($);rt==0?et=1:rt==nt.length&&(et=-1);let it=rt,ot=rt;et<0?it=findClusterBreak(nt.text,rt,!1):ot=findClusterBreak(nt.text,rt);let lt=tt(nt.text.slice(it,ot));for(;it>0;){let ut=findClusterBreak(nt.text,it,!1);if(tt(nt.text.slice(ut,it))!=lt)break;it=ut}for(;ot<nt.length;){let ut=findClusterBreak(nt.text,ot);if(tt(nt.text.slice(ot,ut))!=lt)break;ot=ut}return EditorSelection.range(it+nt.from,ot+nt.from)}function getdx(_e,$){return $.left>_e?$.left-_e:Math.max(0,_e-$.right)}function getdy(_e,$){return $.top>_e?$.top-_e:Math.max(0,_e-$.bottom)}function yOverlap(_e,$){return _e.top<$.bottom-1&&_e.bottom>$.top+1}function upTop(_e,$){return $<_e.top?{top:$,left:_e.left,right:_e.right,bottom:_e.bottom}:_e}function upBot(_e,$){return $>_e.bottom?{top:_e.top,left:_e.left,right:_e.right,bottom:$}:_e}function domPosAtCoords(_e,$,et){let tt,nt,rt,it,ot=!1,lt,ut,ct,ht;for(let gt=_e.firstChild;gt;gt=gt.nextSibling){let Ot=clientRectsFor(gt);for(let wt=0;wt<Ot.length;wt++){let St=Ot[wt];nt&&yOverlap(nt,St)&&(St=upTop(upBot(St,nt.bottom),nt.top));let vt=getdx($,St),Tt=getdy(et,St);if(vt==0&&Tt==0)return gt.nodeType==3?domPosInText(gt,$,et):domPosAtCoords(gt,$,et);if(!tt||it>Tt||it==Tt&&rt>vt){tt=gt,nt=St,rt=vt,it=Tt;let Et=Tt?et<St.top?-1:1:vt?$<St.left?-1:1:0;ot=!Et||(Et>0?wt<Ot.length-1:wt>0)}vt==0?et>St.bottom&&(!ct||ct.bottom<St.bottom)?(lt=gt,ct=St):et<St.top&&(!ht||ht.top>St.top)&&(ut=gt,ht=St):ct&&yOverlap(ct,St)?ct=upBot(ct,St.bottom):ht&&yOverlap(ht,St)&&(ht=upTop(ht,St.top))}}if(ct&&ct.bottom>=et?(tt=lt,nt=ct):ht&&ht.top<=et&&(tt=ut,nt=ht),!tt)return{node:_e,offset:0};let dt=Math.max(nt.left,Math.min(nt.right,$));if(tt.nodeType==3)return domPosInText(tt,dt,et);if(ot&&tt.contentEditable!="false")return domPosAtCoords(tt,dt,et);let mt=Array.prototype.indexOf.call(_e.childNodes,tt)+($>=(nt.left+nt.right)/2?1:0);return{node:_e,offset:mt}}function domPosInText(_e,$,et){let tt=_e.nodeValue.length,nt=-1,rt=1e9,it=0;for(let ot=0;ot<tt;ot++){let lt=textRange(_e,ot,ot+1).getClientRects();for(let ut=0;ut<lt.length;ut++){let ct=lt[ut];if(ct.top==ct.bottom)continue;it||(it=$-ct.left);let ht=(ct.top>et?ct.top-et:et-ct.bottom)-1;if(ct.left-1<=$&&ct.right+1>=$&&ht<rt){let dt=$>=(ct.left+ct.right)/2,mt=dt;if((browser.chrome||browser.gecko)&&textRange(_e,ot).getBoundingClientRect().left==ct.right&&(mt=!dt),ht<=0)return{node:_e,offset:ot+(mt?1:0)};nt=ot+(mt?1:0),rt=ht}}}return{node:_e,offset:nt>-1?nt:it>0?_e.nodeValue.length:0}}function posAtCoords(_e,$,et,tt=-1){var nt,rt;let it=_e.contentDOM.getBoundingClientRect(),ot=it.top+_e.viewState.paddingTop,lt,{docHeight:ut}=_e.viewState,{x:ct,y:ht}=$,dt=ht-ot;if(dt<0)return 0;if(dt>ut)return _e.state.doc.length;for(let Et=_e.viewState.heightOracle.textHeight/2,Pt=!1;lt=_e.elementAtHeight(dt),lt.type!=BlockType.Text;)for(;dt=tt>0?lt.bottom+Et:lt.top-Et,!(dt>=0&&dt<=ut);){if(Pt)return et?null:0;Pt=!0,tt=-tt}ht=ot+dt;let mt=lt.from;if(mt<_e.viewport.from)return _e.viewport.from==0?0:et?null:posAtCoordsImprecise(_e,it,lt,ct,ht);if(mt>_e.viewport.to)return _e.viewport.to==_e.state.doc.length?_e.state.doc.length:et?null:posAtCoordsImprecise(_e,it,lt,ct,ht);let gt=_e.dom.ownerDocument,Ot=_e.root.elementFromPoint?_e.root:gt,wt=Ot.elementFromPoint(ct,ht);wt&&!_e.contentDOM.contains(wt)&&(wt=null),wt||(ct=Math.max(it.left+1,Math.min(it.right-1,ct)),wt=Ot.elementFromPoint(ct,ht),wt&&!_e.contentDOM.contains(wt)&&(wt=null));let St,vt=-1;if(wt&&((nt=_e.docView.nearest(wt))===null||nt===void 0?void 0:nt.isEditable)!=!1){if(gt.caretPositionFromPoint){let Et=gt.caretPositionFromPoint(ct,ht);Et&&({offsetNode:St,offset:vt}=Et)}else if(gt.caretRangeFromPoint){let Et=gt.caretRangeFromPoint(ct,ht);Et&&({startContainer:St,startOffset:vt}=Et,(!_e.contentDOM.contains(St)||browser.safari&&isSuspiciousSafariCaretResult(St,vt,ct)||browser.chrome&&isSuspiciousChromeCaretResult(St,vt,ct))&&(St=void 0))}}if(!St||!_e.docView.dom.contains(St)){let Et=LineView.find(_e.docView,mt);if(!Et)return dt>lt.top+lt.height/2?lt.to:lt.from;({node:St,offset:vt}=domPosAtCoords(Et.dom,ct,ht))}let Tt=_e.docView.nearest(St);if(!Tt)return null;if(Tt.isWidget&&((rt=Tt.dom)===null||rt===void 0?void 0:rt.nodeType)==1){let Et=Tt.dom.getBoundingClientRect();return $.y<Et.top||$.y<=Et.bottom&&$.x<=(Et.left+Et.right)/2?Tt.posAtStart:Tt.posAtEnd}else return Tt.localPosFromDOM(St,vt)+Tt.posAtStart}function posAtCoordsImprecise(_e,$,et,tt,nt){let rt=Math.round((tt-$.left)*_e.defaultCharacterWidth);if(_e.lineWrapping&&et.height>_e.defaultLineHeight*1.5){let ot=_e.viewState.heightOracle.textHeight,lt=Math.floor((nt-et.top-(_e.defaultLineHeight-ot)*.5)/ot);rt+=lt*_e.viewState.heightOracle.lineLength}let it=_e.state.sliceDoc(et.from,et.to);return et.from+findColumn(it,rt,_e.state.tabSize)}function isSuspiciousSafariCaretResult(_e,$,et){let tt;if(_e.nodeType!=3||$!=(tt=_e.nodeValue.length))return!1;for(let nt=_e.nextSibling;nt;nt=nt.nextSibling)if(nt.nodeType!=1||nt.nodeName!="BR")return!1;return textRange(_e,tt-1,tt).getBoundingClientRect().left>et}function isSuspiciousChromeCaretResult(_e,$,et){if($!=0)return!1;for(let nt=_e;;){let rt=nt.parentNode;if(!rt||rt.nodeType!=1||rt.firstChild!=nt)return!1;if(rt.classList.contains("cm-line"))break;nt=rt}let tt=_e.nodeType==1?_e.getBoundingClientRect():textRange(_e,0,Math.max(_e.nodeValue.length,1)).getBoundingClientRect();return et-tt.left>5}function blockAt(_e,$){let et=_e.lineBlockAt($);if(Array.isArray(et.type)){for(let tt of et.type)if(tt.to>$||tt.to==$&&(tt.to==et.to||tt.type==BlockType.Text))return tt}return et}function moveToLineBoundary(_e,$,et,tt){let nt=blockAt(_e,$.head),rt=!tt||nt.type!=BlockType.Text||!(_e.lineWrapping||nt.widgetLineBreaks)?null:_e.coordsAtPos($.assoc<0&&$.head>nt.from?$.head-1:$.head);if(rt){let it=_e.dom.getBoundingClientRect(),ot=_e.textDirectionAt(nt.from),lt=_e.posAtCoords({x:et==(ot==Direction.LTR)?it.right-1:it.left+1,y:(rt.top+rt.bottom)/2});if(lt!=null)return EditorSelection.cursor(lt,et?-1:1)}return EditorSelection.cursor(et?nt.to:nt.from,et?-1:1)}function moveByChar(_e,$,et,tt){let nt=_e.state.doc.lineAt($.head),rt=_e.bidiSpans(nt),it=_e.textDirectionAt(nt.from);for(let ot=$,lt=null;;){let ut=moveVisually(nt,rt,it,ot,et),ct=movedOver;if(!ut){if(nt.number==(et?_e.state.doc.lines:1))return ot;ct=`
`,nt=_e.state.doc.line(nt.number+(et?1:-1)),rt=_e.bidiSpans(nt),ut=_e.visualLineSide(nt,!et)}if(lt){if(!lt(ct))return ot}else{if(!tt)return ut;lt=tt(ct)}ot=ut}}function byGroup(_e,$,et){let tt=_e.state.charCategorizer($),nt=tt(et);return rt=>{let it=tt(rt);return nt==CharCategory.Space&&(nt=it),nt==it}}function moveVertically(_e,$,et,tt){let nt=$.head,rt=et?1:-1;if(nt==(et?_e.state.doc.length:0))return EditorSelection.cursor(nt,$.assoc);let it=$.goalColumn,ot,lt=_e.contentDOM.getBoundingClientRect(),ut=_e.coordsAtPos(nt,$.assoc||-1),ct=_e.documentTop;if(ut)it==null&&(it=ut.left-lt.left),ot=rt<0?ut.top:ut.bottom;else{let mt=_e.viewState.lineBlockAt(nt);it==null&&(it=Math.min(lt.right-lt.left,_e.defaultCharacterWidth*(nt-mt.from))),ot=(rt<0?mt.top:mt.bottom)+ct}let ht=lt.left+it,dt=tt??_e.viewState.heightOracle.textHeight>>1;for(let mt=0;;mt+=10){let gt=ot+(dt+mt)*rt,Ot=posAtCoords(_e,{x:ht,y:gt},!1,rt);if(gt<lt.top||gt>lt.bottom||(rt<0?Ot<nt:Ot>nt)){let wt=_e.docView.coordsForChar(Ot),St=!wt||gt<wt.top?-1:1;return EditorSelection.cursor(Ot,St,void 0,it)}}}function skipAtomicRanges(_e,$,et){for(;;){let tt=0;for(let nt of _e)nt.between($-1,$+1,(rt,it,ot)=>{if($>rt&&$<it){let lt=tt||et||($-rt<it-$?-1:1);$=lt<0?rt:it,tt=lt}});if(!tt)return $}}function skipAtoms(_e,$,et){let tt=skipAtomicRanges(_e.state.facet(atomicRanges).map(nt=>nt(_e)),et.from,$.head>et.from?-1:1);return tt==et.from?et:EditorSelection.cursor(tt,tt<et.from?1:-1)}class InputState{setSelectionOrigin($){this.lastSelectionOrigin=$,this.lastSelectionTime=Date.now()}constructor($){this.view=$,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=$.hasFocus,browser.safari&&$.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack($.contentDOM.ownerDocument)}handleEvent($){!eventBelongsToEditor(this.view,$)||this.ignoreDuringComposition($)||$.type=="keydown"&&this.keydown($)||this.runHandlers($.type,$)}runHandlers($,et){let tt=this.handlers[$];if(tt){for(let nt of tt.observers)nt(this.view,et);for(let nt of tt.handlers){if(et.defaultPrevented)break;if(nt(this.view,et)){et.preventDefault();break}}}}ensureHandlers($){let et=computeHandlers($),tt=this.handlers,nt=this.view.contentDOM;for(let rt in et)if(rt!="scroll"){let it=!et[rt].handlers.length,ot=tt[rt];ot&&it!=!ot.handlers.length&&(nt.removeEventListener(rt,this.handleEvent),ot=null),ot||nt.addEventListener(rt,this.handleEvent,{passive:it})}for(let rt in tt)rt!="scroll"&&!et[rt]&&nt.removeEventListener(rt,this.handleEvent);this.handlers=et}keydown($){if(this.lastKeyCode=$.keyCode,this.lastKeyTime=Date.now(),$.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if($.keyCode!=27&&modifierCodes.indexOf($.keyCode)<0&&(this.view.inputState.lastEscPress=0),browser.android&&browser.chrome&&!$.synthetic&&($.keyCode==13||$.keyCode==8))return this.view.observer.delayAndroidKey($.key,$.keyCode),!0;let et;return browser.ios&&!$.synthetic&&!$.altKey&&!$.metaKey&&((et=PendingKeys.find(tt=>tt.keyCode==$.keyCode))&&!$.ctrlKey||EmacsyPendingKeys.indexOf($.key)>-1&&$.ctrlKey&&!$.shiftKey)?(this.pendingIOSKey=et||$,setTimeout(()=>this.flushIOSKey(),250),!0):($.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let $=this.pendingIOSKey;return $?(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,$.key,$.keyCode)):!1}ignoreDuringComposition($){return/^key/.test($.type)?this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection($){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=$}update($){this.mouseSelection&&this.mouseSelection.update($),this.draggedContent&&$.docChanged&&(this.draggedContent=this.draggedContent.map($.changes)),$.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(_e,$){return(et,tt)=>{try{return $.call(_e,tt,et)}catch(nt){logException(et.state,nt)}}}function computeHandlers(_e){let $=Object.create(null);function et(tt){return $[tt]||($[tt]={observers:[],handlers:[]})}for(let tt of _e){let nt=tt.spec;if(nt&&nt.domEventHandlers)for(let rt in nt.domEventHandlers){let it=nt.domEventHandlers[rt];it&&et(rt).handlers.push(bindHandler(tt.value,it))}if(nt&&nt.domEventObservers)for(let rt in nt.domEventObservers){let it=nt.domEventObservers[rt];it&&et(rt).observers.push(bindHandler(tt.value,it))}}for(let tt in handlers)et(tt).handlers.push(handlers[tt]);for(let tt in observers)et(tt).observers.push(observers[tt]);return $}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(_e){return Math.max(0,_e)*.7+8}function dist(_e,$){return Math.max(Math.abs(_e.clientX-$.clientX),Math.abs(_e.clientY-$.clientY))}class MouseSelection{constructor($,et,tt,nt){this.view=$,this.startEvent=et,this.style=tt,this.mustSelect=nt,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=et,this.scrollParent=scrollableParent($.contentDOM),this.atoms=$.state.facet(atomicRanges).map(it=>it($));let rt=$.contentDOM.ownerDocument;rt.addEventListener("mousemove",this.move=this.move.bind(this)),rt.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=et.shiftKey,this.multiple=$.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange($,et),this.dragging=isInPrimarySelection($,et)&&getClickType(et)==1?null:!1}start($){this.dragging===!1&&this.select($)}move($){var et;if($.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,$)<10)return;this.select(this.lastEvent=$);let tt=0,nt=0,rt=((et=this.scrollParent)===null||et===void 0?void 0:et.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},it=getScrollMargins(this.view);$.clientX-it.left<=rt.left+dragScrollMargin?tt=-dragScrollSpeed(rt.left-$.clientX):$.clientX+it.right>=rt.right-dragScrollMargin&&(tt=dragScrollSpeed($.clientX-rt.right)),$.clientY-it.top<=rt.top+dragScrollMargin?nt=-dragScrollSpeed(rt.top-$.clientY):$.clientY+it.bottom>=rt.bottom-dragScrollMargin&&(nt=dragScrollSpeed($.clientY-rt.bottom)),this.setScrollSpeed(tt,nt)}up($){this.dragging==null&&this.select(this.lastEvent),this.dragging||$.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let $=this.view.contentDOM.ownerDocument;$.removeEventListener("mousemove",this.move),$.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed($,et){this.scrollSpeed={x:$,y:et},$||et?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms($){let et=null;for(let tt=0;tt<$.ranges.length;tt++){let nt=$.ranges[tt],rt=null;if(nt.empty){let it=skipAtomicRanges(this.atoms,nt.from,0);it!=nt.from&&(rt=EditorSelection.cursor(it,-1))}else{let it=skipAtomicRanges(this.atoms,nt.from,-1),ot=skipAtomicRanges(this.atoms,nt.to,1);(it!=nt.from||ot!=nt.to)&&(rt=EditorSelection.range(nt.from==nt.anchor?it:ot,nt.from==nt.head?it:ot))}rt&&(et||(et=$.ranges.slice()),et[tt]=rt)}return et?EditorSelection.create(et,$.mainIndex):$}select($){let{view:et}=this,tt=this.skipAtoms(this.style.get($,this.extend,this.multiple));(this.mustSelect||!tt.eq(et.state.selection,this.dragging===!1))&&this.view.dispatch({selection:tt,userEvent:"select.pointer"}),this.mustSelect=!1}update($){this.style.update($)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(_e,$){let et=_e.state.facet(clickAddsSelectionRange);return et.length?et[0]($):browser.mac?$.metaKey:$.ctrlKey}function dragMovesSelection(_e,$){let et=_e.state.facet(dragMovesSelection$1);return et.length?et[0]($):browser.mac?!$.altKey:!$.ctrlKey}function isInPrimarySelection(_e,$){let{main:et}=_e.state.selection;if(et.empty)return!1;let tt=getSelection(_e.root);if(!tt||tt.rangeCount==0)return!0;let nt=tt.getRangeAt(0).getClientRects();for(let rt=0;rt<nt.length;rt++){let it=nt[rt];if(it.left<=$.clientX&&it.right>=$.clientX&&it.top<=$.clientY&&it.bottom>=$.clientY)return!0}return!1}function eventBelongsToEditor(_e,$){if(!$.bubbles)return!0;if($.defaultPrevented)return!1;for(let et=$.target,tt;et!=_e.contentDOM;et=et.parentNode)if(!et||et.nodeType==11||(tt=ContentView.get(et))&&tt.ignoreEvent($))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(_e){let $=_e.dom.parentNode;if(!$)return;let et=$.appendChild(document.createElement("textarea"));et.style.cssText="position: fixed; left: -10000px; top: 10px",et.focus(),setTimeout(()=>{_e.focus(),et.remove(),doPaste(_e,et.value)},50)}function doPaste(_e,$){let{state:et}=_e,tt,nt=1,rt=et.toText($),it=rt.lines==et.selection.ranges.length;if(lastLinewiseCopy!=null&&et.selection.ranges.every(lt=>lt.empty)&&lastLinewiseCopy==rt.toString()){let lt=-1;tt=et.changeByRange(ut=>{let ct=et.doc.lineAt(ut.from);if(ct.from==lt)return{range:ut};lt=ct.from;let ht=et.toText((it?rt.line(nt++).text:$)+et.lineBreak);return{changes:{from:ct.from,insert:ht},range:EditorSelection.cursor(ut.from+ht.length)}})}else it?tt=et.changeByRange(lt=>{let ut=rt.line(nt++);return{changes:{from:lt.from,to:lt.to,insert:ut.text},range:EditorSelection.cursor(lt.from+ut.length)}}):tt=et.replaceSelection(rt);_e.dispatch(tt,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=_e=>{_e.inputState.lastScrollTop=_e.scrollDOM.scrollTop,_e.inputState.lastScrollLeft=_e.scrollDOM.scrollLeft};handlers.keydown=(_e,$)=>(_e.inputState.setSelectionOrigin("select"),$.keyCode==27&&(_e.inputState.lastEscPress=Date.now()),!1);observers.touchstart=(_e,$)=>{_e.inputState.lastTouchTime=Date.now(),_e.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=_e=>{_e.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(_e,$)=>{if(_e.observer.flush(),_e.inputState.lastTouchTime>Date.now()-2e3)return!1;let et=null;for(let tt of _e.state.facet(mouseSelectionStyle))if(et=tt(_e,$),et)break;if(!et&&$.button==0&&(et=basicMouseSelection(_e,$)),et){let tt=!_e.hasFocus;_e.inputState.startMouseSelection(new MouseSelection(_e,$,et,tt)),tt&&_e.observer.ignore(()=>focusPreventScroll(_e.contentDOM));let nt=_e.inputState.mouseSelection;if(nt)return nt.start($),nt.dragging===!1}return!1};function rangeForClick(_e,$,et,tt){if(tt==1)return EditorSelection.cursor($,et);if(tt==2)return groupAt(_e.state,$,et);{let nt=LineView.find(_e.docView,$),rt=_e.state.doc.lineAt(nt?nt.posAtEnd:$),it=nt?nt.posAtStart:rt.from,ot=nt?nt.posAtEnd:rt.to;return ot<_e.state.doc.length&&ot==rt.to&&ot++,EditorSelection.range(it,ot)}}let insideY=(_e,$)=>_e>=$.top&&_e<=$.bottom,inside=(_e,$,et)=>insideY($,et)&&_e>=et.left&&_e<=et.right;function findPositionSide(_e,$,et,tt){let nt=LineView.find(_e.docView,$);if(!nt)return 1;let rt=$-nt.posAtStart;if(rt==0)return 1;if(rt==nt.length)return-1;let it=nt.coordsAt(rt,-1);if(it&&inside(et,tt,it))return-1;let ot=nt.coordsAt(rt,1);return ot&&inside(et,tt,ot)?1:it&&insideY(tt,it)?-1:1}function queryPos(_e,$){let et=_e.posAtCoords({x:$.clientX,y:$.clientY},!1);return{pos:et,bias:findPositionSide(_e,et,$.clientX,$.clientY)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(_e){if(!BadMouseDetail)return _e.detail;let $=lastMouseDown,et=lastMouseDownTime;return lastMouseDown=_e,lastMouseDownTime=Date.now(),lastMouseDownCount=!$||et>Date.now()-400&&Math.abs($.clientX-_e.clientX)<2&&Math.abs($.clientY-_e.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(_e,$){let et=queryPos(_e,$),tt=getClickType($),nt=_e.state.selection;return{update(rt){rt.docChanged&&(et.pos=rt.changes.mapPos(et.pos),nt=nt.map(rt.changes))},get(rt,it,ot){let lt=queryPos(_e,rt),ut,ct=rangeForClick(_e,lt.pos,lt.bias,tt);if(et.pos!=lt.pos&&!it){let ht=rangeForClick(_e,et.pos,et.bias,tt),dt=Math.min(ht.from,ct.from),mt=Math.max(ht.to,ct.to);ct=dt<ct.from?EditorSelection.range(dt,mt):EditorSelection.range(mt,dt)}return it?nt.replaceRange(nt.main.extend(ct.from,ct.to)):ot&&tt==1&&nt.ranges.length>1&&(ut=removeRangeAround(nt,lt.pos))?ut:ot?nt.addRange(ct):EditorSelection.create([ct])}}}function removeRangeAround(_e,$){for(let et=0;et<_e.ranges.length;et++){let{from:tt,to:nt}=_e.ranges[et];if(tt<=$&&nt>=$)return EditorSelection.create(_e.ranges.slice(0,et).concat(_e.ranges.slice(et+1)),_e.mainIndex==et?0:_e.mainIndex-(_e.mainIndex>et?1:0))}return null}handlers.dragstart=(_e,$)=>{let{selection:{main:et}}=_e.state;if($.target.draggable){let nt=_e.docView.nearest($.target);if(nt&&nt.isWidget){let rt=nt.posAtStart,it=rt+nt.length;(rt>=et.to||it<=et.from)&&(et=EditorSelection.range(rt,it))}}let{inputState:tt}=_e;return tt.mouseSelection&&(tt.mouseSelection.dragging=!0),tt.draggedContent=et,$.dataTransfer&&($.dataTransfer.setData("Text",_e.state.sliceDoc(et.from,et.to)),$.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=_e=>(_e.inputState.draggedContent=null,!1);function dropText(_e,$,et,tt){if(!et)return;let nt=_e.posAtCoords({x:$.clientX,y:$.clientY},!1),{draggedContent:rt}=_e.inputState,it=tt&&rt&&dragMovesSelection(_e,$)?{from:rt.from,to:rt.to}:null,ot={from:nt,insert:et},lt=_e.state.changes(it?[it,ot]:ot);_e.focus(),_e.dispatch({changes:lt,selection:{anchor:lt.mapPos(nt,-1),head:lt.mapPos(nt,1)},userEvent:it?"move.drop":"input.drop"}),_e.inputState.draggedContent=null}handlers.drop=(_e,$)=>{if(!$.dataTransfer)return!1;if(_e.state.readOnly)return!0;let et=$.dataTransfer.files;if(et&&et.length){let tt=Array(et.length),nt=0,rt=()=>{++nt==et.length&&dropText(_e,$,tt.filter(it=>it!=null).join(_e.state.lineBreak),!1)};for(let it=0;it<et.length;it++){let ot=new FileReader;ot.onerror=rt,ot.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(ot.result)||(tt[it]=ot.result),rt()},ot.readAsText(et[it])}return!0}else{let tt=$.dataTransfer.getData("Text");if(tt)return dropText(_e,$,tt,!0),!0}return!1};handlers.paste=(_e,$)=>{if(_e.state.readOnly)return!0;_e.observer.flush();let et=brokenClipboardAPI?null:$.clipboardData;return et?(doPaste(_e,et.getData("text/plain")||et.getData("text/uri-text")),!0):(capturePaste(_e),!1)};function captureCopy(_e,$){let et=_e.dom.parentNode;if(!et)return;let tt=et.appendChild(document.createElement("textarea"));tt.style.cssText="position: fixed; left: -10000px; top: 10px",tt.value=$,tt.focus(),tt.selectionEnd=$.length,tt.selectionStart=0,setTimeout(()=>{tt.remove(),_e.focus()},50)}function copiedRange(_e){let $=[],et=[],tt=!1;for(let nt of _e.selection.ranges)nt.empty||($.push(_e.sliceDoc(nt.from,nt.to)),et.push(nt));if(!$.length){let nt=-1;for(let{from:rt}of _e.selection.ranges){let it=_e.doc.lineAt(rt);it.number>nt&&($.push(it.text),et.push({from:it.from,to:Math.min(_e.doc.length,it.to+1)})),nt=it.number}tt=!0}return{text:$.join(_e.lineBreak),ranges:et,linewise:tt}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(_e,$)=>{let{text:et,ranges:tt,linewise:nt}=copiedRange(_e.state);if(!et&&!nt)return!1;lastLinewiseCopy=nt?et:null,$.type=="cut"&&!_e.state.readOnly&&_e.dispatch({changes:tt,scrollIntoView:!0,userEvent:"delete.cut"});let rt=brokenClipboardAPI?null:$.clipboardData;return rt?(rt.clearData(),rt.setData("text/plain",et),!0):(captureCopy(_e,et),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(_e,$){let et=[];for(let tt of _e.facet(focusChangeEffect)){let nt=tt(_e,$);nt&&et.push(nt)}return et?_e.update({effects:et,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(_e){setTimeout(()=>{let $=_e.hasFocus;if($!=_e.inputState.notifiedFocused){let et=focusChangeTransaction(_e.state,$);et?_e.dispatch(et):_e.update([])}},10)}observers.focus=_e=>{_e.inputState.lastFocusTime=Date.now(),!_e.scrollDOM.scrollTop&&(_e.inputState.lastScrollTop||_e.inputState.lastScrollLeft)&&(_e.scrollDOM.scrollTop=_e.inputState.lastScrollTop,_e.scrollDOM.scrollLeft=_e.inputState.lastScrollLeft),updateForFocusChange(_e)};observers.blur=_e=>{_e.observer.clearSelectionRange(),updateForFocusChange(_e)};observers.compositionstart=observers.compositionupdate=_e=>{_e.inputState.compositionFirstChange==null&&(_e.inputState.compositionFirstChange=!0),_e.inputState.composing<0&&(_e.inputState.composing=0,_e.docView.maybeCreateCompositionBarrier()&&(_e.update([]),_e.docView.clearCompositionBarrier()))};observers.compositionend=_e=>{_e.inputState.composing=-1,_e.inputState.compositionEndedAt=Date.now(),_e.inputState.compositionPendingKey=!0,_e.inputState.compositionPendingChange=_e.observer.pendingRecords().length>0,_e.inputState.compositionFirstChange=null,browser.chrome&&browser.android?_e.observer.flushSoon():_e.inputState.compositionPendingChange?Promise.resolve().then(()=>_e.observer.flush()):setTimeout(()=>{_e.inputState.composing<0&&_e.docView.hasComposition&&_e.update([])},50)};observers.contextmenu=_e=>{_e.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(_e,$)=>{var et;let tt;if(browser.chrome&&browser.android&&(tt=PendingKeys.find(nt=>nt.inputType==$.inputType))&&(_e.observer.delayAndroidKey(tt.key,tt.keyCode),tt.key=="Backspace"||tt.key=="Delete")){let nt=((et=window.visualViewport)===null||et===void 0?void 0:et.height)||0;setTimeout(()=>{var rt;(((rt=window.visualViewport)===null||rt===void 0?void 0:rt.height)||0)>nt+10&&_e.hasFocus&&(_e.contentDOM.blur(),_e.focus())},100)}return!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(_e){appliedFirefoxHack.has(_e)||(appliedFirefoxHack.add(_e),_e.addEventListener("copy",()=>{}),_e.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];class HeightOracle{constructor($){this.lineWrapping=$,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap($,et){let tt=this.doc.lineAt(et).number-this.doc.lineAt($).number+1;return this.lineWrapping&&(tt+=Math.max(0,Math.ceil((et-$-tt*this.lineLength*.5)/this.lineLength))),this.lineHeight*tt}heightForLine($){return this.lineWrapping?(1+Math.max(0,Math.ceil(($-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc($){return this.doc=$,this}mustRefreshForWrapping($){return wrappingWhiteSpace.indexOf($)>-1!=this.lineWrapping}mustRefreshForHeights($){let et=!1;for(let tt=0;tt<$.length;tt++){let nt=$[tt];nt<0?tt++:this.heightSamples[Math.floor(nt*10)]||(et=!0,this.heightSamples[Math.floor(nt*10)]=!0)}return et}refresh($,et,tt,nt,rt,it){let ot=wrappingWhiteSpace.indexOf($)>-1,lt=Math.round(et)!=Math.round(this.lineHeight)||this.lineWrapping!=ot;if(this.lineWrapping=ot,this.lineHeight=et,this.charWidth=tt,this.textHeight=nt,this.lineLength=rt,lt){this.heightSamples={};for(let ut=0;ut<it.length;ut++){let ct=it[ut];ct<0?ut++:this.heightSamples[Math.floor(ct*10)]=!0}}return lt}}class MeasuredHeights{constructor($,et){this.from=$,this.heights=et,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor($,et,tt,nt,rt){this.from=$,this.length=et,this.top=tt,this.height=nt,this._content=rt}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join($){let et=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray($._content)?$._content:[$]);return new BlockInfo(this.from,this.length+$.length,this.top,this.height+$.height,et)}}var QueryType=function(_e){return _e[_e.ByPos=0]="ByPos",_e[_e.ByHeight=1]="ByHeight",_e[_e.ByPosNoHeight=2]="ByPosNoHeight",_e}(QueryType||(QueryType={}));const Epsilon=.001;class HeightMap{constructor($,et,tt=2){this.length=$,this.height=et,this.flags=tt}get outdated(){return(this.flags&2)>0}set outdated($){this.flags=($?2:0)|this.flags&-3}setHeight($,et){this.height!=et&&(Math.abs(this.height-et)>Epsilon&&($.heightChanged=!0),this.height=et)}replace($,et,tt){return HeightMap.of(tt)}decomposeLeft($,et){et.push(this)}decomposeRight($,et){et.push(this)}applyChanges($,et,tt,nt){let rt=this,it=tt.doc;for(let ot=nt.length-1;ot>=0;ot--){let{fromA:lt,toA:ut,fromB:ct,toB:ht}=nt[ot],dt=rt.lineAt(lt,QueryType.ByPosNoHeight,tt.setDoc(et),0,0),mt=dt.to>=ut?dt:rt.lineAt(ut,QueryType.ByPosNoHeight,tt,0,0);for(ht+=mt.to-ut,ut=mt.to;ot>0&&dt.from<=nt[ot-1].toA;)lt=nt[ot-1].fromA,ct=nt[ot-1].fromB,ot--,lt<dt.from&&(dt=rt.lineAt(lt,QueryType.ByPosNoHeight,tt,0,0));ct+=dt.from-lt,lt=dt.from;let gt=NodeBuilder.build(tt.setDoc(it),$,ct,ht);rt=rt.replace(lt,ut,gt)}return rt.updateHeight(tt,0)}static empty(){return new HeightMapText(0,0)}static of($){if($.length==1)return $[0];let et=0,tt=$.length,nt=0,rt=0;for(;;)if(et==tt)if(nt>rt*2){let ot=$[et-1];ot.break?$.splice(--et,1,ot.left,null,ot.right):$.splice(--et,1,ot.left,ot.right),tt+=1+ot.break,nt-=ot.size}else if(rt>nt*2){let ot=$[tt];ot.break?$.splice(tt,1,ot.left,null,ot.right):$.splice(tt,1,ot.left,ot.right),tt+=2+ot.break,rt-=ot.size}else break;else if(nt<rt){let ot=$[et++];ot&&(nt+=ot.size)}else{let ot=$[--tt];ot&&(rt+=ot.size)}let it=0;return $[et-1]==null?(it=1,et--):$[et]==null&&(it=1,tt++),new HeightMapBranch(HeightMap.of($.slice(0,et)),it,HeightMap.of($.slice(tt)))}}HeightMap.prototype.size=1;class HeightMapBlock extends HeightMap{constructor($,et,tt){super($,et),this.deco=tt}blockAt($,et,tt,nt){return new BlockInfo(nt,this.length,tt,this.height,this.deco||0)}lineAt($,et,tt,nt,rt){return this.blockAt(0,tt,nt,rt)}forEachLine($,et,tt,nt,rt,it){$<=rt+this.length&&et>=rt&&it(this.blockAt(0,tt,nt,rt))}updateHeight($,et=0,tt=!1,nt){return nt&&nt.from<=et&&nt.more&&this.setHeight($,nt.heights[nt.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor($,et){super($,et,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt($,et,tt,nt){return new BlockInfo(nt,this.length,tt,this.height,this.breaks)}replace($,et,tt){let nt=tt[0];return tt.length==1&&(nt instanceof HeightMapText||nt instanceof HeightMapGap&&nt.flags&4)&&Math.abs(this.length-nt.length)<10?(nt instanceof HeightMapGap?nt=new HeightMapText(nt.length,this.height):nt.height=this.height,this.outdated||(nt.outdated=!1),nt):HeightMap.of(tt)}updateHeight($,et=0,tt=!1,nt){return nt&&nt.from<=et&&nt.more?this.setHeight($,nt.heights[nt.index++]):(tt||this.outdated)&&this.setHeight($,Math.max(this.widgetHeight,$.heightForLine(this.length-this.collapsed))+this.breaks*$.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor($){super($,0)}heightMetrics($,et){let tt=$.doc.lineAt(et).number,nt=$.doc.lineAt(et+this.length).number,rt=nt-tt+1,it,ot=0;if($.lineWrapping){let lt=Math.min(this.height,$.lineHeight*rt);it=lt/rt,this.length>rt+1&&(ot=(this.height-lt)/(this.length-rt-1))}else it=this.height/rt;return{firstLine:tt,lastLine:nt,perLine:it,perChar:ot}}blockAt($,et,tt,nt){let{firstLine:rt,lastLine:it,perLine:ot,perChar:lt}=this.heightMetrics(et,nt);if(et.lineWrapping){let ut=nt+Math.round(Math.max(0,Math.min(1,($-tt)/this.height))*this.length),ct=et.doc.lineAt(ut),ht=ot+ct.length*lt,dt=Math.max(tt,$-ht/2);return new BlockInfo(ct.from,ct.length,dt,ht,0)}else{let ut=Math.max(0,Math.min(it-rt,Math.floor(($-tt)/ot))),{from:ct,length:ht}=et.doc.line(rt+ut);return new BlockInfo(ct,ht,tt+ot*ut,ot,0)}}lineAt($,et,tt,nt,rt){if(et==QueryType.ByHeight)return this.blockAt($,tt,nt,rt);if(et==QueryType.ByPosNoHeight){let{from:mt,to:gt}=tt.doc.lineAt($);return new BlockInfo(mt,gt-mt,0,0,0)}let{firstLine:it,perLine:ot,perChar:lt}=this.heightMetrics(tt,rt),ut=tt.doc.lineAt($),ct=ot+ut.length*lt,ht=ut.number-it,dt=nt+ot*ht+lt*(ut.from-rt-ht);return new BlockInfo(ut.from,ut.length,Math.max(nt,Math.min(dt,nt+this.height-ct)),ct,0)}forEachLine($,et,tt,nt,rt,it){$=Math.max($,rt),et=Math.min(et,rt+this.length);let{firstLine:ot,perLine:lt,perChar:ut}=this.heightMetrics(tt,rt);for(let ct=$,ht=nt;ct<=et;){let dt=tt.doc.lineAt(ct);if(ct==$){let gt=dt.number-ot;ht+=lt*gt+ut*($-rt-gt)}let mt=lt+ut*dt.length;it(new BlockInfo(dt.from,dt.length,ht,mt,0)),ht+=mt,ct=dt.to+1}}replace($,et,tt){let nt=this.length-et;if(nt>0){let rt=tt[tt.length-1];rt instanceof HeightMapGap?tt[tt.length-1]=new HeightMapGap(rt.length+nt):tt.push(null,new HeightMapGap(nt-1))}if($>0){let rt=tt[0];rt instanceof HeightMapGap?tt[0]=new HeightMapGap($+rt.length):tt.unshift(new HeightMapGap($-1),null)}return HeightMap.of(tt)}decomposeLeft($,et){et.push(new HeightMapGap($-1),null)}decomposeRight($,et){et.push(null,new HeightMapGap(this.length-$-1))}updateHeight($,et=0,tt=!1,nt){let rt=et+this.length;if(nt&&nt.from<=et+this.length&&nt.more){let it=[],ot=Math.max(et,nt.from),lt=-1;for(nt.from>et&&it.push(new HeightMapGap(nt.from-et-1).updateHeight($,et));ot<=rt&&nt.more;){let ct=$.doc.lineAt(ot).length;it.length&&it.push(null);let ht=nt.heights[nt.index++];lt==-1?lt=ht:Math.abs(ht-lt)>=Epsilon&&(lt=-2);let dt=new HeightMapText(ct,ht);dt.outdated=!1,it.push(dt),ot+=ct+1}ot<=rt&&it.push(null,new HeightMapGap(rt-ot).updateHeight($,ot));let ut=HeightMap.of(it);return(lt<0||Math.abs(ut.height-this.height)>=Epsilon||Math.abs(lt-this.heightMetrics($,et).perLine)>=Epsilon)&&($.heightChanged=!0),ut}else(tt||this.outdated)&&(this.setHeight($,$.heightForGap(et,et+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor($,et,tt){super($.length+et+tt.length,$.height+tt.height,et|($.outdated||tt.outdated?2:0)),this.left=$,this.right=tt,this.size=$.size+tt.size}get break(){return this.flags&1}blockAt($,et,tt,nt){let rt=tt+this.left.height;return $<rt?this.left.blockAt($,et,tt,nt):this.right.blockAt($,et,rt,nt+this.left.length+this.break)}lineAt($,et,tt,nt,rt){let it=nt+this.left.height,ot=rt+this.left.length+this.break,lt=et==QueryType.ByHeight?$<it:$<ot,ut=lt?this.left.lineAt($,et,tt,nt,rt):this.right.lineAt($,et,tt,it,ot);if(this.break||(lt?ut.to<ot:ut.from>ot))return ut;let ct=et==QueryType.ByPosNoHeight?QueryType.ByPosNoHeight:QueryType.ByPos;return lt?ut.join(this.right.lineAt(ot,ct,tt,it,ot)):this.left.lineAt(ot,ct,tt,nt,rt).join(ut)}forEachLine($,et,tt,nt,rt,it){let ot=nt+this.left.height,lt=rt+this.left.length+this.break;if(this.break)$<lt&&this.left.forEachLine($,et,tt,nt,rt,it),et>=lt&&this.right.forEachLine($,et,tt,ot,lt,it);else{let ut=this.lineAt(lt,QueryType.ByPos,tt,nt,rt);$<ut.from&&this.left.forEachLine($,ut.from-1,tt,nt,rt,it),ut.to>=$&&ut.from<=et&&it(ut),et>ut.to&&this.right.forEachLine(ut.to+1,et,tt,ot,lt,it)}}replace($,et,tt){let nt=this.left.length+this.break;if(et<nt)return this.balanced(this.left.replace($,et,tt),this.right);if($>this.left.length)return this.balanced(this.left,this.right.replace($-nt,et-nt,tt));let rt=[];$>0&&this.decomposeLeft($,rt);let it=rt.length;for(let ot of tt)rt.push(ot);if($>0&&mergeGaps(rt,it-1),et<this.length){let ot=rt.length;this.decomposeRight(et,rt),mergeGaps(rt,ot)}return HeightMap.of(rt)}decomposeLeft($,et){let tt=this.left.length;if($<=tt)return this.left.decomposeLeft($,et);et.push(this.left),this.break&&(tt++,$>=tt&&et.push(null)),$>tt&&this.right.decomposeLeft($-tt,et)}decomposeRight($,et){let tt=this.left.length,nt=tt+this.break;if($>=nt)return this.right.decomposeRight($-nt,et);$<tt&&this.left.decomposeRight($,et),this.break&&$<nt&&et.push(null),et.push(this.right)}balanced($,et){return $.size>2*et.size||et.size>2*$.size?HeightMap.of(this.break?[$,null,et]:[$,et]):(this.left=$,this.right=et,this.height=$.height+et.height,this.outdated=$.outdated||et.outdated,this.size=$.size+et.size,this.length=$.length+this.break+et.length,this)}updateHeight($,et=0,tt=!1,nt){let{left:rt,right:it}=this,ot=et+rt.length+this.break,lt=null;return nt&&nt.from<=et+rt.length&&nt.more?lt=rt=rt.updateHeight($,et,tt,nt):rt.updateHeight($,et,tt),nt&&nt.from<=ot+it.length&&nt.more?lt=it=it.updateHeight($,ot,tt,nt):it.updateHeight($,ot,tt),lt?this.balanced(rt,it):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(_e,$){let et,tt;_e[$]==null&&(et=_e[$-1])instanceof HeightMapGap&&(tt=_e[$+1])instanceof HeightMapGap&&_e.splice($-1,3,new HeightMapGap(et.length+1+tt.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor($,et){this.pos=$,this.oracle=et,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=$}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span($,et){if(this.lineStart>-1){let tt=Math.min(et,this.lineEnd),nt=this.nodes[this.nodes.length-1];nt instanceof HeightMapText?nt.length+=tt-this.pos:(tt>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(tt-this.pos,-1)),this.writtenTo=tt,et>tt&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=et}point($,et,tt){if($<et||tt.heightRelevant){let nt=tt.widget?tt.widget.estimatedHeight:0,rt=tt.widget?tt.widget.lineBreaks:0;nt<0&&(nt=this.oracle.lineHeight);let it=et-$;tt.block?this.addBlock(new HeightMapBlock(it,nt,tt)):(it||rt||nt>=relevantWidgetHeight)&&this.addLineDeco(nt,rt,it)}else et>$&&this.span($,et);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:$,to:et}=this.oracle.doc.lineAt(this.pos);this.lineStart=$,this.lineEnd=et,this.writtenTo<$&&((this.writtenTo<$-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,$-1)),this.nodes.push(null)),this.pos>$&&this.nodes.push(new HeightMapText(this.pos-$,-1)),this.writtenTo=this.pos}blankContent($,et){let tt=new HeightMapGap(et-$);return this.oracle.doc.lineAt($).to==et&&(tt.flags|=4),tt}ensureLine(){this.enterLine();let $=this.nodes.length?this.nodes[this.nodes.length-1]:null;if($ instanceof HeightMapText)return $;let et=new HeightMapText(0,-1);return this.nodes.push(et),et}addBlock($){this.enterLine();let et=$.deco;et&&et.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push($),this.writtenTo=this.pos=this.pos+$.length,et&&et.endSide>0&&(this.covering=$)}addLineDeco($,et,tt){let nt=this.ensureLine();nt.length+=tt,nt.collapsed+=tt,nt.widgetHeight=Math.max(nt.widgetHeight,$),nt.breaks+=et,this.writtenTo=this.pos=this.pos+tt}finish($){let et=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(et instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1)):(this.writtenTo<this.pos||et==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let tt=$;for(let nt of this.nodes)nt instanceof HeightMapText&&nt.updateHeight(this.oracle,tt),tt+=nt?nt.length:1;return this.nodes}static build($,et,tt,nt){let rt=new NodeBuilder(tt,$);return RangeSet.spans(et,tt,nt,rt,0),rt.finish(tt)}}function heightRelevantDecoChanges(_e,$,et){let tt=new DecorationComparator;return RangeSet.compare(_e,$,et,tt,0),tt.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint($,et,tt,nt){($<et||tt&&tt.heightRelevant||nt&&nt.heightRelevant)&&addRange($,et,this.changes,5)}}function visiblePixelRange(_e,$){let et=_e.getBoundingClientRect(),tt=_e.ownerDocument,nt=tt.defaultView||window,rt=Math.max(0,et.left),it=Math.min(nt.innerWidth,et.right),ot=Math.max(0,et.top),lt=Math.min(nt.innerHeight,et.bottom);for(let ut=_e.parentNode;ut&&ut!=tt.body;)if(ut.nodeType==1){let ct=ut,ht=window.getComputedStyle(ct);if((ct.scrollHeight>ct.clientHeight||ct.scrollWidth>ct.clientWidth)&&ht.overflow!="visible"){let dt=ct.getBoundingClientRect();rt=Math.max(rt,dt.left),it=Math.min(it,dt.right),ot=Math.max(ot,dt.top),lt=ut==_e.parentNode?dt.bottom:Math.min(lt,dt.bottom)}ut=ht.position=="absolute"||ht.position=="fixed"?ct.offsetParent:ct.parentNode}else if(ut.nodeType==11)ut=ut.host;else break;return{left:rt-et.left,right:Math.max(rt,it)-et.left,top:ot-(et.top+$),bottom:Math.max(ot,lt)-(et.top+$)}}function fullPixelRange(_e,$){let et=_e.getBoundingClientRect();return{left:0,right:et.right-et.left,top:$,bottom:et.bottom-(et.top+$)}}class LineGap{constructor($,et,tt){this.from=$,this.to=et,this.size=tt}static same($,et){if($.length!=et.length)return!1;for(let tt=0;tt<$.length;tt++){let nt=$[tt],rt=et[tt];if(nt.from!=rt.from||nt.to!=rt.to||nt.size!=rt.size)return!1}return!0}draw($,et){return Decoration.replace({widget:new LineGapWidget(this.size*(et?$.scaleY:$.scaleX),et)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor($,et){super(),this.size=$,this.vertical=et}eq($){return $.size==this.size&&$.vertical==this.vertical}toDOM(){let $=document.createElement("div");return this.vertical?$.style.height=this.size+"px":($.style.width=this.size+"px",$.style.height="2px",$.style.display="inline-block"),$}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor($){this.state=$,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let et=$.facet(contentAttributes).some(tt=>typeof tt!="function"&&tt.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(et),this.stateDeco=$.facet(decorations).filter(tt=>typeof tt!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc($.doc),[new ChangedRange(0,0,0,$.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(tt=>tt.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let $=[this.viewport],{main:et}=this.state.selection;for(let tt=0;tt<=1;tt++){let nt=tt?et.head:et.anchor;if(!$.some(({from:rt,to:it})=>nt>=rt&&nt<=it)){let{from:rt,to:it}=this.lineBlockAt(nt);$.push(new Viewport(rt,it))}}this.viewports=$.sort((tt,nt)=>tt.from-nt.from),this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,$=>{this.viewportLines.push(this.scaler.scale==1?$:scaleBlock($,this.scaler))})}update($,et=null){this.state=$.state;let tt=this.stateDeco;this.stateDeco=this.state.facet(decorations).filter(ct=>typeof ct!="function");let nt=$.changedRanges,rt=ChangedRange.extendWithRanges(nt,heightRelevantDecoChanges(tt,this.stateDeco,$?$.changes:ChangeSet.empty(this.state.doc.length))),it=this.heightMap.height,ot=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,$.startState.doc,this.heightOracle.setDoc(this.state.doc),rt),this.heightMap.height!=it&&($.flags|=2),ot?(this.scrollAnchorPos=$.changes.mapPos(ot.from,-1),this.scrollAnchorHeight=ot.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let lt=rt.length?this.mapViewport(this.viewport,$.changes):this.viewport;(et&&(et.range.head<lt.from||et.range.head>lt.to)||!this.viewportIsAppropriate(lt))&&(lt=this.getViewport(0,et));let ut=!$.changes.empty||$.flags&2||lt.from!=this.viewport.from||lt.to!=this.viewport.to;this.viewport=lt,this.updateForViewport(),ut&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,$.changes))),$.flags|=this.computeVisibleRanges(),et&&(this.scrollTarget=et),!this.mustEnforceCursorAssoc&&$.selectionSet&&$.view.lineWrapping&&$.state.selection.main.empty&&$.state.selection.main.assoc&&!$.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure($){let et=$.contentDOM,tt=window.getComputedStyle(et),nt=this.heightOracle,rt=tt.whiteSpace;this.defaultTextDirection=tt.direction=="rtl"?Direction.RTL:Direction.LTR;let it=this.heightOracle.mustRefreshForWrapping(rt),ot=et.getBoundingClientRect(),lt=it||this.mustMeasureContent||this.contentDOMHeight!=ot.height;this.contentDOMHeight=ot.height,this.mustMeasureContent=!1;let ut=0,ct=0;if(ot.width&&ot.height){let{scaleX:Et,scaleY:Pt}=getScale(et,ot);(this.scaleX!=Et||this.scaleY!=Pt)&&(this.scaleX=Et,this.scaleY=Pt,ut|=8,it=lt=!0)}let ht=(parseInt(tt.paddingTop)||0)*this.scaleY,dt=(parseInt(tt.paddingBottom)||0)*this.scaleY;(this.paddingTop!=ht||this.paddingBottom!=dt)&&(this.paddingTop=ht,this.paddingBottom=dt,ut|=10),this.editorWidth!=$.scrollDOM.clientWidth&&(nt.lineWrapping&&(lt=!0),this.editorWidth=$.scrollDOM.clientWidth,ut|=8);let mt=$.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=mt&&(this.scrollAnchorHeight=-1,this.scrollTop=mt),this.scrolledToBottom=isScrolledToBottom($.scrollDOM);let gt=(this.printing?fullPixelRange:visiblePixelRange)(et,this.paddingTop),Ot=gt.top-this.pixelViewport.top,wt=gt.bottom-this.pixelViewport.bottom;this.pixelViewport=gt;let St=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(St!=this.inView&&(this.inView=St,St&&(lt=!0)),!this.inView&&!this.scrollTarget)return 0;let vt=ot.width;if((this.contentDOMWidth!=vt||this.editorHeight!=$.scrollDOM.clientHeight)&&(this.contentDOMWidth=ot.width,this.editorHeight=$.scrollDOM.clientHeight,ut|=8),lt){let Et=$.docView.measureVisibleLineHeights(this.viewport);if(nt.mustRefreshForHeights(Et)&&(it=!0),it||nt.lineWrapping&&Math.abs(vt-this.contentDOMWidth)>nt.charWidth){let{lineHeight:Pt,charWidth:Mt,textHeight:Rt}=$.docView.measureTextSize();it=Pt>0&&nt.refresh(rt,Pt,Mt,Rt,vt/Mt,Et),it&&($.docView.minWidth=0,ut|=8)}Ot>0&&wt>0?ct=Math.max(Ot,wt):Ot<0&&wt<0&&(ct=Math.min(Ot,wt)),nt.heightChanged=!1;for(let Pt of this.viewports){let Mt=Pt.from==this.viewport.from?Et:$.docView.measureVisibleLineHeights(Pt);this.heightMap=(it?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,$.state.doc.length)]):this.heightMap).updateHeight(nt,0,it,new MeasuredHeights(Pt.from,Mt))}nt.heightChanged&&(ut|=2)}let Tt=!this.viewportIsAppropriate(this.viewport,ct)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return Tt&&(this.viewport=this.getViewport(ct,this.scrollTarget)),this.updateForViewport(),(ut&2||Tt)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(it?[]:this.lineGaps,$)),ut|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,$.docView.enforceCursorAssoc()),ut}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport($,et){let tt=.5-Math.max(-.5,Math.min(.5,$/1e3/2)),nt=this.heightMap,rt=this.heightOracle,{visibleTop:it,visibleBottom:ot}=this,lt=new Viewport(nt.lineAt(it-tt*1e3,QueryType.ByHeight,rt,0,0).from,nt.lineAt(ot+(1-tt)*1e3,QueryType.ByHeight,rt,0,0).to);if(et){let{head:ut}=et.range;if(ut<lt.from||ut>lt.to){let ct=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),ht=nt.lineAt(ut,QueryType.ByPos,rt,0,0),dt;et.y=="center"?dt=(ht.top+ht.bottom)/2-ct/2:et.y=="start"||et.y=="nearest"&&ut<lt.from?dt=ht.top:dt=ht.bottom-ct,lt=new Viewport(nt.lineAt(dt-1e3/2,QueryType.ByHeight,rt,0,0).from,nt.lineAt(dt+ct+1e3/2,QueryType.ByHeight,rt,0,0).to)}}return lt}mapViewport($,et){let tt=et.mapPos($.from,-1),nt=et.mapPos($.to,1);return new Viewport(this.heightMap.lineAt(tt,QueryType.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(nt,QueryType.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:$,to:et},tt=0){if(!this.inView)return!0;let{top:nt}=this.heightMap.lineAt($,QueryType.ByPos,this.heightOracle,0,0),{bottom:rt}=this.heightMap.lineAt(et,QueryType.ByPos,this.heightOracle,0,0),{visibleTop:it,visibleBottom:ot}=this;return($==0||nt<=it-Math.max(10,Math.min(-tt,250)))&&(et==this.state.doc.length||rt>=ot+Math.max(10,Math.min(tt,250)))&&nt>it-2*1e3&&rt<ot+2*1e3}mapLineGaps($,et){if(!$.length||et.empty)return $;let tt=[];for(let nt of $)et.touchesRange(nt.from,nt.to)||tt.push(new LineGap(et.mapPos(nt.from),et.mapPos(nt.to),nt.size));return tt}ensureLineGaps($,et){let tt=this.heightOracle.lineWrapping,nt=tt?1e4:2e3,rt=nt>>1,it=nt<<1;if(this.defaultTextDirection!=Direction.LTR&&!tt)return[];let ot=[],lt=(ut,ct,ht,dt)=>{if(ct-ut<rt)return;let mt=this.state.selection.main,gt=[mt.from];mt.empty||gt.push(mt.to);for(let wt of gt)if(wt>ut&&wt<ct){lt(ut,wt-10,ht,dt),lt(wt+10,ct,ht,dt);return}let Ot=find($,wt=>wt.from>=ht.from&&wt.to<=ht.to&&Math.abs(wt.from-ut)<rt&&Math.abs(wt.to-ct)<rt&&!gt.some(St=>wt.from<St&&wt.to>St));if(!Ot){if(ct<ht.to&&et&&tt&&et.visibleRanges.some(wt=>wt.from<=ct&&wt.to>=ct)){let wt=et.moveToLineBoundary(EditorSelection.cursor(ct),!1,!0).head;wt>ut&&(ct=wt)}Ot=new LineGap(ut,ct,this.gapSize(ht,ut,ct,dt))}ot.push(Ot)};for(let ut of this.viewportLines){if(ut.length<it)continue;let ct=lineStructure(ut.from,ut.to,this.stateDeco);if(ct.total<it)continue;let ht=this.scrollTarget?this.scrollTarget.range.head:null,dt,mt;if(tt){let gt=nt/this.heightOracle.lineLength*this.heightOracle.lineHeight,Ot,wt;if(ht!=null){let St=findFraction(ct,ht),vt=((this.visibleBottom-this.visibleTop)/2+gt)/ut.height;Ot=St-vt,wt=St+vt}else Ot=(this.visibleTop-ut.top-gt)/ut.height,wt=(this.visibleBottom-ut.top+gt)/ut.height;dt=findPosition(ct,Ot),mt=findPosition(ct,wt)}else{let gt=ct.total*this.heightOracle.charWidth,Ot=nt*this.heightOracle.charWidth,wt,St;if(ht!=null){let vt=findFraction(ct,ht),Tt=((this.pixelViewport.right-this.pixelViewport.left)/2+Ot)/gt;wt=vt-Tt,St=vt+Tt}else wt=(this.pixelViewport.left-Ot)/gt,St=(this.pixelViewport.right+Ot)/gt;dt=findPosition(ct,wt),mt=findPosition(ct,St)}dt>ut.from&&lt(ut.from,dt,ut,ct),mt<ut.to&&lt(mt,ut.to,ut,ct)}return ot}gapSize($,et,tt,nt){let rt=findFraction(nt,tt)-findFraction(nt,et);return this.heightOracle.lineWrapping?$.height*rt:nt.total*this.heightOracle.charWidth*rt}updateLineGaps($){LineGap.same($,this.lineGaps)||(this.lineGaps=$,this.lineGapDeco=Decoration.set($.map(et=>et.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let $=this.stateDeco;this.lineGaps.length&&($=$.concat(this.lineGapDeco));let et=[];RangeSet.spans($,this.viewport.from,this.viewport.to,{span(nt,rt){et.push({from:nt,to:rt})},point(){}},20);let tt=et.length!=this.visibleRanges.length||this.visibleRanges.some((nt,rt)=>nt.from!=et[rt].from||nt.to!=et[rt].to);return this.visibleRanges=et,tt?4:0}lineBlockAt($){return $>=this.viewport.from&&$<=this.viewport.to&&this.viewportLines.find(et=>et.from<=$&&et.to>=$)||scaleBlock(this.heightMap.lineAt($,QueryType.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight($){return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM($),QueryType.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt($){let et=this.lineBlockAtHeight($+8);return et.from>=this.viewport.from||this.viewportLines[0].top-$>200?et:this.viewportLines[0]}elementAtHeight($){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM($),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor($,et){this.from=$,this.to=et}}function lineStructure(_e,$,et){let tt=[],nt=_e,rt=0;return RangeSet.spans(et,_e,$,{span(){},point(it,ot){it>nt&&(tt.push({from:nt,to:it}),rt+=it-nt),nt=ot}},20),nt<$&&(tt.push({from:nt,to:$}),rt+=$-nt),{total:rt,ranges:tt}}function findPosition({total:_e,ranges:$},et){if(et<=0)return $[0].from;if(et>=1)return $[$.length-1].to;let tt=Math.floor(_e*et);for(let nt=0;;nt++){let{from:rt,to:it}=$[nt],ot=it-rt;if(tt<=ot)return rt+tt;tt-=ot}}function findFraction(_e,$){let et=0;for(let{from:tt,to:nt}of _e.ranges){if($<=nt){et+=$-tt;break}et+=nt-tt}return et/_e.total}function find(_e,$){for(let et of _e)if($(et))return et}const IdScaler={toDOM(_e){return _e},fromDOM(_e){return _e},scale:1};class BigScaler{constructor($,et,tt){let nt=0,rt=0,it=0;this.viewports=tt.map(({from:ot,to:lt})=>{let ut=et.lineAt(ot,QueryType.ByPos,$,0,0).top,ct=et.lineAt(lt,QueryType.ByPos,$,0,0).bottom;return nt+=ct-ut,{from:ot,to:lt,top:ut,bottom:ct,domTop:0,domBottom:0}}),this.scale=(7e6-nt)/(et.height-nt);for(let ot of this.viewports)ot.domTop=it+(ot.top-rt)*this.scale,it=ot.domBottom=ot.domTop+(ot.bottom-ot.top),rt=ot.bottom}toDOM($){for(let et=0,tt=0,nt=0;;et++){let rt=et<this.viewports.length?this.viewports[et]:null;if(!rt||$<rt.top)return nt+($-tt)*this.scale;if($<=rt.bottom)return rt.domTop+($-rt.top);tt=rt.bottom,nt=rt.domBottom}}fromDOM($){for(let et=0,tt=0,nt=0;;et++){let rt=et<this.viewports.length?this.viewports[et]:null;if(!rt||$<rt.domTop)return tt+($-nt)/this.scale;if($<=rt.domBottom)return rt.top+($-rt.domTop);tt=rt.bottom,nt=rt.domBottom}}}function scaleBlock(_e,$){if($.scale==1)return _e;let et=$.toDOM(_e.top),tt=$.toDOM(_e.bottom);return new BlockInfo(_e.from,_e.length,et,tt-et,Array.isArray(_e._content)?_e._content.map(nt=>scaleBlock(nt,$)):_e._content)}const theme=Facet.define({combine:_e=>_e.join(" ")}),darkTheme=Facet.define({combine:_e=>_e.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(_e,$,et){return new StyleModule($,{finish(tt){return/&/.test(tt)?tt.replace(/&\w*/,nt=>{if(nt=="&")return _e;if(!et||!et[nt])throw new RangeError(`Unsupported selector: ${nt}`);return et[nt]}):_e+" "+tt}})}const baseTheme$1=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),LineBreakPlaceholder="￿";class DOMReader{constructor($,et){this.points=$,this.text="",this.lineSeparator=et.facet(EditorState.lineSeparator)}append($){this.text+=$}lineBreak(){this.text+=LineBreakPlaceholder}readRange($,et){if(!$)return this;let tt=$.parentNode;for(let nt=$;;){this.findPointBefore(tt,nt);let rt=this.text.length;this.readNode(nt);let it=nt.nextSibling;if(it==et)break;let ot=ContentView.get(nt),lt=ContentView.get(it);(ot&&lt?ot.breakAfter:(ot?ot.breakAfter:isBlockElement(nt))||isBlockElement(it)&&(nt.nodeName!="BR"||nt.cmIgnore)&&this.text.length>rt)&&this.lineBreak(),nt=it}return this.findPointBefore(tt,et),this}readTextNode($){let et=$.nodeValue;for(let tt of this.points)tt.node==$&&(tt.pos=this.text.length+Math.min(tt.offset,et.length));for(let tt=0,nt=this.lineSeparator?null:/\r\n?|\n/g;;){let rt=-1,it=1,ot;if(this.lineSeparator?(rt=et.indexOf(this.lineSeparator,tt),it=this.lineSeparator.length):(ot=nt.exec(et))&&(rt=ot.index,it=ot[0].length),this.append(et.slice(tt,rt<0?et.length:rt)),rt<0)break;if(this.lineBreak(),it>1)for(let lt of this.points)lt.node==$&&lt.pos>this.text.length&&(lt.pos-=it-1);tt=rt+it}}readNode($){if($.cmIgnore)return;let et=ContentView.get($),tt=et&&et.overrideDOMText;if(tt!=null){this.findPointInside($,tt.length);for(let nt=tt.iter();!nt.next().done;)nt.lineBreak?this.lineBreak():this.append(nt.value)}else $.nodeType==3?this.readTextNode($):$.nodeName=="BR"?$.nextSibling&&this.lineBreak():$.nodeType==1&&this.readRange($.firstChild,null)}findPointBefore($,et){for(let tt of this.points)tt.node==$&&$.childNodes[tt.offset]==et&&(tt.pos=this.text.length)}findPointInside($,et){for(let tt of this.points)($.nodeType==3?tt.node==$:$.contains(tt.node))&&(tt.pos=this.text.length+(isAtEnd($,tt.node,tt.offset)?et:0))}}function isAtEnd(_e,$,et){for(;;){if(!$||et<maxOffset($))return!1;if($==_e)return!0;et=domIndex($)+1,$=$.parentNode}}function isBlockElement(_e){return _e.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(_e.nodeName)}class DOMPoint{constructor($,et){this.node=$,this.offset=et,this.pos=-1}}class DOMChange{constructor($,et,tt,nt){this.typeOver=nt,this.bounds=null,this.text="";let{impreciseHead:rt,impreciseAnchor:it}=$.docView;if($.state.readOnly&&et>-1)this.newSel=null;else if(et>-1&&(this.bounds=$.docView.domBoundsAround(et,tt,0))){let ot=rt||it?[]:selectionPoints($),lt=new DOMReader(ot,$.state);lt.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=lt.text,this.newSel=selectionFromPoints(ot,this.bounds.from)}else{let ot=$.observer.selectionRange,lt=rt&&rt.node==ot.focusNode&&rt.offset==ot.focusOffset||!contains($.contentDOM,ot.focusNode)?$.state.selection.main.head:$.docView.posFromDOM(ot.focusNode,ot.focusOffset),ut=it&&it.node==ot.anchorNode&&it.offset==ot.anchorOffset||!contains($.contentDOM,ot.anchorNode)?$.state.selection.main.anchor:$.docView.posFromDOM(ot.anchorNode,ot.anchorOffset),ct=$.viewport;if((browser.ios||browser.chrome)&&$.state.selection.main.empty&&lt!=ut&&(ct.from>0||ct.to<$.state.doc.length)){let ht=Math.min(lt,ut),dt=Math.max(lt,ut),mt=ct.from-ht,gt=ct.to-dt;(mt==0||mt==1||ht==0)&&(gt==0||gt==-1||dt==$.state.doc.length)&&(lt=0,ut=$.state.doc.length)}this.newSel=EditorSelection.single(ut,lt)}}}function applyDOMChange(_e,$){let et,{newSel:tt}=$,nt=_e.state.selection.main,rt=_e.inputState.lastKeyTime>Date.now()-100?_e.inputState.lastKeyCode:-1;if($.bounds){let{from:it,to:ot}=$.bounds,lt=nt.from,ut=null;(rt===8||browser.android&&$.text.length<ot-it)&&(lt=nt.to,ut="end");let ct=findDiff(_e.state.doc.sliceString(it,ot,LineBreakPlaceholder),$.text,lt-it,ut);ct&&(browser.chrome&&rt==13&&ct.toB==ct.from+2&&$.text.slice(ct.from,ct.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&ct.toB--,et={from:it+ct.from,to:it+ct.toA,insert:Text.of($.text.slice(ct.from,ct.toB).split(LineBreakPlaceholder))})}else tt&&(!_e.hasFocus&&_e.state.facet(editable)||tt.main.eq(nt))&&(tt=null);if(!et&&!tt)return!1;if(!et&&$.typeOver&&!nt.empty&&tt&&tt.main.empty?et={from:nt.from,to:nt.to,insert:_e.state.doc.slice(nt.from,nt.to)}:et&&et.from>=nt.from&&et.to<=nt.to&&(et.from!=nt.from||et.to!=nt.to)&&nt.to-nt.from-(et.to-et.from)<=4?et={from:nt.from,to:nt.to,insert:_e.state.doc.slice(nt.from,et.from).append(et.insert).append(_e.state.doc.slice(et.to,nt.to))}:(browser.mac||browser.android)&&et&&et.from==et.to&&et.from==nt.head-1&&/^\. ?$/.test(et.insert.toString())&&_e.contentDOM.getAttribute("autocorrect")=="off"?(tt&&et.insert.length==2&&(tt=EditorSelection.single(tt.main.anchor-1,tt.main.head-1)),et={from:nt.from,to:nt.to,insert:Text.of([" "])}):browser.chrome&&et&&et.from==et.to&&et.from==nt.head&&et.insert.toString()==`
 `&&_e.lineWrapping&&(tt&&(tt=EditorSelection.single(tt.main.anchor-1,tt.main.head-1)),et={from:nt.from,to:nt.to,insert:Text.of([" "])}),et){if(browser.ios&&_e.inputState.flushIOSKey()||browser.android&&(et.to==nt.to&&(et.from==nt.from||et.from==nt.from-1&&_e.state.sliceDoc(et.from,nt.from)==" ")&&et.insert.length==1&&et.insert.lines==2&&dispatchKey(_e.contentDOM,"Enter",13)||(et.from==nt.from-1&&et.to==nt.to&&et.insert.length==0||rt==8&&et.insert.length<et.to-et.from&&et.to>nt.head)&&dispatchKey(_e.contentDOM,"Backspace",8)||et.from==nt.from&&et.to==nt.to+1&&et.insert.length==0&&dispatchKey(_e.contentDOM,"Delete",46)))return!0;let it=et.insert.toString();_e.inputState.composing>=0&&_e.inputState.composing++;let ot,lt=()=>ot||(ot=applyDefaultInsert(_e,et,tt));return _e.state.facet(inputHandler).some(ut=>ut(_e,et.from,et.to,it,lt))||_e.dispatch(lt()),!0}else if(tt&&!tt.main.eq(nt)){let it=!1,ot="select";return _e.inputState.lastSelectionTime>Date.now()-50&&(_e.inputState.lastSelectionOrigin=="select"&&(it=!0),ot=_e.inputState.lastSelectionOrigin),_e.dispatch({selection:tt,scrollIntoView:it,userEvent:ot}),!0}else return!1}function applyDefaultInsert(_e,$,et){let tt,nt=_e.state,rt=nt.selection.main;if($.from>=rt.from&&$.to<=rt.to&&$.to-$.from>=(rt.to-rt.from)/3&&(!et||et.main.empty&&et.main.from==$.from+$.insert.length)&&_e.inputState.composing<0){let ot=rt.from<$.from?nt.sliceDoc(rt.from,$.from):"",lt=rt.to>$.to?nt.sliceDoc($.to,rt.to):"";tt=nt.replaceSelection(_e.state.toText(ot+$.insert.sliceString(0,void 0,_e.state.lineBreak)+lt))}else{let ot=nt.changes($),lt=et&&et.main.to<=ot.newLength?et.main:void 0;if(nt.selection.ranges.length>1&&_e.inputState.composing>=0&&$.to<=rt.to&&$.to>=rt.to-10){let ut=_e.state.sliceDoc($.from,$.to),ct,ht=et&&findCompositionNode(_e,et.main.head);if(ht){let gt=$.insert.length-($.to-$.from);ct={from:ht.from,to:ht.to-gt}}else ct=_e.state.doc.lineAt(rt.head);let dt=rt.to-$.to,mt=rt.to-rt.from;tt=nt.changeByRange(gt=>{if(gt.from==rt.from&&gt.to==rt.to)return{changes:ot,range:lt||gt.map(ot)};let Ot=gt.to-dt,wt=Ot-ut.length;if(gt.to-gt.from!=mt||_e.state.sliceDoc(wt,Ot)!=ut||gt.to>=ct.from&&gt.from<=ct.to)return{range:gt};let St=nt.changes({from:wt,to:Ot,insert:$.insert}),vt=gt.to-rt.to;return{changes:St,range:lt?EditorSelection.range(Math.max(0,lt.anchor+vt),Math.max(0,lt.head+vt)):gt.map(St)}})}else tt={changes:ot,selection:lt&&nt.selection.replaceRange(lt)}}let it="input.type";return(_e.composing||_e.inputState.compositionPendingChange&&_e.inputState.compositionEndedAt>Date.now()-50)&&(_e.inputState.compositionPendingChange=!1,it+=".compose",_e.inputState.compositionFirstChange&&(it+=".start",_e.inputState.compositionFirstChange=!1)),nt.update(tt,{userEvent:it,scrollIntoView:!0})}function findDiff(_e,$,et,tt){let nt=Math.min(_e.length,$.length),rt=0;for(;rt<nt&&_e.charCodeAt(rt)==$.charCodeAt(rt);)rt++;if(rt==nt&&_e.length==$.length)return null;let it=_e.length,ot=$.length;for(;it>0&&ot>0&&_e.charCodeAt(it-1)==$.charCodeAt(ot-1);)it--,ot--;if(tt=="end"){let lt=Math.max(0,rt-Math.min(it,ot));et-=it+lt-rt}if(it<rt&&_e.length<$.length){let lt=et<=rt&&et>=it?rt-et:0;rt-=lt,ot=rt+(ot-it),it=rt}else if(ot<rt){let lt=et<=rt&&et>=ot?rt-et:0;rt-=lt,it=rt+(it-ot),ot=rt}return{from:rt,toA:it,toB:ot}}function selectionPoints(_e){let $=[];if(_e.root.activeElement!=_e.contentDOM)return $;let{anchorNode:et,anchorOffset:tt,focusNode:nt,focusOffset:rt}=_e.observer.selectionRange;return et&&($.push(new DOMPoint(et,tt)),(nt!=et||rt!=tt)&&$.push(new DOMPoint(nt,rt))),$}function selectionFromPoints(_e,$){if(_e.length==0)return null;let et=_e[0].pos,tt=_e.length==2?_e[1].pos:et;return et>-1&&tt>-1?EditorSelection.single(et+$,tt+$):null}const observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor($){this.view=$,this.active=!1,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=$.contentDOM,this.observer=new MutationObserver(et=>{for(let tt of et)this.queue.push(tt);(browser.ie&&browser.ie_version<=11||browser.ios&&$.composing)&&et.some(tt=>tt.type=="childList"&&tt.removedNodes.length||tt.type=="characterData"&&tt.oldValue.length>tt.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=et=>{this.queue.push({target:et.target,type:"characterData",oldValue:et.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var et;((et=this.view.docView)===null||et===void 0?void 0:et.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe($.scrollDOM)),this.addWindowListeners(this.win=$.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(et=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),et.length>0&&et[et.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(et=>{et.length>0&&et[et.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged($){this.view.inputState.runHandlers("scroll",$),this.intersecting&&this.view.measure()}onScroll($){this.intersecting&&this.flush(!1),this.onScrollChanged($)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps($){if(this.gapIntersection&&($.length!=this.gaps.length||this.gaps.some((et,tt)=>et!=$[tt]))){this.gapIntersection.disconnect();for(let et of $)this.gapIntersection.observe(et);this.gaps=$}}onSelectionChange($){let et=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:tt}=this,nt=this.selectionRange;if(tt.state.facet(editable)?tt.root.activeElement!=this.dom:!hasSelection(tt.dom,nt))return;let rt=nt.anchorNode&&tt.docView.nearest(nt.anchorNode);if(rt&&rt.ignoreEvent($)){et||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!tt.state.selection.main.empty&&nt.focusNode&&isEquivalentPosition(nt.focusNode,nt.focusOffset,nt.anchorNode,nt.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:$}=this,et=browser.safari&&$.root.nodeType==11&&deepActiveElement(this.dom.ownerDocument)==this.dom&&safariSelectionRangeHack(this.view)||getSelection($.root);if(!et||this.selectionRange.eq(et))return!1;let tt=hasSelection(this.dom,et);return tt&&!this.selectionChanged&&$.inputState.lastFocusTime>Date.now()-200&&$.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,et)?(this.view.inputState.lastFocusTime=0,$.docView.updateSelection(),!1):(this.selectionRange.setRange(et),tt&&(this.selectionChanged=!0),!0)}setSelectionRange($,et){this.selectionRange.set($.node,$.offset,et.node,et.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let $=0,et=null;for(let tt=this.dom;tt;)if(tt.nodeType==1)!et&&$<this.scrollTargets.length&&this.scrollTargets[$]==tt?$++:et||(et=this.scrollTargets.slice(0,$)),et&&et.push(tt),tt=tt.assignedSlot||tt.parentNode;else if(tt.nodeType==11)tt=tt.host;else break;if($<this.scrollTargets.length&&!et&&(et=this.scrollTargets.slice(0,$)),et){for(let tt of this.scrollTargets)tt.removeEventListener("scroll",this.onScroll);for(let tt of this.scrollTargets=et)tt.addEventListener("scroll",this.onScroll)}}ignore($){if(!this.active)return $();try{return this.stop(),$()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey($,et){var tt;if(!this.delayedAndroidKey){let nt=()=>{let rt=this.delayedAndroidKey;rt&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=rt.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&rt.force&&dispatchKey(this.dom,rt.key,rt.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(nt)}(!this.delayedAndroidKey||$=="Enter")&&(this.delayedAndroidKey={key:$,keyCode:et,force:this.lastChange<Date.now()-50||!!(!((tt=this.delayedAndroidKey)===null||tt===void 0)&&tt.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let $ of this.observer.takeRecords())this.queue.push($);return this.queue}processRecords(){let $=this.pendingRecords();$.length&&(this.queue=[]);let et=-1,tt=-1,nt=!1;for(let rt of $){let it=this.readMutation(rt);it&&(it.typeOver&&(nt=!0),et==-1?{from:et,to:tt}=it:(et=Math.min(it.from,et),tt=Math.max(it.to,tt)))}return{from:et,to:tt,typeOver:nt}}readChange(){let{from:$,to:et,typeOver:tt}=this.processRecords(),nt=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if($<0&&!nt)return null;$>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let rt=new DOMChange(this.view,$,et,tt);return this.view.docView.domChanged={newSel:rt.newSel?rt.newSel.main:null},rt}flush($=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;$&&this.readSelectionRange();let et=this.readChange();if(!et)return this.view.requestMeasure(),!1;let tt=this.view.state,nt=applyDOMChange(this.view,et);return this.view.state==tt&&this.view.update([]),nt}readMutation($){let et=this.view.docView.nearest($.target);if(!et||et.ignoreMutation($))return null;if(et.markDirty($.type=="attributes"),$.type=="attributes"&&(et.flags|=4),$.type=="childList"){let tt=findChild(et,$.previousSibling||$.target.previousSibling,-1),nt=findChild(et,$.nextSibling||$.target.nextSibling,1);return{from:tt?et.posAfter(tt):et.posAtStart,to:nt?et.posBefore(nt):et.posAtEnd,typeOver:!1}}else return $.type=="characterData"?{from:et.posAtStart,to:et.posAtEnd,typeOver:$.target.nodeValue==$.oldValue}:null}setWindow($){$!=this.win&&(this.removeWindowListeners(this.win),this.win=$,this.addWindowListeners(this.win))}addWindowListeners($){$.addEventListener("resize",this.onResize),$.addEventListener("beforeprint",this.onPrint),$.addEventListener("scroll",this.onScroll),$.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners($){$.removeEventListener("scroll",this.onScroll),$.removeEventListener("resize",this.onResize),$.removeEventListener("beforeprint",this.onPrint),$.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var $,et,tt;this.stop(),($=this.intersection)===null||$===void 0||$.disconnect(),(et=this.gapIntersection)===null||et===void 0||et.disconnect(),(tt=this.resizeScroll)===null||tt===void 0||tt.disconnect();for(let nt of this.scrollTargets)nt.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function findChild(_e,$,et){for(;$;){let tt=ContentView.get($);if(tt&&tt.parent==_e)return tt;let nt=$.parentNode;$=nt!=_e.dom?nt:et>0?$.nextSibling:$.previousSibling}return null}function safariSelectionRangeHack(_e){let $=null;function et(lt){lt.preventDefault(),lt.stopImmediatePropagation(),$=lt.getTargetRanges()[0]}if(_e.contentDOM.addEventListener("beforeinput",et,!0),_e.dom.ownerDocument.execCommand("indent"),_e.contentDOM.removeEventListener("beforeinput",et,!0),!$)return null;let tt=$.startContainer,nt=$.startOffset,rt=$.endContainer,it=$.endOffset,ot=_e.docView.domAtPos(_e.state.selection.main.anchor);return isEquivalentPosition(ot.node,ot.offset,rt,it)&&([tt,nt,rt,it]=[rt,it,tt,nt]),{anchorNode:tt,anchorOffset:nt,focusNode:rt,focusOffset:it}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor($={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),$.parent&&$.parent.appendChild(this.dom);let{dispatch:et}=$;this.dispatchTransactions=$.dispatchTransactions||et&&(tt=>tt.forEach(nt=>et(nt,this)))||(tt=>this.update(tt)),this.dispatch=this.dispatch.bind(this),this._root=$.root||getRoot($.parent)||document,this.viewState=new ViewState($.state||EditorState.create($)),$.scrollTo&&$.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=$.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(tt=>new PluginInstance(tt));for(let tt of this.plugins)tt.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...$){let et=$.length==1&&$[0]instanceof Transaction?$:$.length==1&&Array.isArray($[0])?$[0]:[this.state.update(...$)];this.dispatchTransactions(et,this)}update($){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let et=!1,tt=!1,nt,rt=this.state;for(let dt of $){if(dt.startState!=rt)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");rt=dt.state}if(this.destroyed){this.viewState.state=rt;return}let it=this.hasFocus,ot=0,lt=null;$.some(dt=>dt.annotation(isFocusChange))?(this.inputState.notifiedFocused=it,ot=1):it!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=it,lt=focusChangeTransaction(rt,it),lt||(ot=1));let ut=this.observer.delayedAndroidKey,ct=null;if(ut?(this.observer.clearDelayedAndroidKey(),ct=this.observer.readChange(),(ct&&!this.state.doc.eq(rt.doc)||!this.state.selection.eq(rt.selection))&&(ct=null)):this.observer.clear(),rt.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(rt);nt=ViewUpdate.create(this,rt,$),nt.flags|=ot;let ht=this.viewState.scrollTarget;try{this.updateState=2;for(let dt of $){if(ht&&(ht=ht.map(dt.changes)),dt.scrollIntoView){let{main:mt}=dt.state.selection;ht=new ScrollTarget(mt.empty?mt:EditorSelection.cursor(mt.head,mt.head>mt.anchor?-1:1))}for(let mt of dt.effects)mt.is(scrollIntoView$1)&&(ht=mt.value.clip(this.state))}this.viewState.update(nt,ht),this.bidiCache=CachedOrder.update(this.bidiCache,nt.changes),nt.empty||(this.updatePlugins(nt),this.inputState.update(nt)),et=this.docView.update(nt),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),tt=this.updateAttrs(),this.showAnnouncements($),this.docView.updateSelection(et,$.some(dt=>dt.isUserEvent("select.pointer")))}finally{this.updateState=0}if(nt.startState.facet(theme)!=nt.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(et||tt||ht||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),et&&this.docViewUpdate(),!nt.empty)for(let dt of this.state.facet(updateListener))try{dt(nt)}catch(mt){logException(this.state,mt,"update listener")}(lt||ct)&&Promise.resolve().then(()=>{lt&&this.state==lt.startState&&this.dispatch(lt),ct&&!applyDOMChange(this,ct)&&ut.force&&dispatchKey(this.contentDOM,ut.key,ut.keyCode)})}setState($){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=$;return}this.updateState=2;let et=this.hasFocus;try{for(let tt of this.plugins)tt.destroy(this);this.viewState=new ViewState($),this.plugins=$.facet(viewPlugin).map(tt=>new PluginInstance(tt)),this.pluginMap.clear();for(let tt of this.plugins)tt.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}et&&this.focus(),this.requestMeasure()}updatePlugins($){let et=$.startState.facet(viewPlugin),tt=$.state.facet(viewPlugin);if(et!=tt){let nt=[];for(let rt of tt){let it=et.indexOf(rt);if(it<0)nt.push(new PluginInstance(rt));else{let ot=this.plugins[it];ot.mustUpdate=$,nt.push(ot)}}for(let rt of this.plugins)rt.mustUpdate!=$&&rt.destroy(this);this.plugins=nt,this.pluginMap.clear()}else for(let nt of this.plugins)nt.mustUpdate=$;for(let nt=0;nt<this.plugins.length;nt++)this.plugins[nt].update(this);et!=tt&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let $ of this.plugins){let et=$.value;if(et&&et.docViewUpdate)try{et.docViewUpdate(this)}catch(tt){logException(this.state,tt,"doc view update listener")}}}measure($=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,$&&this.observer.forceFlush();let et=null,tt=this.scrollDOM,nt=tt.scrollTop*this.scaleY,{scrollAnchorPos:rt,scrollAnchorHeight:it}=this.viewState;Math.abs(nt-this.viewState.scrollTop)>1&&(it=-1),this.viewState.scrollAnchorHeight=-1;try{for(let ot=0;;ot++){if(it<0)if(isScrolledToBottom(tt))rt=-1,it=this.viewState.heightMap.height;else{let mt=this.viewState.scrollAnchorAt(nt);rt=mt.from,it=mt.top}this.updateState=1;let lt=this.viewState.measure(this);if(!lt&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(ot>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let ut=[];lt&4||([this.measureRequests,ut]=[ut,this.measureRequests]);let ct=ut.map(mt=>{try{return mt.read(this)}catch(gt){return logException(this.state,gt),BadMeasure}}),ht=ViewUpdate.create(this,this.state,[]),dt=!1;ht.flags|=lt,et?et.flags|=lt:et=ht,this.updateState=2,ht.empty||(this.updatePlugins(ht),this.inputState.update(ht),this.updateAttrs(),dt=this.docView.update(ht),dt&&this.docViewUpdate());for(let mt=0;mt<ut.length;mt++)if(ct[mt]!=BadMeasure)try{let gt=ut[mt];gt.write&&gt.write(ct[mt],this)}catch(gt){logException(this.state,gt)}if(dt&&this.docView.updateSelection(!0),!ht.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,it=-1;continue}else{let gt=(rt<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(rt).top)-it;if(gt>1||gt<-1){nt=nt+gt,tt.scrollTop=nt/this.scaleY,it=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(et&&!et.empty)for(let ot of this.state.facet(updateListener))ot(et)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let $=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),et={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(et["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,et);let tt=this.observer.ignore(()=>{let nt=updateAttrs(this.contentDOM,this.contentAttrs,et),rt=updateAttrs(this.dom,this.editorAttrs,$);return nt||rt});return this.editorAttrs=$,this.contentAttrs=et,tt}showAnnouncements($){let et=!0;for(let tt of $)for(let nt of tt.effects)if(nt.is(EditorView.announce)){et&&(this.announceDOM.textContent=""),et=!1;let rt=this.announceDOM.appendChild(document.createElement("div"));rt.textContent=nt.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let $=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1).reverse(),$?{nonce:$}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure($){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),$){if(this.measureRequests.indexOf($)>-1)return;if($.key!=null){for(let et=0;et<this.measureRequests.length;et++)if(this.measureRequests[et].key===$.key){this.measureRequests[et]=$;return}}this.measureRequests.push($)}}plugin($){let et=this.pluginMap.get($);return(et===void 0||et&&et.spec!=$)&&this.pluginMap.set($,et=this.plugins.find(tt=>tt.spec==$)||null),et&&et.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight($){return this.readMeasured(),this.viewState.elementAtHeight($)}lineBlockAtHeight($){return this.readMeasured(),this.viewState.lineBlockAtHeight($)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt($){return this.viewState.lineBlockAt($)}get contentHeight(){return this.viewState.contentHeight}moveByChar($,et,tt){return skipAtoms(this,$,moveByChar(this,$,et,tt))}moveByGroup($,et){return skipAtoms(this,$,moveByChar(this,$,et,tt=>byGroup(this,$.head,tt)))}visualLineSide($,et){let tt=this.bidiSpans($),nt=this.textDirectionAt($.from),rt=tt[et?tt.length-1:0];return EditorSelection.cursor(rt.side(et,nt)+$.from,rt.forward(!et,nt)?1:-1)}moveToLineBoundary($,et,tt=!0){return moveToLineBoundary(this,$,et,tt)}moveVertically($,et,tt){return skipAtoms(this,$,moveVertically(this,$,et,tt))}domAtPos($){return this.docView.domAtPos($)}posAtDOM($,et=0){return this.docView.posFromDOM($,et)}posAtCoords($,et=!0){return this.readMeasured(),posAtCoords(this,$,et)}coordsAtPos($,et=1){this.readMeasured();let tt=this.docView.coordsAt($,et);if(!tt||tt.left==tt.right)return tt;let nt=this.state.doc.lineAt($),rt=this.bidiSpans(nt),it=rt[BidiSpan.find(rt,$-nt.from,-1,et)];return flattenRect(tt,it.dir==Direction.LTR==et>0)}coordsForChar($){return this.readMeasured(),this.docView.coordsForChar($)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt($){return!this.state.facet(perLineTextDirection)||$<this.viewport.from||$>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt($))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans($){if($.length>MaxBidiLine)return trivialOrder($.length);let et=this.textDirectionAt($.from),tt;for(let rt of this.bidiCache)if(rt.from==$.from&&rt.dir==et&&(rt.fresh||isolatesEq(rt.isolates,tt=getIsolatedRanges(this,$))))return rt.order;tt||(tt=getIsolatedRanges(this,$));let nt=computeOrder($.text,et,tt);return this.bidiCache.push(new CachedOrder($.from,$.to,et,tt,!0,nt)),nt}get hasFocus(){var $;return(this.dom.ownerDocument.hasFocus()||browser.safari&&(($=this.inputState)===null||$===void 0?void 0:$.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot($){this._root!=$&&(this._root=$,this.observer.setWindow(($.nodeType==9?$:$.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let $ of this.plugins)$.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView($,et={}){return scrollIntoView$1.of(new ScrollTarget(typeof $=="number"?EditorSelection.cursor($):$,et.y,et.x,et.yMargin,et.xMargin))}scrollSnapshot(){let{scrollTop:$,scrollLeft:et}=this.scrollDOM,tt=this.viewState.scrollAnchorAt($);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(tt.from),"start","start",tt.top-$,et,!0))}static domEventHandlers($){return ViewPlugin.define(()=>({}),{eventHandlers:$})}static domEventObservers($){return ViewPlugin.define(()=>({}),{eventObservers:$})}static theme($,et){let tt=StyleModule.newName(),nt=[theme.of(tt),styleModule.of(buildTheme(`.${tt}`,$))];return et&&et.dark&&nt.push(darkTheme.of(!0)),nt}static baseTheme($){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,$,lightDarkIDs)))}static findFromDOM($){var et;let tt=$.querySelector(".cm-content"),nt=tt&&ContentView.get(tt)||ContentView.get($);return((et=nt?.rootView)===null||et===void 0?void 0:et.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:_e=>_e.length?_e[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor($,et,tt,nt,rt,it){this.from=$,this.to=et,this.dir=tt,this.isolates=nt,this.fresh=rt,this.order=it}static update($,et){if(et.empty&&!$.some(rt=>rt.fresh))return $;let tt=[],nt=$.length?$[$.length-1].dir:Direction.LTR;for(let rt=Math.max(0,$.length-10);rt<$.length;rt++){let it=$[rt];it.dir==nt&&!et.touchesRange(it.from,it.to)&&tt.push(new CachedOrder(et.mapPos(it.from,1),et.mapPos(it.to,-1),it.dir,it.isolates,!1,it.order))}return tt}}function attrsFromFacet(_e,$,et){for(let tt=_e.state.facet($),nt=tt.length-1;nt>=0;nt--){let rt=tt[nt],it=typeof rt=="function"?rt(_e):rt;it&&combineAttrs(it,et)}return et}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(_e,$){const et=_e.split(/-(?!$)/);let tt=et[et.length-1];tt=="Space"&&(tt=" ");let nt,rt,it,ot;for(let lt=0;lt<et.length-1;++lt){const ut=et[lt];if(/^(cmd|meta|m)$/i.test(ut))ot=!0;else if(/^a(lt)?$/i.test(ut))nt=!0;else if(/^(c|ctrl|control)$/i.test(ut))rt=!0;else if(/^s(hift)?$/i.test(ut))it=!0;else if(/^mod$/i.test(ut))$=="mac"?ot=!0:rt=!0;else throw new Error("Unrecognized modifier name: "+ut)}return nt&&(tt="Alt-"+tt),rt&&(tt="Ctrl-"+tt),ot&&(tt="Meta-"+tt),it&&(tt="Shift-"+tt),tt}function modifiers(_e,$,et){return $.altKey&&(_e="Alt-"+_e),$.ctrlKey&&(_e="Ctrl-"+_e),$.metaKey&&(_e="Meta-"+_e),et!==!1&&$.shiftKey&&(_e="Shift-"+_e),_e}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(_e,$){return runHandlers(getKeymap($.state),_e,$,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(_e){let $=_e.facet(keymap),et=Keymaps.get($);return et||Keymaps.set($,et=buildKeymap($.reduce((tt,nt)=>tt.concat(nt),[]))),et}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(_e,$=currentPlatform){let et=Object.create(null),tt=Object.create(null),nt=(it,ot)=>{let lt=tt[it];if(lt==null)tt[it]=ot;else if(lt!=ot)throw new Error("Key binding "+it+" is used both as a regular binding and as a multi-stroke prefix")},rt=(it,ot,lt,ut,ct)=>{var ht,dt;let mt=et[it]||(et[it]=Object.create(null)),gt=ot.split(/ (?!$)/).map(St=>normalizeKeyName(St,$));for(let St=1;St<gt.length;St++){let vt=gt.slice(0,St).join(" ");nt(vt,!0),mt[vt]||(mt[vt]={preventDefault:!0,stopPropagation:!1,run:[Tt=>{let Et=storedPrefix={view:Tt,prefix:vt,scope:it};return setTimeout(()=>{storedPrefix==Et&&(storedPrefix=null)},PrefixTimeout),!0}]})}let Ot=gt.join(" ");nt(Ot,!1);let wt=mt[Ot]||(mt[Ot]={preventDefault:!1,stopPropagation:!1,run:((dt=(ht=mt._any)===null||ht===void 0?void 0:ht.run)===null||dt===void 0?void 0:dt.slice())||[]});lt&&wt.run.push(lt),ut&&(wt.preventDefault=!0),ct&&(wt.stopPropagation=!0)};for(let it of _e){let ot=it.scope?it.scope.split(" "):["editor"];if(it.any)for(let ut of ot){let ct=et[ut]||(et[ut]=Object.create(null));ct._any||(ct._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let ht in ct)ct[ht].run.push(it.any)}let lt=it[$]||it.key;if(lt)for(let ut of ot)rt(ut,lt,it.run,it.preventDefault,it.stopPropagation),it.shift&&rt(ut,"Shift-"+lt,it.shift,it.preventDefault,it.stopPropagation)}return et}function runHandlers(_e,$,et,tt){let nt=keyName($),rt=codePointAt(nt,0),it=codePointSize(rt)==nt.length&&nt!=" ",ot="",lt=!1,ut=!1,ct=!1;storedPrefix&&storedPrefix.view==et&&storedPrefix.scope==tt&&(ot=storedPrefix.prefix+" ",modifierCodes.indexOf($.keyCode)<0&&(ut=!0,storedPrefix=null));let ht=new Set,dt=wt=>{if(wt){for(let St of wt.run)if(!ht.has(St)&&(ht.add(St),St(et,$)))return wt.stopPropagation&&(ct=!0),!0;wt.preventDefault&&(wt.stopPropagation&&(ct=!0),ut=!0)}return!1},mt=_e[tt],gt,Ot;return mt&&(dt(mt[ot+modifiers(nt,$,!it)])?lt=!0:it&&($.altKey||$.metaKey||$.ctrlKey)&&!(browser.windows&&$.ctrlKey&&$.altKey)&&(gt=base[$.keyCode])&&gt!=nt?(dt(mt[ot+modifiers(gt,$,!0)])||$.shiftKey&&(Ot=shift[$.keyCode])!=nt&&Ot!=gt&&dt(mt[ot+modifiers(Ot,$,!1)]))&&(lt=!0):it&&$.shiftKey&&dt(mt[ot+modifiers(nt,$,!0)])&&(lt=!0),!lt&&dt(mt._any)&&(lt=!0)),ut&&(lt=!0),lt&&ct&&$.stopPropagation(),lt}class RectangleMarker{constructor($,et,tt,nt,rt){this.className=$,this.left=et,this.top=tt,this.width=nt,this.height=rt}draw(){let $=document.createElement("div");return $.className=this.className,this.adjust($),$}update($,et){return et.className!=this.className?!1:(this.adjust($),!0)}adjust($){$.style.left=this.left+"px",$.style.top=this.top+"px",this.width!=null&&($.style.width=this.width+"px"),$.style.height=this.height+"px"}eq($){return this.left==$.left&&this.top==$.top&&this.width==$.width&&this.height==$.height&&this.className==$.className}static forRange($,et,tt){if(tt.empty){let nt=$.coordsAtPos(tt.head,tt.assoc||1);if(!nt)return[];let rt=getBase($);return[new RectangleMarker(et,nt.left-rt.left,nt.top-rt.top,null,nt.bottom-nt.top)]}else return rectanglesForRange($,et,tt)}}function getBase(_e){let $=_e.scrollDOM.getBoundingClientRect();return{left:(_e.textDirection==Direction.LTR?$.left:$.right-_e.scrollDOM.clientWidth*_e.scaleX)-_e.scrollDOM.scrollLeft*_e.scaleX,top:$.top-_e.scrollDOM.scrollTop*_e.scaleY}}function wrappedLine(_e,$,et){let tt=EditorSelection.cursor($);return{from:Math.max(et.from,_e.moveToLineBoundary(tt,!1,!0).from),to:Math.min(et.to,_e.moveToLineBoundary(tt,!0,!0).from),type:BlockType.Text}}function rectanglesForRange(_e,$,et){if(et.to<=_e.viewport.from||et.from>=_e.viewport.to)return[];let tt=Math.max(et.from,_e.viewport.from),nt=Math.min(et.to,_e.viewport.to),rt=_e.textDirection==Direction.LTR,it=_e.contentDOM,ot=it.getBoundingClientRect(),lt=getBase(_e),ut=it.querySelector(".cm-line"),ct=ut&&window.getComputedStyle(ut),ht=ot.left+(ct?parseInt(ct.paddingLeft)+Math.min(0,parseInt(ct.textIndent)):0),dt=ot.right-(ct?parseInt(ct.paddingRight):0),mt=blockAt(_e,tt),gt=blockAt(_e,nt),Ot=mt.type==BlockType.Text?mt:null,wt=gt.type==BlockType.Text?gt:null;if(Ot&&(_e.lineWrapping||mt.widgetLineBreaks)&&(Ot=wrappedLine(_e,tt,Ot)),wt&&(_e.lineWrapping||gt.widgetLineBreaks)&&(wt=wrappedLine(_e,nt,wt)),Ot&&wt&&Ot.from==wt.from)return vt(Tt(et.from,et.to,Ot));{let Pt=Ot?Tt(et.from,null,Ot):Et(mt,!1),Mt=wt?Tt(null,et.to,wt):Et(gt,!0),Rt=[];return(Ot||mt).to<(wt||gt).from-(Ot&&wt?1:0)||mt.widgetLineBreaks>1&&Pt.bottom+_e.defaultLineHeight/2<Mt.top?Rt.push(St(ht,Pt.bottom,dt,Mt.top)):Pt.bottom<Mt.top&&_e.elementAtHeight((Pt.bottom+Mt.top)/2).type==BlockType.Text&&(Pt.bottom=Mt.top=(Pt.bottom+Mt.top)/2),vt(Pt).concat(Rt).concat(vt(Mt))}function St(Pt,Mt,Rt,Lt){return new RectangleMarker($,Pt-lt.left,Mt-lt.top-.01,Rt-Pt,Lt-Mt+.01)}function vt({top:Pt,bottom:Mt,horizontal:Rt}){let Lt=[];for(let Wt=0;Wt<Rt.length;Wt+=2)Lt.push(St(Rt[Wt],Pt,Rt[Wt+1],Mt));return Lt}function Tt(Pt,Mt,Rt){let Lt=1e9,Wt=-1e9,Ft=[];function Ut(cn,yn,En,vn,Bt){let jt=_e.coordsAtPos(cn,cn==Rt.to?-2:2),zt=_e.coordsAtPos(En,En==Rt.from?2:-2);!jt||!zt||(Lt=Math.min(jt.top,zt.top,Lt),Wt=Math.max(jt.bottom,zt.bottom,Wt),Bt==Direction.LTR?Ft.push(rt&&yn?ht:jt.left,rt&&vn?dt:zt.right):Ft.push(!rt&&vn?ht:zt.left,!rt&&yn?dt:jt.right))}let Xt=Pt??Rt.from,ln=Mt??Rt.to;for(let cn of _e.visibleRanges)if(cn.to>Xt&&cn.from<ln)for(let yn=Math.max(cn.from,Xt),En=Math.min(cn.to,ln);;){let vn=_e.state.doc.lineAt(yn);for(let Bt of _e.bidiSpans(vn)){let jt=Bt.from+vn.from,zt=Bt.to+vn.from;if(jt>=En)break;zt>yn&&Ut(Math.max(jt,yn),Pt==null&&jt<=Xt,Math.min(zt,En),Mt==null&&zt>=ln,Bt.dir)}if(yn=vn.to+1,yn>=En)break}return Ft.length==0&&Ut(Xt,Pt==null,ln,Mt==null,_e.textDirection),{top:Lt,bottom:Wt,horizontal:Ft}}function Et(Pt,Mt){let Rt=ot.top+(Mt?Pt.top:Pt.bottom);return{top:Rt,bottom:Rt,horizontal:[]}}}function sameMarker(_e,$){return _e.constructor==$.constructor&&_e.eq($)}class LayerView{constructor($,et){this.view=$,this.layer=et,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=$.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),et.above&&this.dom.classList.add("cm-layer-above"),et.class&&this.dom.classList.add(et.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder($.state),$.requestMeasure(this.measureReq),et.mount&&et.mount(this.dom,$)}update($){$.startState.facet(layerOrder)!=$.state.facet(layerOrder)&&this.setOrder($.state),(this.layer.update($,this.dom)||$.geometryChanged)&&(this.scale(),$.view.requestMeasure(this.measureReq))}docViewUpdate($){this.layer.updateOnDocViewUpdate!==!1&&$.requestMeasure(this.measureReq)}setOrder($){let et=0,tt=$.facet(layerOrder);for(;et<tt.length&&tt[et]!=this.layer;)et++;this.dom.style.zIndex=String((this.layer.above?150:-1)-et)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:$,scaleY:et}=this.view;($!=this.scaleX||et!=this.scaleY)&&(this.scaleX=$,this.scaleY=et,this.dom.style.transform=`scale(${1/$}, ${1/et})`)}draw($){if($.length!=this.drawn.length||$.some((et,tt)=>!sameMarker(et,this.drawn[tt]))){let et=this.dom.firstChild,tt=0;for(let nt of $)nt.update&&et&&nt.constructor&&this.drawn[tt].constructor&&nt.update(et,this.drawn[tt])?(et=et.nextSibling,tt++):this.dom.insertBefore(nt.draw(),et);for(;et;){let nt=et.nextSibling;et.remove(),et=nt}this.drawn=$}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(_e){return[ViewPlugin.define($=>new LayerView($,_e)),layerOrder.of(_e)]}const CanHidePrimary=!browser.ios,selectionConfig=Facet.define({combine(_e){return combineConfig(_e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:($,et)=>Math.min($,et),drawRangeCursor:($,et)=>$||et})}});function drawSelection(_e={}){return[selectionConfig.of(_e),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(_e){return _e.startState.facet(selectionConfig)!=_e.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(_e){let{state:$}=_e,et=$.facet(selectionConfig),tt=[];for(let nt of $.selection.ranges){let rt=nt==$.selection.main;if(nt.empty?!rt||CanHidePrimary:et.drawRangeCursor){let it=rt?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",ot=nt.empty?nt:EditorSelection.cursor(nt.head,nt.head>nt.anchor?-1:1);for(let lt of RectangleMarker.forRange(_e,it,ot))tt.push(lt)}}return tt},update(_e,$){_e.transactions.some(tt=>tt.selection)&&($.style.animationName=$.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let et=configChanged(_e);return et&&setBlinkRate(_e.state,$),_e.docChanged||_e.selectionSet||et},mount(_e,$){setBlinkRate($.state,_e)},class:"cm-cursorLayer"});function setBlinkRate(_e,$){$.style.animationDuration=_e.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(_e){return _e.state.selection.ranges.map($=>$.empty?[]:RectangleMarker.forRange(_e,"cm-selectionBackground",$)).reduce(($,et)=>$.concat(et))},update(_e,$){return _e.docChanged||_e.selectionSet||_e.viewportChanged||configChanged(_e)},class:"cm-selectionLayer"}),themeSpec={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};CanHidePrimary&&(themeSpec[".cm-line"].caretColor="transparent !important",themeSpec[".cm-content"]={caretColor:"transparent !important"});const hideNativeSelection=Prec.highest(EditorView.theme(themeSpec));function iterMatches(_e,$,et,tt,nt){$.lastIndex=0;for(let rt=_e.iterRange(et,tt),it=et,ot;!rt.next().done;it+=rt.value.length)if(!rt.lineBreak)for(;ot=$.exec(rt.value);)nt(it+ot.index,ot)}function matchRanges(_e,$){let et=_e.visibleRanges;if(et.length==1&&et[0].from==_e.viewport.from&&et[0].to==_e.viewport.to)return et;let tt=[];for(let{from:nt,to:rt}of et)nt=Math.max(_e.state.doc.lineAt(nt).from,nt-$),rt=Math.min(_e.state.doc.lineAt(rt).to,rt+$),tt.length&&tt[tt.length-1].to>=nt?tt[tt.length-1].to=rt:tt.push({from:nt,to:rt});return tt}class MatchDecorator{constructor($){const{regexp:et,decoration:tt,decorate:nt,boundary:rt,maxLength:it=1e3}=$;if(!et.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=et,nt)this.addMatch=(ot,lt,ut,ct)=>nt(ct,ut,ut+ot[0].length,ot,lt);else if(typeof tt=="function")this.addMatch=(ot,lt,ut,ct)=>{let ht=tt(ot,lt,ut);ht&&ct(ut,ut+ot[0].length,ht)};else if(tt)this.addMatch=(ot,lt,ut,ct)=>ct(ut,ut+ot[0].length,tt);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=rt,this.maxLength=it}createDeco($){let et=new RangeSetBuilder,tt=et.add.bind(et);for(let{from:nt,to:rt}of matchRanges($,this.maxLength))iterMatches($.state.doc,this.regexp,nt,rt,(it,ot)=>this.addMatch(ot,$,it,tt));return et.finish()}updateDeco($,et){let tt=1e9,nt=-1;return $.docChanged&&$.changes.iterChanges((rt,it,ot,lt)=>{lt>$.view.viewport.from&&ot<$.view.viewport.to&&(tt=Math.min(ot,tt),nt=Math.max(lt,nt))}),$.viewportChanged||nt-tt>1e3?this.createDeco($.view):nt>-1?this.updateRange($.view,et.map($.changes),tt,nt):et}updateRange($,et,tt,nt){for(let rt of $.visibleRanges){let it=Math.max(rt.from,tt),ot=Math.min(rt.to,nt);if(ot>it){let lt=$.state.doc.lineAt(it),ut=lt.to<ot?$.state.doc.lineAt(ot):lt,ct=Math.max(rt.from,lt.from),ht=Math.min(rt.to,ut.to);if(this.boundary){for(;it>lt.from;it--)if(this.boundary.test(lt.text[it-1-lt.from])){ct=it;break}for(;ot<ut.to;ot++)if(this.boundary.test(ut.text[ot-ut.from])){ht=ot;break}}let dt=[],mt,gt=(Ot,wt,St)=>dt.push(St.range(Ot,wt));if(lt==ut)for(this.regexp.lastIndex=ct-lt.from;(mt=this.regexp.exec(lt.text))&&mt.index<ht-lt.from;)this.addMatch(mt,$,mt.index+lt.from,gt);else iterMatches($.state.doc,this.regexp,ct,ht,(Ot,wt)=>this.addMatch(wt,$,Ot,gt));et=et.update({filterFrom:ct,filterTo:ht,filter:(Ot,wt)=>Ot<ct||wt>ht,add:dt})}}return et}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var _e;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let $=document.body.style;_supportsTabSize=((_e=$.tabSize)!==null&&_e!==void 0?_e:$.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(_e){let $=combineConfig(_e,{render:null,specialChars:Specials,addSpecialChars:null});return($.replaceTabs=!supportsTabSize())&&($.specialChars=new RegExp("	|"+$.specialChars.source,UnicodeRegexpSupport)),$.addSpecialChars&&($.specialChars=new RegExp($.specialChars.source+"|"+$.addSpecialChars.source,UnicodeRegexpSupport)),$}});function highlightSpecialChars(_e={}){return[specialCharConfig.of(_e),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(_e){this.view=_e,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(_e.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(_e)}makeDecorator(_e){return new MatchDecorator({regexp:_e.specialChars,decoration:($,et,tt)=>{let{doc:nt}=et.state,rt=codePointAt($[0],0);if(rt==9){let it=nt.lineAt(tt),ot=et.state.tabSize,lt=countColumn(it.text,ot,tt-it.from);return Decoration.replace({widget:new TabWidget((ot-lt%ot)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[rt]||(this.decorationCache[rt]=Decoration.replace({widget:new SpecialCharWidget(_e,rt)}))},boundary:_e.replaceTabs?void 0:/[^]/})}update(_e){let $=_e.state.facet(specialCharConfig);_e.startState.facet(specialCharConfig)!=$?(this.decorator=this.makeDecorator($),this.decorations=this.decorator.createDeco(_e.view)):this.decorations=this.decorator.updateDeco(_e,this.decorations)}},{decorations:_e=>_e.decorations}))}const DefaultPlaceholder="•";function placeholder$1(_e){return _e>=32?DefaultPlaceholder:_e==10?"␤":String.fromCharCode(9216+_e)}class SpecialCharWidget extends WidgetType{constructor($,et){super(),this.options=$,this.code=et}eq($){return $.code==this.code}toDOM($){let et=placeholder$1(this.code),tt=$.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),nt=this.options.render&&this.options.render(this.code,tt,et);if(nt)return nt;let rt=document.createElement("span");return rt.textContent=et,rt.title=tt,rt.setAttribute("aria-label",tt),rt.className="cm-specialChar",rt}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor($){super(),this.width=$}eq($){return $.width==this.width}toDOM(){let $=document.createElement("span");return $.textContent="	",$.className="cm-tab",$.style.width=this.width+"px",$}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(_e){this.decorations=this.getDeco(_e)}update(_e){(_e.docChanged||_e.selectionSet)&&(this.decorations=this.getDeco(_e.view))}getDeco(_e){let $=-1,et=[];for(let tt of _e.state.selection.ranges){let nt=_e.lineBlockAt(tt.head);nt.from>$&&(et.push(lineDeco.range(nt.from)),$=nt.from)}return Decoration.set(et)}},{decorations:_e=>_e.decorations}),Outside="-10000px";class TooltipViewManager{constructor($,et,tt,nt){this.facet=et,this.createTooltipView=tt,this.removeTooltipView=nt,this.input=$.state.facet(et),this.tooltips=this.input.filter(it=>it);let rt=null;this.tooltipViews=this.tooltips.map(it=>rt=tt(it,rt))}update($,et){var tt;let nt=$.state.facet(this.facet),rt=nt.filter(lt=>lt);if(nt===this.input){for(let lt of this.tooltipViews)lt.update&&lt.update($);return!1}let it=[],ot=et?[]:null;for(let lt=0;lt<rt.length;lt++){let ut=rt[lt],ct=-1;if(ut){for(let ht=0;ht<this.tooltips.length;ht++){let dt=this.tooltips[ht];dt&&dt.create==ut.create&&(ct=ht)}if(ct<0)it[lt]=this.createTooltipView(ut,lt?it[lt-1]:null),ot&&(ot[lt]=!!ut.above);else{let ht=it[lt]=this.tooltipViews[ct];ot&&(ot[lt]=et[ct]),ht.update&&ht.update($)}}}for(let lt of this.tooltipViews)it.indexOf(lt)<0&&(this.removeTooltipView(lt),(tt=lt.destroy)===null||tt===void 0||tt.call(lt));return et&&(ot.forEach((lt,ut)=>et[ut]=lt),et.length=ot.length),this.input=nt,this.tooltips=rt,this.tooltipViews=it,!0}}function windowSpace(_e){let{win:$}=_e;return{top:0,left:0,bottom:$.innerHeight,right:$.innerWidth}}const tooltipConfig=Facet.define({combine:_e=>{var $,et,tt;return{position:browser.ios?"absolute":(($=_e.find(nt=>nt.position))===null||$===void 0?void 0:$.position)||"fixed",parent:((et=_e.find(nt=>nt.parent))===null||et===void 0?void 0:et.parent)||null,tooltipSpace:((tt=_e.find(nt=>nt.tooltipSpace))===null||tt===void 0?void 0:tt.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(_e){this.view=_e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let $=_e.state.facet(tooltipConfig);this.position=$.position,this.parent=$.parent,this.classes=_e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(_e,showTooltip,(et,tt)=>this.createTooltip(et,tt),et=>{this.resizeObserver&&this.resizeObserver.unobserve(et.dom),et.dom.remove()}),this.above=this.manager.tooltips.map(et=>!!et.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(et=>{Date.now()>this.lastTransaction-50&&et.length>0&&et[et.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),_e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let _e of this.manager.tooltipViews)this.intersectionObserver.observe(_e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(_e){_e.transactions.length&&(this.lastTransaction=Date.now());let $=this.manager.update(_e,this.above);$&&this.observeIntersection();let et=$||_e.geometryChanged,tt=_e.state.facet(tooltipConfig);if(tt.position!=this.position&&!this.madeAbsolute){this.position=tt.position;for(let nt of this.manager.tooltipViews)nt.dom.style.position=this.position;et=!0}if(tt.parent!=this.parent){this.parent&&this.container.remove(),this.parent=tt.parent,this.createContainer();for(let nt of this.manager.tooltipViews)this.container.appendChild(nt.dom);et=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);et&&this.maybeMeasure()}createTooltip(_e,$){let et=_e.create(this.view),tt=$?$.dom:null;if(et.dom.classList.add("cm-tooltip"),_e.arrow&&!et.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let nt=document.createElement("div");nt.className="cm-tooltip-arrow",et.dom.insertBefore(nt,tt)}return et.dom.style.position=this.position,et.dom.style.top=Outside,et.dom.style.left="0px",this.container.insertBefore(et.dom,tt),et.mount&&et.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(et.dom),et}destroy(){var _e,$,et;this.view.win.removeEventListener("resize",this.measureSoon);for(let tt of this.manager.tooltipViews)tt.dom.remove(),(_e=tt.destroy)===null||_e===void 0||_e.call(tt);this.parent&&this.container.remove(),($=this.resizeObserver)===null||$===void 0||$.disconnect(),(et=this.intersectionObserver)===null||et===void 0||et.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let _e=this.view.dom.getBoundingClientRect(),$=1,et=1,tt=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:nt}=this.manager.tooltipViews[0];if(browser.gecko)tt=nt.offsetParent!=this.container.ownerDocument.body;else if(nt.style.top==Outside&&nt.style.left=="0px"){let rt=nt.getBoundingClientRect();tt=Math.abs(rt.top+1e4)>1||Math.abs(rt.left)>1}}if(tt||this.position=="absolute")if(this.parent){let nt=this.parent.getBoundingClientRect();nt.width&&nt.height&&($=nt.width/this.parent.offsetWidth,et=nt.height/this.parent.offsetHeight)}else({scaleX:$,scaleY:et}=this.view.viewState);return{editor:_e,parent:this.parent?this.container.getBoundingClientRect():_e,pos:this.manager.tooltips.map((nt,rt)=>{let it=this.manager.tooltipViews[rt];return it.getCoords?it.getCoords(nt.pos):this.view.coordsAtPos(nt.pos)}),size:this.manager.tooltipViews.map(({dom:nt})=>nt.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:$,scaleY:et,makeAbsolute:tt}}writeMeasure(_e){var $;if(_e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let ot of this.manager.tooltipViews)ot.dom.style.position="absolute"}let{editor:et,space:tt,scaleX:nt,scaleY:rt}=_e,it=[];for(let ot=0;ot<this.manager.tooltips.length;ot++){let lt=this.manager.tooltips[ot],ut=this.manager.tooltipViews[ot],{dom:ct}=ut,ht=_e.pos[ot],dt=_e.size[ot];if(!ht||ht.bottom<=Math.max(et.top,tt.top)||ht.top>=Math.min(et.bottom,tt.bottom)||ht.right<Math.max(et.left,tt.left)-.1||ht.left>Math.min(et.right,tt.right)+.1){ct.style.top=Outside;continue}let mt=lt.arrow?ut.dom.querySelector(".cm-tooltip-arrow"):null,gt=mt?7:0,Ot=dt.right-dt.left,wt=($=knownHeight.get(ut))!==null&&$!==void 0?$:dt.bottom-dt.top,St=ut.offset||noOffset,vt=this.view.textDirection==Direction.LTR,Tt=dt.width>tt.right-tt.left?vt?tt.left:tt.right-dt.width:vt?Math.min(ht.left-(mt?14:0)+St.x,tt.right-Ot):Math.max(tt.left,ht.left-Ot+(mt?14:0)-St.x),Et=this.above[ot];!lt.strictSide&&(Et?ht.top-(dt.bottom-dt.top)-St.y<tt.top:ht.bottom+(dt.bottom-dt.top)+St.y>tt.bottom)&&Et==tt.bottom-ht.bottom>ht.top-tt.top&&(Et=this.above[ot]=!Et);let Pt=(Et?ht.top-tt.top:tt.bottom-ht.bottom)-gt;if(Pt<wt&&ut.resize!==!1){if(Pt<this.view.defaultLineHeight){ct.style.top=Outside;continue}knownHeight.set(ut,wt),ct.style.height=(wt=Pt)/rt+"px"}else ct.style.height&&(ct.style.height="");let Mt=Et?ht.top-wt-gt-St.y:ht.bottom+gt+St.y,Rt=Tt+Ot;if(ut.overlap!==!0)for(let Lt of it)Lt.left<Rt&&Lt.right>Tt&&Lt.top<Mt+wt&&Lt.bottom>Mt&&(Mt=Et?Lt.top-wt-2-gt:Lt.bottom+gt+2);if(this.position=="absolute"?(ct.style.top=(Mt-_e.parent.top)/rt+"px",ct.style.left=(Tt-_e.parent.left)/nt+"px"):(ct.style.top=Mt/rt+"px",ct.style.left=Tt/nt+"px"),mt){let Lt=ht.left+(vt?St.x:-St.x)-(Tt+14-7);mt.style.left=Lt/nt+"px"}ut.overlap!==!0&&it.push({left:Tt,top:Mt,right:Rt,bottom:Mt+wt}),ct.classList.toggle("cm-tooltip-above",Et),ct.classList.toggle("cm-tooltip-below",!Et),ut.positioned&&ut.positioned(_e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let _e of this.manager.tooltipViews)_e.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}}),baseTheme$2=EditorView.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$2]}),showHoverTooltip=Facet.define({combine:_e=>_e.reduce(($,et)=>$.concat(et),[])});class HoverTooltipHost{static create($){return new HoverTooltipHost($)}constructor($){this.view=$,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager($,showHoverTooltip,(et,tt)=>this.createHostedView(et,tt),et=>et.dom.remove())}createHostedView($,et){let tt=$.create(this.view);return tt.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(tt.dom,et?et.dom.nextSibling:this.dom.firstChild),this.mounted&&tt.mount&&tt.mount(this.view),tt}mount($){for(let et of this.manager.tooltipViews)et.mount&&et.mount($);this.mounted=!0}positioned($){for(let et of this.manager.tooltipViews)et.positioned&&et.positioned($)}update($){this.manager.update($)}destroy(){var $;for(let et of this.manager.tooltipViews)($=et.destroy)===null||$===void 0||$.call(et)}passProp($){let et;for(let tt of this.manager.tooltipViews){let nt=tt[$];if(nt!==void 0){if(et===void 0)et=nt;else if(et!==nt)return}}return et}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],_e=>{let $=_e.facet(showHoverTooltip);return $.length===0?null:{pos:Math.min(...$.map(et=>et.pos)),end:Math.max(...$.map(et=>{var tt;return(tt=et.end)!==null&&tt!==void 0?tt:et.pos})),create:HoverTooltipHost.create,above:$[0].above,arrow:$.some(et=>et.arrow)}});class HoverPlugin{constructor($,et,tt,nt,rt){this.view=$,this.source=et,this.field=tt,this.setHover=nt,this.hoverTime=rt,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:$.dom,time:0},this.checkHover=this.checkHover.bind(this),$.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),$.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let $=Date.now()-this.lastMove.time;$<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-$):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:$,lastMove:et}=this,tt=$.docView.nearest(et.target);if(!tt)return;let nt,rt=1;if(tt instanceof WidgetView)nt=tt.posAtStart;else{if(nt=$.posAtCoords(et),nt==null)return;let ot=$.coordsAtPos(nt);if(!ot||et.y<ot.top||et.y>ot.bottom||et.x<ot.left-$.defaultCharacterWidth||et.x>ot.right+$.defaultCharacterWidth)return;let lt=$.bidiSpans($.state.doc.lineAt(nt)).find(ct=>ct.from<=nt&&ct.to>=nt),ut=lt&&lt.dir==Direction.RTL?-1:1;rt=et.x<ot.left?-ut:ut}let it=this.source($,nt,rt);if(it?.then){let ot=this.pending={pos:nt};it.then(lt=>{this.pending==ot&&(this.pending=null,lt&&!(Array.isArray(lt)&&!lt.length)&&$.dispatch({effects:this.setHover.of(Array.isArray(lt)?lt:[lt])}))},lt=>logException($.state,lt,"hover tooltip"))}else it&&!(Array.isArray(it)&&!it.length)&&$.dispatch({effects:this.setHover.of(Array.isArray(it)?it:[it])})}get tooltip(){let $=this.view.plugin(tooltipPlugin),et=$?$.manager.tooltips.findIndex(tt=>tt.create==HoverTooltipHost.create):-1;return et>-1?$.manager.tooltipViews[et]:null}mousemove($){var et,tt;this.lastMove={x:$.clientX,y:$.clientY,target:$.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:nt,tooltip:rt}=this;if(nt.length&&rt&&!isInTooltip(rt.dom,$)||this.pending){let{pos:it}=nt[0]||this.pending,ot=(tt=(et=nt[0])===null||et===void 0?void 0:et.end)!==null&&tt!==void 0?tt:it;(it==ot?this.view.posAtCoords(this.lastMove)!=it:!isOverRange(this.view,it,ot,$.clientX,$.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave($){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:et}=this;if(et.length){let{tooltip:tt}=this;tt&&tt.dom.contains($.relatedTarget)?this.watchTooltipLeave(tt.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave($){let et=tt=>{$.removeEventListener("mouseleave",et),this.active.length&&!this.view.dom.contains(tt.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};$.addEventListener("mouseleave",et)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(_e,$){let et=_e.getBoundingClientRect();return $.clientX>=et.left-tooltipMargin&&$.clientX<=et.right+tooltipMargin&&$.clientY>=et.top-tooltipMargin&&$.clientY<=et.bottom+tooltipMargin}function isOverRange(_e,$,et,tt,nt,rt){let it=_e.scrollDOM.getBoundingClientRect(),ot=_e.documentTop+_e.documentPadding.top+_e.contentHeight;if(it.left>tt||it.right<tt||it.top>nt||Math.min(it.bottom,ot)<nt)return!1;let lt=_e.posAtCoords({x:tt,y:nt},!1);return lt>=$&&lt<=et}function hoverTooltip(_e,$={}){let et=StateEffect.define(),tt=StateField.define({create(){return[]},update(nt,rt){if(nt.length&&($.hideOnChange&&(rt.docChanged||rt.selection)?nt=[]:$.hideOn&&(nt=nt.filter(it=>!$.hideOn(rt,it))),rt.docChanged)){let it=[];for(let ot of nt){let lt=rt.changes.mapPos(ot.pos,-1,MapMode.TrackDel);if(lt!=null){let ut=Object.assign(Object.create(null),ot);ut.pos=lt,ut.end!=null&&(ut.end=rt.changes.mapPos(ut.end)),it.push(ut)}}nt=it}for(let it of rt.effects)it.is(et)&&(nt=it.value),it.is(closeHoverTooltipEffect)&&(nt=[]);return nt},provide:nt=>showHoverTooltip.from(nt)});return[tt,ViewPlugin.define(nt=>new HoverPlugin(nt,_e,tt,et,$.hoverTime||300)),showHoverTooltipHost]}function getTooltip(_e,$){let et=_e.plugin(tooltipPlugin);if(!et)return null;let tt=et.manager.tooltips.indexOf($);return tt<0?null:et.manager.tooltipViews[tt]}const closeHoverTooltipEffect=StateEffect.define();class GutterMarker extends RangeValue{compare($){return this==$||this.constructor==$.constructor&&this.eq($)}eq($){return!1}destroy($){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),defaults={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},activeGutters=Facet.define();function gutter(_e){return[gutters(),activeGutters.of(Object.assign(Object.assign({},defaults),_e))]}const unfixGutters=Facet.define({combine:_e=>_e.some($=>$)});function gutters(_e){let $=[gutterView];return _e&&_e.fixed===!1&&$.push(unfixGutters.of(!0)),$}const gutterView=ViewPlugin.fromClass(class{constructor(_e){this.view=_e,this.prevViewport=_e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=_e.state.facet(activeGutters).map($=>new SingleGutterView(_e,$));for(let $ of this.gutters)this.dom.appendChild($.dom);this.fixed=!_e.state.facet(unfixGutters),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),_e.scrollDOM.insertBefore(this.dom,_e.contentDOM)}update(_e){if(this.updateGutters(_e)){let $=this.prevViewport,et=_e.view.viewport,tt=Math.min($.to,et.to)-Math.max($.from,et.from);this.syncGutters(tt<(et.to-et.from)*.8)}_e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=_e.view.viewport}syncGutters(_e){let $=this.dom.nextSibling;_e&&this.dom.remove();let et=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),tt=[],nt=this.gutters.map(rt=>new UpdateContext(rt,this.view.viewport,-this.view.documentPadding.top));for(let rt of this.view.viewportLineBlocks)if(tt.length&&(tt=[]),Array.isArray(rt.type)){let it=!0;for(let ot of rt.type)if(ot.type==BlockType.Text&&it){advanceCursor(et,tt,ot.from);for(let lt of nt)lt.line(this.view,ot,tt);it=!1}else if(ot.widget)for(let lt of nt)lt.widget(this.view,ot)}else if(rt.type==BlockType.Text){advanceCursor(et,tt,rt.from);for(let it of nt)it.line(this.view,rt,tt)}else if(rt.widget)for(let it of nt)it.widget(this.view,rt);for(let rt of nt)rt.finish();_e&&this.view.scrollDOM.insertBefore(this.dom,$)}updateGutters(_e){let $=_e.startState.facet(activeGutters),et=_e.state.facet(activeGutters),tt=_e.docChanged||_e.heightChanged||_e.viewportChanged||!RangeSet.eq(_e.startState.facet(gutterLineClass),_e.state.facet(gutterLineClass),_e.view.viewport.from,_e.view.viewport.to);if($==et)for(let nt of this.gutters)nt.update(_e)&&(tt=!0);else{tt=!0;let nt=[];for(let rt of et){let it=$.indexOf(rt);it<0?nt.push(new SingleGutterView(this.view,rt)):(this.gutters[it].update(_e),nt.push(this.gutters[it]))}for(let rt of this.gutters)rt.dom.remove(),nt.indexOf(rt)<0&&rt.destroy();for(let rt of nt)this.dom.appendChild(rt.dom);this.gutters=nt}return tt}destroy(){for(let _e of this.gutters)_e.destroy();this.dom.remove()}},{provide:_e=>EditorView.scrollMargins.of($=>{let et=$.plugin(_e);return!et||et.gutters.length==0||!et.fixed?null:$.textDirection==Direction.LTR?{left:et.dom.offsetWidth*$.scaleX}:{right:et.dom.offsetWidth*$.scaleX}})});function asArray(_e){return Array.isArray(_e)?_e:[_e]}function advanceCursor(_e,$,et){for(;_e.value&&_e.from<=et;)_e.from==et&&$.push(_e.value),_e.next()}class UpdateContext{constructor($,et,tt){this.gutter=$,this.height=tt,this.i=0,this.cursor=RangeSet.iter($.markers,et.from)}addElement($,et,tt){let{gutter:nt}=this,rt=(et.top-this.height)/$.scaleY,it=et.height/$.scaleY;if(this.i==nt.elements.length){let ot=new GutterElement($,it,rt,tt);nt.elements.push(ot),nt.dom.appendChild(ot.dom)}else nt.elements[this.i].update($,it,rt,tt);this.height=et.bottom,this.i++}line($,et,tt){let nt=[];advanceCursor(this.cursor,nt,et.from),tt.length&&(nt=nt.concat(tt));let rt=this.gutter.config.lineMarker($,et,nt);rt&&nt.unshift(rt);let it=this.gutter;nt.length==0&&!it.config.renderEmptyElements||this.addElement($,et,nt)}widget($,et){let tt=this.gutter.config.widgetMarker($,et.widget,et);tt&&this.addElement($,et,[tt])}finish(){let $=this.gutter;for(;$.elements.length>this.i;){let et=$.elements.pop();$.dom.removeChild(et.dom),et.destroy()}}}class SingleGutterView{constructor($,et){this.view=$,this.config=et,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let tt in et.domEventHandlers)this.dom.addEventListener(tt,nt=>{let rt=nt.target,it;if(rt!=this.dom&&this.dom.contains(rt)){for(;rt.parentNode!=this.dom;)rt=rt.parentNode;let lt=rt.getBoundingClientRect();it=(lt.top+lt.bottom)/2}else it=nt.clientY;let ot=$.lineBlockAtHeight(it-$.documentTop);et.domEventHandlers[tt]($,ot,nt)&&nt.preventDefault()});this.markers=asArray(et.markers($)),et.initialSpacer&&(this.spacer=new GutterElement($,0,0,[et.initialSpacer($)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update($){let et=this.markers;if(this.markers=asArray(this.config.markers($.view)),this.spacer&&this.config.updateSpacer){let nt=this.config.updateSpacer(this.spacer.markers[0],$);nt!=this.spacer.markers[0]&&this.spacer.update($.view,0,0,[nt])}let tt=$.view.viewport;return!RangeSet.eq(this.markers,et,tt.from,tt.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange($):!1)}destroy(){for(let $ of this.elements)$.destroy()}}class GutterElement{constructor($,et,tt,nt){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update($,et,tt,nt)}update($,et,tt,nt){this.height!=et&&(this.height=et,this.dom.style.height=et+"px"),this.above!=tt&&(this.dom.style.marginTop=(this.above=tt)?tt+"px":""),sameMarkers(this.markers,nt)||this.setMarkers($,nt)}setMarkers($,et){let tt="cm-gutterElement",nt=this.dom.firstChild;for(let rt=0,it=0;;){let ot=it,lt=rt<et.length?et[rt++]:null,ut=!1;if(lt){let ct=lt.elementClass;ct&&(tt+=" "+ct);for(let ht=it;ht<this.markers.length;ht++)if(this.markers[ht].compare(lt)){ot=ht,ut=!0;break}}else ot=this.markers.length;for(;it<ot;){let ct=this.markers[it++];if(ct.toDOM){ct.destroy(nt);let ht=nt.nextSibling;nt.remove(),nt=ht}}if(!lt)break;lt.toDOM&&(ut?nt=nt.nextSibling:this.dom.insertBefore(lt.toDOM($),nt)),ut&&it++}this.dom.className=tt,this.markers=et}destroy(){this.setMarkers(null,[])}}function sameMarkers(_e,$){if(_e.length!=$.length)return!1;for(let et=0;et<_e.length;et++)if(!_e[et].compare($[et]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberConfig=Facet.define({combine(_e){return combineConfig(_e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers($,et){let tt=Object.assign({},$);for(let nt in et){let rt=tt[nt],it=et[nt];tt[nt]=rt?(ot,lt,ut)=>rt(ot,lt,ut)||it(ot,lt,ut):it}return tt}})}});class NumberMarker extends GutterMarker{constructor($){super(),this.number=$}eq($){return this.number==$.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(_e,$){return _e.state.facet(lineNumberConfig).formatNumber($,_e.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],_e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers($){return $.state.facet(lineNumberMarkers)},lineMarker($,et,tt){return tt.some(nt=>nt.toDOM)?null:new NumberMarker(formatNumber($,$.state.doc.lineAt(et.from).number))},widgetMarker:()=>null,lineMarkerChange:$=>$.startState.facet(lineNumberConfig)!=$.state.facet(lineNumberConfig),initialSpacer($){return new NumberMarker(formatNumber($,maxLineNumber($.state.doc.lines)))},updateSpacer($,et){let tt=formatNumber(et.view,maxLineNumber(et.view.state.doc.lines));return tt==$.number?$:new NumberMarker(tt)},domEventHandlers:_e.facet(lineNumberConfig).domEventHandlers}));function lineNumbers(_e={}){return[lineNumberConfig.of(_e),gutters(),lineNumberGutter]}function maxLineNumber(_e){let $=9;for(;$<_e;)$=$*10+9;return $}const placeholderRegex=()=>/_H([a-zA-Z_]+)(_\d+)?H_/g,extractPlaceholderContent=(_e="")=>{const $=placeholderRegex().exec(_e);return $?$[2]?`${$[1]}_${$[2]}`:$[1]:_e},placeholderMatcher=new MatchDecorator({regexp:placeholderRegex(),decoration:_e=>Decoration.replace({widget:new PlaceholderWidget(_e[2]?`${_e[1]}${_e[2]}`:_e[1])})}),placeholders=ViewPlugin.fromClass(class{placeholders;constructor(_e){this.placeholders=placeholderMatcher.createDeco(_e)}update(_e){this.placeholders=placeholderMatcher.updateDeco(_e,this.placeholders)}},{decorations:_e=>_e.placeholders,provide:_e=>EditorView.atomicRanges.of($=>$.plugin(_e)?.placeholders||Decoration.none)});class PlaceholderWidget extends WidgetType{constructor($){super(),this.name=$}eq($){return this.name==$.name}toDOM(){const $=document.createElement("span");return $.style.cssText=`
      border: 1px dashed #2196F3;
      border-radius: 4px;
      padding: 0 3px;
      background: #E3F2FD;`,$.textContent=this.name,$}ignoreEvent(){return!1}}function idToNode(_e,$){return $.find(et=>et.id===_e)}function getTreeRoot(_e){return _e.find($=>$.id==="0")}function getLocalRoots(_e){return _e.filter($=>_e.every(et=>!et.children.includes($.id))).map($=>$)}function getSubTree(_e,$){const et=$.find(tt=>tt.id===_e);return et?[et,...et.children.flatMap(tt=>getSubTree(tt,$))]:[]}const getHoleSeperator=_e=>({[NodeType$1.module]:`

`,[NodeType$1.block]:`

`,[NodeType$1.parameters]:", ",[NodeType$1.argument_list]:", ",[NodeType$1.expression_list]:", "})[_e]??"";function removeNodeFromTree(_e,$){const et=$.find(rt=>rt.id===_e),tt=$.find(rt=>rt.id===et?.parent);tt&&(tt.children=tt.children.filter(rt=>rt!==_e)),et&&(et.parent=void 0);const nt=getSubTree(_e,$).map(rt=>rt.id);return $.filter(rt=>!nt.includes(rt.id))}function isPlaceholderIdentifier(_e){return _e?.type===NodeType$1.identifier&&placeholderRegex().test(_e.defaultContent)}function isDefinition(_e){return _e&&[NodeType$1.class_definition,NodeType$1.function_definition].includes(_e.type)}function removePlaceholder(_e,$){return _e.children.map(et=>idToNode(et,$)).filter(et=>!0).map(et=>et.id)}await Parser$1.init({});const astParser=new Parser$1,Python=await Parser$1.Language.load("public/tree-sitter-python.wasm");astParser.setLanguage(Python);function conertToTree(_e){if(_e===null)return[null,null];const $=_e.text,et=_e.walk();let tt={indentLevel:-1,id:-1,from:0,fromPoint:{row:-1,column:-1},to:0,toPoint:{row:-1,column:-1},type:"",text:""};const nt=[];let rt=!1,it=!1,ot=0;for(let lt=0;;lt++){let ut="";if(et.nodeIsMissing?ut=`MISSING ${et.nodeType}`:et.nodeIsNamed&&(ut=et.nodeType),it)if(ut&&(rt=!0),et.gotoNextSibling())it=!1;else if(et.gotoParent())it=!0,ot--;else break;else{if(ut){rt&&(nt.push(tt),rt=!1);const ct=et.startIndex,ht=et.endIndex,dt=et.nodeId;let mt=et.nodeText;const gt=et.currentFieldName(),Ot=$.substring(0,ct).lastIndexOf(`
`)+1,wt=$.substring(Ot,ct).match(/^(\s*)/),St=wt?wt[1]:"";mt=mt.split(`
`).map((vt,Tt)=>Tt===0?vt:vt.substring(St.length)).join(`
`),tt={indentLevel:ot,fieldName:gt,id:dt,text:mt,from:ct,fromPoint:et.startPosition,to:ht,toPoint:et.endPosition,type:ut},rt=!0}et.gotoFirstChild()?(it=!1,ot++):it=!0}}return rt&&nt.push(tt),et.delete(),[nt,buildTree$1(nt)]}function buildTree$1(_e){const $={indentLevel:-1,id:-1,from:0,fromPoint:{row:-1,column:-1},to:0,toPoint:{row:-1,column:-1},type:"",text:"",children:[]},et=[$];for(const tt of _e){const nt={...tt,children:[]};for(;et.length>0&&et[et.length-1].indentLevel>=nt.indentLevel;)et.pop();et.length>0&&et[et.length-1].children.push(nt),et.push(nt)}return $.children[0]}function processAstNode(_e){const $=new Map;createPlaceholderMap(_e,$),replaceTextsWithPlaceholders(_e,$)}const createPlaceholder=_e=>`_P${_e.id}P_`;function createPlaceholderMap(_e,$){const et=createPlaceholder(_e);$.set(et,_e.text),_e.children.forEach(tt=>{createPlaceholderMap(tt,$)})}function replaceTextsWithPlaceholders(_e,$){_e.children.length>0&&_e.children.forEach(et=>{const tt=createPlaceholder(et);$.has(tt)&&(_e.text=_e.text.replace($.get(tt),tt)),replaceTextsWithPlaceholders(et,$)})}function convertAstNode2MyNode(_e,$){const et={parent:$?.id.toString()??"",id:_e.id.toString(),type:_e.type,defaultContent:_e.text,content:"",backStickIds:[],name:_e.fieldName,children:_e.children.map(nt=>nt.id.toString())};$&&(et.name===FiledName.body||et.name===FiledName.parameters)?$.type===NodeType$1.function_definition&&$.children.find(rt=>rt.type===NodeType$1.identifier&&rt.fieldName===FiledName.name)?.text==="__init__"&&(et.name=`${et.name}_init`):_e.type===NodeType$1.expression_statement&&_e.children.length===1&&isPlaceholderIdentifier({type:_e.children[0].type,defaultContent:_e.children[0].text})&&(et.defaultContent=_e.children[0].text,_e.children=[],et.children=[]);const tt=_e.children.flatMap(nt=>convertAstNode2MyNode(nt,_e));return[et,...tt]}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(_e,$){(function(){var et,tt="4.17.21",nt=200,rt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",it="Expected a function",ot="Invalid `variable` option passed into `_.template`",lt="__lodash_hash_undefined__",ut=500,ct="__lodash_placeholder__",ht=1,dt=2,mt=4,gt=1,Ot=2,wt=1,St=2,vt=4,Tt=8,Et=16,Pt=32,Mt=64,Rt=128,Lt=256,Wt=512,Ft=30,Ut="...",Xt=800,ln=16,cn=1,yn=2,En=3,vn=1/0,Bt=9007199254740991,jt=17976931348623157e292,zt=NaN,Kt=4294967295,Sn=Kt-1,Hn=Kt>>>1,Qn=[["ary",Rt],["bind",wt],["bindKey",St],["curry",Tt],["curryRight",Et],["flip",Wt],["partial",Pt],["partialRight",Mt],["rearg",Lt]],Vn="[object Arguments]",Wn="[object Array]",jr="[object AsyncFunction]",uo="[object Boolean]",co="[object Date]",Lm="[object DOMException]",Mo="[object Error]",Ao="[object Function]",uu="[object GeneratorFunction]",fr="[object Map]",fo="[object Number]",Qm="[object Null]",Sr="[object Object]",cu="[object Promise]",Bm="[object Proxy]",ho="[object RegExp]",hr="[object Set]",po="[object String]",No="[object Symbol]",Fm="[object Undefined]",mo="[object WeakMap]",Vm="[object WeakSet]",go="[object ArrayBuffer]",Zr="[object DataView]",Ts="[object Float32Array]",bs="[object Float64Array]",ks="[object Int8Array]",Es="[object Int16Array]",Ps="[object Int32Array]",Cs="[object Uint8Array]",$s="[object Uint8ClampedArray]",Rs="[object Uint16Array]",Ms="[object Uint32Array]",Wm=/\b__p \+= '';/g,qm=/\b(__p \+=) '' \+/g,zm=/(__e\(.*?\)|\b__t\)) \+\n'';/g,fu=/&(?:amp|lt|gt|quot|#39);/g,hu=/[&<>"']/g,Um=RegExp(fu.source),Hm=RegExp(hu.source),Xm=/<%-([\s\S]+?)%>/g,jm=/<%([\s\S]+?)%>/g,du=/<%=([\s\S]+?)%>/g,Zm=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ym=/^\w*$/,Gm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,As=/[\\^$.*+?()[\]{}|]/g,Km=RegExp(As.source),Ns=/^\s+/,Jm=/\s/,_g=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,e0=/\{\n\/\* \[wrapped with (.+)\] \*/,t0=/,? & /,n0=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,r0=/[()=,{}\[\]\/\s]/,i0=/\\(\\)?/g,o0=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pu=/\w*$/,s0=/^[-+]0x[0-9a-f]+$/i,l0=/^0b[01]+$/i,a0=/^\[object .+?Constructor\]$/,u0=/^0o[0-7]+$/i,c0=/^(?:0|[1-9]\d*)$/,f0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Io=/($^)/,h0=/['\n\r\u2028\u2029\\]/g,Do="\\ud800-\\udfff",d0="\\u0300-\\u036f",p0="\\ufe20-\\ufe2f",m0="\\u20d0-\\u20ff",mu=d0+p0+m0,gu="\\u2700-\\u27bf",Ou="a-z\\xdf-\\xf6\\xf8-\\xff",g0="\\xac\\xb1\\xd7\\xf7",O0="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",y0="\\u2000-\\u206f",v0=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yu="A-Z\\xc0-\\xd6\\xd8-\\xde",vu="\\ufe0e\\ufe0f",Su=g0+O0+y0+v0,Is="['’]",S0="["+Do+"]",_u="["+Su+"]",Lo="["+mu+"]",wu="\\d+",_0="["+gu+"]",xu="["+Ou+"]",Tu="[^"+Do+Su+wu+gu+Ou+yu+"]",Ds="\\ud83c[\\udffb-\\udfff]",w0="(?:"+Lo+"|"+Ds+")",bu="[^"+Do+"]",Ls="(?:\\ud83c[\\udde6-\\uddff]){2}",Qs="[\\ud800-\\udbff][\\udc00-\\udfff]",Yr="["+yu+"]",ku="\\u200d",Eu="(?:"+xu+"|"+Tu+")",x0="(?:"+Yr+"|"+Tu+")",Pu="(?:"+Is+"(?:d|ll|m|re|s|t|ve))?",Cu="(?:"+Is+"(?:D|LL|M|RE|S|T|VE))?",$u=w0+"?",Ru="["+vu+"]?",T0="(?:"+ku+"(?:"+[bu,Ls,Qs].join("|")+")"+Ru+$u+")*",b0="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",k0="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mu=Ru+$u+T0,E0="(?:"+[_0,Ls,Qs].join("|")+")"+Mu,P0="(?:"+[bu+Lo+"?",Lo,Ls,Qs,S0].join("|")+")",C0=RegExp(Is,"g"),$0=RegExp(Lo,"g"),Bs=RegExp(Ds+"(?="+Ds+")|"+P0+Mu,"g"),R0=RegExp([Yr+"?"+xu+"+"+Pu+"(?="+[_u,Yr,"$"].join("|")+")",x0+"+"+Cu+"(?="+[_u,Yr+Eu,"$"].join("|")+")",Yr+"?"+Eu+"+"+Pu,Yr+"+"+Cu,k0,b0,wu,E0].join("|"),"g"),M0=RegExp("["+ku+Do+mu+vu+"]"),A0=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,N0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],I0=-1,kn={};kn[Ts]=kn[bs]=kn[ks]=kn[Es]=kn[Ps]=kn[Cs]=kn[$s]=kn[Rs]=kn[Ms]=!0,kn[Vn]=kn[Wn]=kn[go]=kn[uo]=kn[Zr]=kn[co]=kn[Mo]=kn[Ao]=kn[fr]=kn[fo]=kn[Sr]=kn[ho]=kn[hr]=kn[po]=kn[mo]=!1;var bn={};bn[Vn]=bn[Wn]=bn[go]=bn[Zr]=bn[uo]=bn[co]=bn[Ts]=bn[bs]=bn[ks]=bn[Es]=bn[Ps]=bn[fr]=bn[fo]=bn[Sr]=bn[ho]=bn[hr]=bn[po]=bn[No]=bn[Cs]=bn[$s]=bn[Rs]=bn[Ms]=!0,bn[Mo]=bn[Ao]=bn[mo]=!1;var D0={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},L0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Q0={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},B0={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},F0=parseFloat,V0=parseInt,Au=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,W0=typeof self=="object"&&self&&self.Object===Object&&self,Dn=Au||W0||Function("return this")(),Fs=$&&!$.nodeType&&$,Br=Fs&&!0&&_e&&!_e.nodeType&&_e,Nu=Br&&Br.exports===Fs,Vs=Nu&&Au.process,rr=function(){try{var Ct=Br&&Br.require&&Br.require("util").types;return Ct||Vs&&Vs.binding&&Vs.binding("util")}catch{}}(),Iu=rr&&rr.isArrayBuffer,Du=rr&&rr.isDate,Lu=rr&&rr.isMap,Qu=rr&&rr.isRegExp,Bu=rr&&rr.isSet,Fu=rr&&rr.isTypedArray;function Gn(Ct,Nt,At){switch(At.length){case 0:return Ct.call(Nt);case 1:return Ct.call(Nt,At[0]);case 2:return Ct.call(Nt,At[0],At[1]);case 3:return Ct.call(Nt,At[0],At[1],At[2])}return Ct.apply(Nt,At)}function q0(Ct,Nt,At,qt){for(var Jt=-1,_n=Ct==null?0:Ct.length;++Jt<_n;){var An=Ct[Jt];Nt(qt,An,At(An),Ct)}return qt}function ir(Ct,Nt){for(var At=-1,qt=Ct==null?0:Ct.length;++At<qt&&Nt(Ct[At],At,Ct)!==!1;);return Ct}function z0(Ct,Nt){for(var At=Ct==null?0:Ct.length;At--&&Nt(Ct[At],At,Ct)!==!1;);return Ct}function Vu(Ct,Nt){for(var At=-1,qt=Ct==null?0:Ct.length;++At<qt;)if(!Nt(Ct[At],At,Ct))return!1;return!0}function $r(Ct,Nt){for(var At=-1,qt=Ct==null?0:Ct.length,Jt=0,_n=[];++At<qt;){var An=Ct[At];Nt(An,At,Ct)&&(_n[Jt++]=An)}return _n}function Qo(Ct,Nt){var At=Ct==null?0:Ct.length;return!!At&&Gr(Ct,Nt,0)>-1}function Ws(Ct,Nt,At){for(var qt=-1,Jt=Ct==null?0:Ct.length;++qt<Jt;)if(At(Nt,Ct[qt]))return!0;return!1}function Pn(Ct,Nt){for(var At=-1,qt=Ct==null?0:Ct.length,Jt=Array(qt);++At<qt;)Jt[At]=Nt(Ct[At],At,Ct);return Jt}function Rr(Ct,Nt){for(var At=-1,qt=Nt.length,Jt=Ct.length;++At<qt;)Ct[Jt+At]=Nt[At];return Ct}function qs(Ct,Nt,At,qt){var Jt=-1,_n=Ct==null?0:Ct.length;for(qt&&_n&&(At=Ct[++Jt]);++Jt<_n;)At=Nt(At,Ct[Jt],Jt,Ct);return At}function U0(Ct,Nt,At,qt){var Jt=Ct==null?0:Ct.length;for(qt&&Jt&&(At=Ct[--Jt]);Jt--;)At=Nt(At,Ct[Jt],Jt,Ct);return At}function zs(Ct,Nt){for(var At=-1,qt=Ct==null?0:Ct.length;++At<qt;)if(Nt(Ct[At],At,Ct))return!0;return!1}var H0=Us("length");function X0(Ct){return Ct.split("")}function j0(Ct){return Ct.match(n0)||[]}function Wu(Ct,Nt,At){var qt;return At(Ct,function(Jt,_n,An){if(Nt(Jt,_n,An))return qt=_n,!1}),qt}function Bo(Ct,Nt,At,qt){for(var Jt=Ct.length,_n=At+(qt?1:-1);qt?_n--:++_n<Jt;)if(Nt(Ct[_n],_n,Ct))return _n;return-1}function Gr(Ct,Nt,At){return Nt===Nt?sO(Ct,Nt,At):Bo(Ct,qu,At)}function Z0(Ct,Nt,At,qt){for(var Jt=At-1,_n=Ct.length;++Jt<_n;)if(qt(Ct[Jt],Nt))return Jt;return-1}function qu(Ct){return Ct!==Ct}function zu(Ct,Nt){var At=Ct==null?0:Ct.length;return At?Xs(Ct,Nt)/At:zt}function Us(Ct){return function(Nt){return Nt==null?et:Nt[Ct]}}function Hs(Ct){return function(Nt){return Ct==null?et:Ct[Nt]}}function Uu(Ct,Nt,At,qt,Jt){return Jt(Ct,function(_n,An,Tn){At=qt?(qt=!1,_n):Nt(At,_n,An,Tn)}),At}function Y0(Ct,Nt){var At=Ct.length;for(Ct.sort(Nt);At--;)Ct[At]=Ct[At].value;return Ct}function Xs(Ct,Nt){for(var At,qt=-1,Jt=Ct.length;++qt<Jt;){var _n=Nt(Ct[qt]);_n!==et&&(At=At===et?_n:At+_n)}return At}function js(Ct,Nt){for(var At=-1,qt=Array(Ct);++At<Ct;)qt[At]=Nt(At);return qt}function G0(Ct,Nt){return Pn(Nt,function(At){return[At,Ct[At]]})}function Hu(Ct){return Ct&&Ct.slice(0,Yu(Ct)+1).replace(Ns,"")}function Kn(Ct){return function(Nt){return Ct(Nt)}}function Zs(Ct,Nt){return Pn(Nt,function(At){return Ct[At]})}function Oo(Ct,Nt){return Ct.has(Nt)}function Xu(Ct,Nt){for(var At=-1,qt=Ct.length;++At<qt&&Gr(Nt,Ct[At],0)>-1;);return At}function ju(Ct,Nt){for(var At=Ct.length;At--&&Gr(Nt,Ct[At],0)>-1;);return At}function K0(Ct,Nt){for(var At=Ct.length,qt=0;At--;)Ct[At]===Nt&&++qt;return qt}var J0=Hs(D0),eO=Hs(L0);function tO(Ct){return"\\"+B0[Ct]}function nO(Ct,Nt){return Ct==null?et:Ct[Nt]}function Kr(Ct){return M0.test(Ct)}function rO(Ct){return A0.test(Ct)}function iO(Ct){for(var Nt,At=[];!(Nt=Ct.next()).done;)At.push(Nt.value);return At}function Ys(Ct){var Nt=-1,At=Array(Ct.size);return Ct.forEach(function(qt,Jt){At[++Nt]=[Jt,qt]}),At}function Zu(Ct,Nt){return function(At){return Ct(Nt(At))}}function Mr(Ct,Nt){for(var At=-1,qt=Ct.length,Jt=0,_n=[];++At<qt;){var An=Ct[At];(An===Nt||An===ct)&&(Ct[At]=ct,_n[Jt++]=At)}return _n}function Fo(Ct){var Nt=-1,At=Array(Ct.size);return Ct.forEach(function(qt){At[++Nt]=qt}),At}function oO(Ct){var Nt=-1,At=Array(Ct.size);return Ct.forEach(function(qt){At[++Nt]=[qt,qt]}),At}function sO(Ct,Nt,At){for(var qt=At-1,Jt=Ct.length;++qt<Jt;)if(Ct[qt]===Nt)return qt;return-1}function lO(Ct,Nt,At){for(var qt=At+1;qt--;)if(Ct[qt]===Nt)return qt;return qt}function Jr(Ct){return Kr(Ct)?uO(Ct):H0(Ct)}function dr(Ct){return Kr(Ct)?cO(Ct):X0(Ct)}function Yu(Ct){for(var Nt=Ct.length;Nt--&&Jm.test(Ct.charAt(Nt)););return Nt}var aO=Hs(Q0);function uO(Ct){for(var Nt=Bs.lastIndex=0;Bs.test(Ct);)++Nt;return Nt}function cO(Ct){return Ct.match(Bs)||[]}function fO(Ct){return Ct.match(R0)||[]}var hO=function Ct(Nt){Nt=Nt==null?Dn:_i.defaults(Dn.Object(),Nt,_i.pick(Dn,N0));var At=Nt.Array,qt=Nt.Date,Jt=Nt.Error,_n=Nt.Function,An=Nt.Math,Tn=Nt.Object,Gs=Nt.RegExp,dO=Nt.String,or=Nt.TypeError,Vo=At.prototype,pO=_n.prototype,eo=Tn.prototype,Wo=Nt["__core-js_shared__"],qo=pO.toString,xn=eo.hasOwnProperty,mO=0,Gu=function(){var st=/[^.]+$/.exec(Wo&&Wo.keys&&Wo.keys.IE_PROTO||"");return st?"Symbol(src)_1."+st:""}(),zo=eo.toString,gO=qo.call(Tn),OO=Dn._,yO=Gs("^"+qo.call(xn).replace(As,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uo=Nu?Nt.Buffer:et,Ar=Nt.Symbol,Ho=Nt.Uint8Array,Ku=Uo?Uo.allocUnsafe:et,Xo=Zu(Tn.getPrototypeOf,Tn),Ju=Tn.create,_c=eo.propertyIsEnumerable,jo=Vo.splice,_f=Ar?Ar.isConcatSpreadable:et,yo=Ar?Ar.iterator:et,Fr=Ar?Ar.toStringTag:et,Zo=function(){try{var st=Ur(Tn,"defineProperty");return st({},"",{}),st}catch{}}(),vO=Nt.clearTimeout!==Dn.clearTimeout&&Nt.clearTimeout,SO=qt&&qt.now!==Dn.Date.now&&qt.now,_O=Nt.setTimeout!==Dn.setTimeout&&Nt.setTimeout,Yo=An.ceil,Go=An.floor,Ks=Tn.getOwnPropertySymbols,wO=Uo?Uo.isBuffer:et,_h=Nt.isFinite,xO=Vo.join,TO=Zu(Tn.keys,Tn),Nn=An.max,Bn=An.min,bO=qt.now,kO=Nt.parseInt,_d=An.random,EO=Vo.reverse,Js=Ur(Nt,"DataView"),vo=Ur(Nt,"Map"),Ol=Ur(Nt,"Promise"),to=Ur(Nt,"Set"),So=Ur(Nt,"WeakMap"),_o=Ur(Tn,"create"),Ko=So&&new So,no={},PO=Hr(Js),CO=Hr(vo),$O=Hr(Ol),RO=Hr(to),MO=Hr(So),Jo=Ar?Ar.prototype:et,wo=Jo?Jo.valueOf:et,ep=Jo?Jo.toString:et;function _t(st){if($n(st)&&!sn(st)&&!(st instanceof gn)){if(st instanceof sr)return st;if(xn.call(st,"__wrapped__"))return tm(st)}return new sr(st)}var ro=function(){function st(){}return function(at){if(!Cn(at))return{};if(Ju)return Ju(at);st.prototype=at;var ft=new st;return st.prototype=et,ft}}();function es(){}function sr(st,at){this.__wrapped__=st,this.__actions__=[],this.__chain__=!!at,this.__index__=0,this.__values__=et}_t.templateSettings={escape:Xm,evaluate:jm,interpolate:du,variable:"",imports:{_:_t}},_t.prototype=es.prototype,_t.prototype.constructor=_t,sr.prototype=ro(es.prototype),sr.prototype.constructor=sr;function gn(st){this.__wrapped__=st,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Kt,this.__views__=[]}function AO(){var st=new gn(this.__wrapped__);return st.__actions__=Xn(this.__actions__),st.__dir__=this.__dir__,st.__filtered__=this.__filtered__,st.__iteratees__=Xn(this.__iteratees__),st.__takeCount__=this.__takeCount__,st.__views__=Xn(this.__views__),st}function NO(){if(this.__filtered__){var st=new gn(this);st.__dir__=-1,st.__filtered__=!0}else st=this.clone(),st.__dir__*=-1;return st}function IO(){var st=this.__wrapped__.value(),at=this.__dir__,ft=sn(st),pt=at<0,yt=ft?st.length:0,xt=Xy(0,yt,this.__views__),bt=xt.start,kt=xt.end,$t=kt-bt,It=pt?kt:bt-1,Dt=this.__iteratees__,Qt=Dt.length,Vt=0,Ht=Bn($t,this.__takeCount__);if(!ft||!pt&&yt==$t&&Ht==$t)return Tp(st,this.__actions__);var Yt=[];e:for(;$t--&&Vt<Ht;){It+=at;for(var dn=-1,Gt=st[It];++dn<Qt;){var mn=Dt[dn],On=mn.iteratee,tr=mn.type,Un=On(Gt);if(tr==yn)Gt=Un;else if(!Un){if(tr==cn)continue e;break e}}Yt[Vt++]=Gt}return Yt}gn.prototype=ro(es.prototype),gn.prototype.constructor=gn;function Vr(st){var at=-1,ft=st==null?0:st.length;for(this.clear();++at<ft;){var pt=st[at];this.set(pt[0],pt[1])}}function DO(){this.__data__=_o?_o(null):{},this.size=0}function LO(st){var at=this.has(st)&&delete this.__data__[st];return this.size-=at?1:0,at}function QO(st){var at=this.__data__;if(_o){var ft=at[st];return ft===lt?et:ft}return xn.call(at,st)?at[st]:et}function BO(st){var at=this.__data__;return _o?at[st]!==et:xn.call(at,st)}function FO(st,at){var ft=this.__data__;return this.size+=this.has(st)?0:1,ft[st]=_o&&at===et?lt:at,this}Vr.prototype.clear=DO,Vr.prototype.delete=LO,Vr.prototype.get=QO,Vr.prototype.has=BO,Vr.prototype.set=FO;function _r(st){var at=-1,ft=st==null?0:st.length;for(this.clear();++at<ft;){var pt=st[at];this.set(pt[0],pt[1])}}function VO(){this.__data__=[],this.size=0}function WO(st){var at=this.__data__,ft=ts(at,st);if(ft<0)return!1;var pt=at.length-1;return ft==pt?at.pop():jo.call(at,ft,1),--this.size,!0}function qO(st){var at=this.__data__,ft=ts(at,st);return ft<0?et:at[ft][1]}function zO(st){return ts(this.__data__,st)>-1}function UO(st,at){var ft=this.__data__,pt=ts(ft,st);return pt<0?(++this.size,ft.push([st,at])):ft[pt][1]=at,this}_r.prototype.clear=VO,_r.prototype.delete=WO,_r.prototype.get=qO,_r.prototype.has=zO,_r.prototype.set=UO;function wr(st){var at=-1,ft=st==null?0:st.length;for(this.clear();++at<ft;){var pt=st[at];this.set(pt[0],pt[1])}}function HO(){this.size=0,this.__data__={hash:new Vr,map:new(vo||_r),string:new Vr}}function XO(st){var at=ps(this,st).delete(st);return this.size-=at?1:0,at}function jO(st){return ps(this,st).get(st)}function ZO(st){return ps(this,st).has(st)}function YO(st,at){var ft=ps(this,st),pt=ft.size;return ft.set(st,at),this.size+=ft.size==pt?0:1,this}wr.prototype.clear=HO,wr.prototype.delete=XO,wr.prototype.get=jO,wr.prototype.has=ZO,wr.prototype.set=YO;function Wr(st){var at=-1,ft=st==null?0:st.length;for(this.__data__=new wr;++at<ft;)this.add(st[at])}function GO(st){return this.__data__.set(st,lt),this}function KO(st){return this.__data__.has(st)}Wr.prototype.add=Wr.prototype.push=GO,Wr.prototype.has=KO;function pr(st){var at=this.__data__=new _r(st);this.size=at.size}function JO(){this.__data__=new _r,this.size=0}function ey(st){var at=this.__data__,ft=at.delete(st);return this.size=at.size,ft}function ty(st){return this.__data__.get(st)}function ny(st){return this.__data__.has(st)}function ry(st,at){var ft=this.__data__;if(ft instanceof _r){var pt=ft.__data__;if(!vo||pt.length<nt-1)return pt.push([st,at]),this.size=++ft.size,this;ft=this.__data__=new wr(pt)}return ft.set(st,at),this.size=ft.size,this}pr.prototype.clear=JO,pr.prototype.delete=ey,pr.prototype.get=ty,pr.prototype.has=ny,pr.prototype.set=ry;function tp(st,at){var ft=sn(st),pt=!ft&&Xr(st),yt=!ft&&!pt&&Qr(st),xt=!ft&&!pt&&!yt&&lo(st),bt=ft||pt||yt||xt,kt=bt?js(st.length,dO):[],$t=kt.length;for(var It in st)(at||xn.call(st,It))&&!(bt&&(It=="length"||yt&&(It=="offset"||It=="parent")||xt&&(It=="buffer"||It=="byteLength"||It=="byteOffset")||kr(It,$t)))&&kt.push(It);return kt}function np(st){var at=st.length;return at?st[Ml(0,at-1)]:et}function iy(st,at){return ms(Xn(st),qr(at,0,st.length))}function oy(st){return ms(Xn(st))}function yl(st,at,ft){(ft!==et&&!mr(st[at],ft)||ft===et&&!(at in st))&&xr(st,at,ft)}function xo(st,at,ft){var pt=st[at];(!(xn.call(st,at)&&mr(pt,ft))||ft===et&&!(at in st))&&xr(st,at,ft)}function ts(st,at){for(var ft=st.length;ft--;)if(mr(st[ft][0],at))return ft;return-1}function sy(st,at,ft,pt){return Nr(st,function(yt,xt,bt){at(pt,yt,ft(yt),bt)}),pt}function rp(st,at){return st&&yr(at,In(at),st)}function ly(st,at){return st&&yr(at,Zn(at),st)}function xr(st,at,ft){at=="__proto__"&&Zo?Zo(st,at,{configurable:!0,enumerable:!0,value:ft,writable:!0}):st[at]=ft}function Sl(st,at){for(var ft=-1,pt=at.length,yt=At(pt),xt=st==null;++ft<pt;)yt[ft]=xt?et:eu(st,at[ft]);return yt}function qr(st,at,ft){return st===st&&(ft!==et&&(st=st<=ft?st:ft),at!==et&&(st=st>=at?st:at)),st}function lr(st,at,ft,pt,yt,xt){var bt,kt=at&ht,$t=at&dt,It=at&mt;if(ft&&(bt=yt?ft(st,pt,yt,xt):ft(st)),bt!==et)return bt;if(!Cn(st))return st;var Dt=sn(st);if(Dt){if(bt=Zy(st),!kt)return Xn(st,bt)}else{var Qt=Fn(st),Vt=Qt==Ao||Qt==uu;if(Qr(st))return Ep(st,kt);if(Qt==Sr||Qt==Vn||Vt&&!yt){if(bt=$t||Vt?{}:Hp(st),!kt)return $t?Qy(st,ly(bt,st)):Ly(st,rp(bt,st))}else{if(!bn[Qt])return yt?st:{};bt=Yy(st,Qt,kt)}}xt||(xt=new pr);var Ht=xt.get(st);if(Ht)return Ht;xt.set(st,bt),_m(st)?st.forEach(function(Gt){bt.add(lr(Gt,at,ft,Gt,st,xt))}):vm(st)&&st.forEach(function(Gt,mn){bt.set(mn,lr(Gt,at,ft,mn,st,xt))});var Yt=It?$t?zl:Wl:$t?Zn:In,dn=Dt?et:Yt(st);return ir(dn||st,function(Gt,mn){dn&&(mn=Gt,Gt=st[mn]),xo(bt,mn,lr(Gt,at,ft,mn,st,xt))}),bt}function ay(st){var at=In(st);return function(ft){return ip(ft,st,at)}}function ip(st,at,ft){var pt=ft.length;if(st==null)return!pt;for(st=Tn(st);pt--;){var yt=ft[pt],xt=at[yt],bt=st[yt];if(bt===et&&!(yt in st)||!xt(bt))return!1}return!0}function op(st,at,ft){if(typeof st!="function")throw new or(it);return $o(function(){st.apply(et,ft)},at)}function To(st,at,ft,pt){var yt=-1,xt=Qo,bt=!0,kt=st.length,$t=[],It=at.length;if(!kt)return $t;ft&&(at=Pn(at,Kn(ft))),pt?(xt=Ws,bt=!1):at.length>=nt&&(xt=Oo,bt=!1,at=new Wr(at));e:for(;++yt<kt;){var Dt=st[yt],Qt=ft==null?Dt:ft(Dt);if(Dt=pt||Dt!==0?Dt:0,bt&&Qt===Qt){for(var Vt=It;Vt--;)if(at[Vt]===Qt)continue e;$t.push(Dt)}else xt(at,Qt,pt)||$t.push(Dt)}return $t}var Nr=Mp(Or),sp=Mp(xl,!0);function uy(st,at){var ft=!0;return Nr(st,function(pt,yt,xt){return ft=!!at(pt,yt,xt),ft}),ft}function ns(st,at,ft){for(var pt=-1,yt=st.length;++pt<yt;){var xt=st[pt],bt=at(xt);if(bt!=null&&(kt===et?bt===bt&&!er(bt):ft(bt,kt)))var kt=bt,$t=xt}return $t}function cy(st,at,ft,pt){var yt=st.length;for(ft=hn(ft),ft<0&&(ft=-ft>yt?0:yt+ft),pt=pt===et||pt>yt?yt:hn(pt),pt<0&&(pt+=yt),pt=ft>pt?0:xm(pt);ft<pt;)st[ft++]=at;return st}function lp(st,at){var ft=[];return Nr(st,function(pt,yt,xt){at(pt,yt,xt)&&ft.push(pt)}),ft}function Ln(st,at,ft,pt,yt){var xt=-1,bt=st.length;for(ft||(ft=Ky),yt||(yt=[]);++xt<bt;){var kt=st[xt];at>0&&ft(kt)?at>1?Ln(kt,at-1,ft,pt,yt):Rr(yt,kt):pt||(yt[yt.length]=kt)}return yt}var _l=Ap(),ap=Ap(!0);function Or(st,at){return st&&_l(st,at,In)}function xl(st,at){return st&&ap(st,at,In)}function rs(st,at){return $r(at,function(ft){return Er(st[ft])})}function zr(st,at){at=Dr(at,st);for(var ft=0,pt=at.length;st!=null&&ft<pt;)st=st[vr(at[ft++])];return ft&&ft==pt?st:et}function up(st,at,ft){var pt=at(st);return sn(st)?pt:Rr(pt,ft(st))}function qn(st){return st==null?st===et?Fm:Qm:Fr&&Fr in Tn(st)?Hy(st):o1(st)}function Tl(st,at){return st>at}function fy(st,at){return st!=null&&xn.call(st,at)}function hy(st,at){return st!=null&&at in Tn(st)}function dy(st,at,ft){return st>=Bn(at,ft)&&st<Nn(at,ft)}function El(st,at,ft){for(var pt=ft?Ws:Qo,yt=st[0].length,xt=st.length,bt=xt,kt=At(xt),$t=1/0,It=[];bt--;){var Dt=st[bt];bt&&at&&(Dt=Pn(Dt,Kn(at))),$t=Bn(Dt.length,$t),kt[bt]=!ft&&(at||yt>=120&&Dt.length>=120)?new Wr(bt&&Dt):et}Dt=st[0];var Qt=-1,Vt=kt[0];e:for(;++Qt<yt&&It.length<$t;){var Ht=Dt[Qt],Yt=at?at(Ht):Ht;if(Ht=ft||Ht!==0?Ht:0,!(Vt?Oo(Vt,Yt):pt(It,Yt,ft))){for(bt=xt;--bt;){var dn=kt[bt];if(!(dn?Oo(dn,Yt):pt(st[bt],Yt,ft)))continue e}Vt&&Vt.push(Yt),It.push(Ht)}}return It}function py(st,at,ft,pt){return Or(st,function(yt,xt,bt){at(pt,ft(yt),xt,bt)}),pt}function bo(st,at,ft){at=Dr(at,st),st=Yp(st,at);var pt=st==null?st:st[vr(ur(at))];return pt==null?et:Gn(pt,st,ft)}function cp(st){return $n(st)&&qn(st)==Vn}function my(st){return $n(st)&&qn(st)==go}function gy(st){return $n(st)&&qn(st)==co}function ko(st,at,ft,pt,yt){return st===at?!0:st==null||at==null||!$n(st)&&!$n(at)?st!==st&&at!==at:Oy(st,at,ft,pt,ko,yt)}function Oy(st,at,ft,pt,yt,xt){var bt=sn(st),kt=sn(at),$t=bt?Wn:Fn(st),It=kt?Wn:Fn(at);$t=$t==Vn?Sr:$t,It=It==Vn?Sr:It;var Dt=$t==Sr,Qt=It==Sr,Vt=$t==It;if(Vt&&Qr(st)){if(!Qr(at))return!1;bt=!0,Dt=!1}if(Vt&&!Dt)return xt||(xt=new pr),bt||lo(st)?qp(st,at,ft,pt,yt,xt):zy(st,at,$t,ft,pt,yt,xt);if(!(ft&gt)){var Ht=Dt&&xn.call(st,"__wrapped__"),Yt=Qt&&xn.call(at,"__wrapped__");if(Ht||Yt){var dn=Ht?st.value():st,Gt=Yt?at.value():at;return xt||(xt=new pr),yt(dn,Gt,ft,pt,xt)}}return Vt?(xt||(xt=new pr),Uy(st,at,ft,pt,yt,xt)):!1}function yy(st){return $n(st)&&Fn(st)==fr}function Pl(st,at,ft,pt){var yt=ft.length,xt=yt,bt=!pt;if(st==null)return!xt;for(st=Tn(st);yt--;){var kt=ft[yt];if(bt&&kt[2]?kt[1]!==st[kt[0]]:!(kt[0]in st))return!1}for(;++yt<xt;){kt=ft[yt];var $t=kt[0],It=st[$t],Dt=kt[1];if(bt&&kt[2]){if(It===et&&!($t in st))return!1}else{var Qt=new pr;if(pt)var Vt=pt(It,Dt,$t,st,at,Qt);if(!(Vt===et?ko(Dt,It,gt|Ot,pt,Qt):Vt))return!1}}return!0}function fp(st){if(!Cn(st)||e1(st))return!1;var at=Er(st)?yO:a0;return at.test(Hr(st))}function vy(st){return $n(st)&&qn(st)==ho}function Sy(st){return $n(st)&&Fn(st)==hr}function _y(st){return $n(st)&&_s(st.length)&&!!kn[qn(st)]}function hp(st){return typeof st=="function"?st:st==null?Yn:typeof st=="object"?sn(st)?mp(st[0],st[1]):pp(st):Nm(st)}function Cl(st){if(!Co(st))return TO(st);var at=[];for(var ft in Tn(st))xn.call(st,ft)&&ft!="constructor"&&at.push(ft);return at}function wy(st){if(!Cn(st))return i1(st);var at=Co(st),ft=[];for(var pt in st)pt=="constructor"&&(at||!xn.call(st,pt))||ft.push(pt);return ft}function $l(st,at){return st<at}function dp(st,at){var ft=-1,pt=jn(st)?At(st.length):[];return Nr(st,function(yt,xt,bt){pt[++ft]=at(yt,xt,bt)}),pt}function pp(st){var at=Hl(st);return at.length==1&&at[0][2]?jp(at[0][0],at[0][1]):function(ft){return ft===st||Pl(ft,st,at)}}function mp(st,at){return Zl(st)&&Xp(at)?jp(vr(st),at):function(ft){var pt=eu(ft,st);return pt===et&&pt===at?tu(ft,st):ko(at,pt,gt|Ot)}}function is(st,at,ft,pt,yt){st!==at&&_l(at,function(xt,bt){if(yt||(yt=new pr),Cn(xt))xy(st,at,bt,ft,is,pt,yt);else{var kt=pt?pt(Gl(st,bt),xt,bt+"",st,at,yt):et;kt===et&&(kt=xt),yl(st,bt,kt)}},Zn)}function xy(st,at,ft,pt,yt,xt,bt){var kt=Gl(st,ft),$t=Gl(at,ft),It=bt.get($t);if(It){yl(st,ft,It);return}var Dt=xt?xt(kt,$t,ft+"",st,at,bt):et,Qt=Dt===et;if(Qt){var Vt=sn($t),Ht=!Vt&&Qr($t),Yt=!Vt&&!Ht&&lo($t);Dt=$t,Vt||Ht||Yt?sn(kt)?Dt=kt:Rn(kt)?Dt=Xn(kt):Ht?(Qt=!1,Dt=Ep($t,!0)):Yt?(Qt=!1,Dt=Pp($t,!0)):Dt=[]:Ro($t)||Xr($t)?(Dt=kt,Xr(kt)?Dt=Tm(kt):(!Cn(kt)||Er(kt))&&(Dt=Hp($t))):Qt=!1}Qt&&(bt.set($t,Dt),yt(Dt,$t,pt,xt,bt),bt.delete($t)),yl(st,ft,Dt)}function gp(st,at){var ft=st.length;if(ft)return at+=at<0?ft:0,kr(at,ft)?st[at]:et}function Op(st,at,ft){at.length?at=Pn(at,function(xt){return sn(xt)?function(bt){return zr(bt,xt.length===1?xt[0]:xt)}:xt}):at=[Yn];var pt=-1;at=Pn(at,Kn(Zt()));var yt=dp(st,function(xt,bt,kt){var $t=Pn(at,function(It){return It(xt)});return{criteria:$t,index:++pt,value:xt}});return Y0(yt,function(xt,bt){return Dy(xt,bt,ft)})}function Ty(st,at){return yp(st,at,function(ft,pt){return tu(st,pt)})}function yp(st,at,ft){for(var pt=-1,yt=at.length,xt={};++pt<yt;){var bt=at[pt],kt=zr(st,bt);ft(kt,bt)&&Eo(xt,Dr(bt,st),kt)}return xt}function by(st){return function(at){return zr(at,st)}}function Rl(st,at,ft,pt){var yt=pt?Z0:Gr,xt=-1,bt=at.length,kt=st;for(st===at&&(at=Xn(at)),ft&&(kt=Pn(st,Kn(ft)));++xt<bt;)for(var $t=0,It=at[xt],Dt=ft?ft(It):It;($t=yt(kt,Dt,$t,pt))>-1;)kt!==st&&jo.call(kt,$t,1),jo.call(st,$t,1);return st}function vp(st,at){for(var ft=st?at.length:0,pt=ft-1;ft--;){var yt=at[ft];if(ft==pt||yt!==xt){var xt=yt;kr(yt)?jo.call(st,yt,1):Il(st,yt)}}return st}function Ml(st,at){return st+Go(_d()*(at-st+1))}function ky(st,at,ft,pt){for(var yt=-1,xt=Nn(Yo((at-st)/(ft||1)),0),bt=At(xt);xt--;)bt[pt?xt:++yt]=st,st+=ft;return bt}function Al(st,at){var ft="";if(!st||at<1||at>Bt)return ft;do at%2&&(ft+=st),at=Go(at/2),at&&(st+=st);while(at);return ft}function pn(st,at){return Kl(Zp(st,at,Yn),st+"")}function Ey(st){return np(ao(st))}function Py(st,at){var ft=ao(st);return ms(ft,qr(at,0,ft.length))}function Eo(st,at,ft,pt){if(!Cn(st))return st;at=Dr(at,st);for(var yt=-1,xt=at.length,bt=xt-1,kt=st;kt!=null&&++yt<xt;){var $t=vr(at[yt]),It=ft;if($t==="__proto__"||$t==="constructor"||$t==="prototype")return st;if(yt!=bt){var Dt=kt[$t];It=pt?pt(Dt,$t,kt):et,It===et&&(It=Cn(Dt)?Dt:kr(at[yt+1])?[]:{})}xo(kt,$t,It),kt=kt[$t]}return st}var Sp=Ko?function(st,at){return Ko.set(st,at),st}:Yn,Cy=Zo?function(st,at){return Zo(st,"toString",{configurable:!0,enumerable:!1,value:ru(at),writable:!0})}:Yn;function $y(st){return ms(ao(st))}function ar(st,at,ft){var pt=-1,yt=st.length;at<0&&(at=-at>yt?0:yt+at),ft=ft>yt?yt:ft,ft<0&&(ft+=yt),yt=at>ft?0:ft-at>>>0,at>>>=0;for(var xt=At(yt);++pt<yt;)xt[pt]=st[pt+at];return xt}function Ry(st,at){var ft;return Nr(st,function(pt,yt,xt){return ft=at(pt,yt,xt),!ft}),!!ft}function os(st,at,ft){var pt=0,yt=st==null?pt:st.length;if(typeof at=="number"&&at===at&&yt<=Hn){for(;pt<yt;){var xt=pt+yt>>>1,bt=st[xt];bt!==null&&!er(bt)&&(ft?bt<=at:bt<at)?pt=xt+1:yt=xt}return yt}return Nl(st,at,Yn,ft)}function Nl(st,at,ft,pt){var yt=0,xt=st==null?0:st.length;if(xt===0)return 0;at=ft(at);for(var bt=at!==at,kt=at===null,$t=er(at),It=at===et;yt<xt;){var Dt=Go((yt+xt)/2),Qt=ft(st[Dt]),Vt=Qt!==et,Ht=Qt===null,Yt=Qt===Qt,dn=er(Qt);if(bt)var Gt=pt||Yt;else It?Gt=Yt&&(pt||Vt):kt?Gt=Yt&&Vt&&(pt||!Ht):$t?Gt=Yt&&Vt&&!Ht&&(pt||!dn):Ht||dn?Gt=!1:Gt=pt?Qt<=at:Qt<at;Gt?yt=Dt+1:xt=Dt}return Bn(xt,Sn)}function _p(st,at){for(var ft=-1,pt=st.length,yt=0,xt=[];++ft<pt;){var bt=st[ft],kt=at?at(bt):bt;if(!ft||!mr(kt,$t)){var $t=kt;xt[yt++]=bt===0?0:bt}}return xt}function wp(st){return typeof st=="number"?st:er(st)?zt:+st}function Jn(st){if(typeof st=="string")return st;if(sn(st))return Pn(st,Jn)+"";if(er(st))return ep?ep.call(st):"";var at=st+"";return at=="0"&&1/st==-vn?"-0":at}function Ir(st,at,ft){var pt=-1,yt=Qo,xt=st.length,bt=!0,kt=[],$t=kt;if(ft)bt=!1,yt=Ws;else if(xt>=nt){var It=at?null:Wy(st);if(It)return Fo(It);bt=!1,yt=Oo,$t=new Wr}else $t=at?[]:kt;e:for(;++pt<xt;){var Dt=st[pt],Qt=at?at(Dt):Dt;if(Dt=ft||Dt!==0?Dt:0,bt&&Qt===Qt){for(var Vt=$t.length;Vt--;)if($t[Vt]===Qt)continue e;at&&$t.push(Qt),kt.push(Dt)}else yt($t,Qt,ft)||($t!==kt&&$t.push(Qt),kt.push(Dt))}return kt}function Il(st,at){return at=Dr(at,st),st=Yp(st,at),st==null||delete st[vr(ur(at))]}function xp(st,at,ft,pt){return Eo(st,at,ft(zr(st,at)),pt)}function ss(st,at,ft,pt){for(var yt=st.length,xt=pt?yt:-1;(pt?xt--:++xt<yt)&&at(st[xt],xt,st););return ft?ar(st,pt?0:xt,pt?xt+1:yt):ar(st,pt?xt+1:0,pt?yt:xt)}function Tp(st,at){var ft=st;return ft instanceof gn&&(ft=ft.value()),qs(at,function(pt,yt){return yt.func.apply(yt.thisArg,Rr([pt],yt.args))},ft)}function Dl(st,at,ft){var pt=st.length;if(pt<2)return pt?Ir(st[0]):[];for(var yt=-1,xt=At(pt);++yt<pt;)for(var bt=st[yt],kt=-1;++kt<pt;)kt!=yt&&(xt[yt]=To(xt[yt]||bt,st[kt],at,ft));return Ir(Ln(xt,1),at,ft)}function bp(st,at,ft){for(var pt=-1,yt=st.length,xt=at.length,bt={};++pt<yt;){var kt=pt<xt?at[pt]:et;ft(bt,st[pt],kt)}return bt}function Ll(st){return Rn(st)?st:[]}function Ql(st){return typeof st=="function"?st:Yn}function Dr(st,at){return sn(st)?st:Zl(st,at)?[st]:em(wn(st))}var My=pn;function Lr(st,at,ft){var pt=st.length;return ft=ft===et?pt:ft,!at&&ft>=pt?st:ar(st,at,ft)}var kp=vO||function(st){return Dn.clearTimeout(st)};function Ep(st,at){if(at)return st.slice();var ft=st.length,pt=Ku?Ku(ft):new st.constructor(ft);return st.copy(pt),pt}function Bl(st){var at=new st.constructor(st.byteLength);return new Ho(at).set(new Ho(st)),at}function Ay(st,at){var ft=at?Bl(st.buffer):st.buffer;return new st.constructor(ft,st.byteOffset,st.byteLength)}function Ny(st){var at=new st.constructor(st.source,pu.exec(st));return at.lastIndex=st.lastIndex,at}function Iy(st){return wo?Tn(wo.call(st)):{}}function Pp(st,at){var ft=at?Bl(st.buffer):st.buffer;return new st.constructor(ft,st.byteOffset,st.length)}function Cp(st,at){if(st!==at){var ft=st!==et,pt=st===null,yt=st===st,xt=er(st),bt=at!==et,kt=at===null,$t=at===at,It=er(at);if(!kt&&!It&&!xt&&st>at||xt&&bt&&$t&&!kt&&!It||pt&&bt&&$t||!ft&&$t||!yt)return 1;if(!pt&&!xt&&!It&&st<at||It&&ft&&yt&&!pt&&!xt||kt&&ft&&yt||!bt&&yt||!$t)return-1}return 0}function Dy(st,at,ft){for(var pt=-1,yt=st.criteria,xt=at.criteria,bt=yt.length,kt=ft.length;++pt<bt;){var $t=Cp(yt[pt],xt[pt]);if($t){if(pt>=kt)return $t;var It=ft[pt];return $t*(It=="desc"?-1:1)}}return st.index-at.index}function $p(st,at,ft,pt){for(var yt=-1,xt=st.length,bt=ft.length,kt=-1,$t=at.length,It=Nn(xt-bt,0),Dt=At($t+It),Qt=!pt;++kt<$t;)Dt[kt]=at[kt];for(;++yt<bt;)(Qt||yt<xt)&&(Dt[ft[yt]]=st[yt]);for(;It--;)Dt[kt++]=st[yt++];return Dt}function Rp(st,at,ft,pt){for(var yt=-1,xt=st.length,bt=-1,kt=ft.length,$t=-1,It=at.length,Dt=Nn(xt-kt,0),Qt=At(Dt+It),Vt=!pt;++yt<Dt;)Qt[yt]=st[yt];for(var Ht=yt;++$t<It;)Qt[Ht+$t]=at[$t];for(;++bt<kt;)(Vt||yt<xt)&&(Qt[Ht+ft[bt]]=st[yt++]);return Qt}function Xn(st,at){var ft=-1,pt=st.length;for(at||(at=At(pt));++ft<pt;)at[ft]=st[ft];return at}function yr(st,at,ft,pt){var yt=!ft;ft||(ft={});for(var xt=-1,bt=at.length;++xt<bt;){var kt=at[xt],$t=pt?pt(ft[kt],st[kt],kt,ft,st):et;$t===et&&($t=st[kt]),yt?xr(ft,kt,$t):xo(ft,kt,$t)}return ft}function Ly(st,at){return yr(st,Xl(st),at)}function Qy(st,at){return yr(st,zp(st),at)}function ls(st,at){return function(ft,pt){var yt=sn(ft)?q0:sy,xt=at?at():{};return yt(ft,st,Zt(pt,2),xt)}}function io(st){return pn(function(at,ft){var pt=-1,yt=ft.length,xt=yt>1?ft[yt-1]:et,bt=yt>2?ft[2]:et;for(xt=st.length>3&&typeof xt=="function"?(yt--,xt):et,bt&&zn(ft[0],ft[1],bt)&&(xt=yt<3?et:xt,yt=1),at=Tn(at);++pt<yt;){var kt=ft[pt];kt&&st(at,kt,pt,xt)}return at})}function Mp(st,at){return function(ft,pt){if(ft==null)return ft;if(!jn(ft))return st(ft,pt);for(var yt=ft.length,xt=at?yt:-1,bt=Tn(ft);(at?xt--:++xt<yt)&&pt(bt[xt],xt,bt)!==!1;);return ft}}function Ap(st){return function(at,ft,pt){for(var yt=-1,xt=Tn(at),bt=pt(at),kt=bt.length;kt--;){var $t=bt[st?kt:++yt];if(ft(xt[$t],$t,xt)===!1)break}return at}}function By(st,at,ft){var pt=at&wt,yt=Po(st);function xt(){var bt=this&&this!==Dn&&this instanceof xt?yt:st;return bt.apply(pt?ft:this,arguments)}return xt}function Np(st){return function(at){at=wn(at);var ft=Kr(at)?dr(at):et,pt=ft?ft[0]:at.charAt(0),yt=ft?Lr(ft,1).join(""):at.slice(1);return pt[st]()+yt}}function oo(st){return function(at){return qs(Mm(Rm(at).replace(C0,"")),st,"")}}function Po(st){return function(){var at=arguments;switch(at.length){case 0:return new st;case 1:return new st(at[0]);case 2:return new st(at[0],at[1]);case 3:return new st(at[0],at[1],at[2]);case 4:return new st(at[0],at[1],at[2],at[3]);case 5:return new st(at[0],at[1],at[2],at[3],at[4]);case 6:return new st(at[0],at[1],at[2],at[3],at[4],at[5]);case 7:return new st(at[0],at[1],at[2],at[3],at[4],at[5],at[6])}var ft=ro(st.prototype),pt=st.apply(ft,at);return Cn(pt)?pt:ft}}function Fy(st,at,ft){var pt=Po(st);function yt(){for(var xt=arguments.length,bt=At(xt),kt=xt,$t=so(yt);kt--;)bt[kt]=arguments[kt];var It=xt<3&&bt[0]!==$t&&bt[xt-1]!==$t?[]:Mr(bt,$t);if(xt-=It.length,xt<ft)return Bp(st,at,as,yt.placeholder,et,bt,It,et,et,ft-xt);var Dt=this&&this!==Dn&&this instanceof yt?pt:st;return Gn(Dt,this,bt)}return yt}function Ip(st){return function(at,ft,pt){var yt=Tn(at);if(!jn(at)){var xt=Zt(ft,3);at=In(at),ft=function(kt){return xt(yt[kt],kt,yt)}}var bt=st(at,ft,pt);return bt>-1?yt[xt?at[bt]:bt]:et}}function Dp(st){return br(function(at){var ft=at.length,pt=ft,yt=sr.prototype.thru;for(st&&at.reverse();pt--;){var xt=at[pt];if(typeof xt!="function")throw new or(it);if(yt&&!bt&&ds(xt)=="wrapper")var bt=new sr([],!0)}for(pt=bt?pt:ft;++pt<ft;){xt=at[pt];var kt=ds(xt),$t=kt=="wrapper"?Ul(xt):et;$t&&Yl($t[0])&&$t[1]==(Rt|Tt|Pt|Lt)&&!$t[4].length&&$t[9]==1?bt=bt[ds($t[0])].apply(bt,$t[3]):bt=xt.length==1&&Yl(xt)?bt[kt]():bt.thru(xt)}return function(){var It=arguments,Dt=It[0];if(bt&&It.length==1&&sn(Dt))return bt.plant(Dt).value();for(var Qt=0,Vt=ft?at[Qt].apply(this,It):Dt;++Qt<ft;)Vt=at[Qt].call(this,Vt);return Vt}})}function as(st,at,ft,pt,yt,xt,bt,kt,$t,It){var Dt=at&Rt,Qt=at&wt,Vt=at&St,Ht=at&(Tt|Et),Yt=at&Wt,dn=Vt?et:Po(st);function Gt(){for(var mn=arguments.length,On=At(mn),tr=mn;tr--;)On[tr]=arguments[tr];if(Ht)var Un=so(Gt),nr=K0(On,Un);if(pt&&(On=$p(On,pt,yt,Ht)),xt&&(On=Rp(On,xt,bt,Ht)),mn-=nr,Ht&&mn<It){var Mn=Mr(On,Un);return Bp(st,at,as,Gt.placeholder,ft,On,Mn,kt,$t,It-mn)}var gr=Qt?ft:this,Cr=Vt?gr[st]:st;return mn=On.length,kt?On=s1(On,kt):Yt&&mn>1&&On.reverse(),Dt&&$t<mn&&(On.length=$t),this&&this!==Dn&&this instanceof Gt&&(Cr=dn||Po(Cr)),Cr.apply(gr,On)}return Gt}function Lp(st,at){return function(ft,pt){return py(ft,st,at(pt),{})}}function us(st,at){return function(ft,pt){var yt;if(ft===et&&pt===et)return at;if(ft!==et&&(yt=ft),pt!==et){if(yt===et)return pt;typeof ft=="string"||typeof pt=="string"?(ft=Jn(ft),pt=Jn(pt)):(ft=wp(ft),pt=wp(pt)),yt=st(ft,pt)}return yt}}function Fl(st){return br(function(at){return at=Pn(at,Kn(Zt())),pn(function(ft){var pt=this;return st(at,function(yt){return Gn(yt,pt,ft)})})})}function cs(st,at){at=at===et?" ":Jn(at);var ft=at.length;if(ft<2)return ft?Al(at,st):at;var pt=Al(at,Yo(st/Jr(at)));return Kr(at)?Lr(dr(pt),0,st).join(""):pt.slice(0,st)}function Vy(st,at,ft,pt){var yt=at&wt,xt=Po(st);function bt(){for(var kt=-1,$t=arguments.length,It=-1,Dt=pt.length,Qt=At(Dt+$t),Vt=this&&this!==Dn&&this instanceof bt?xt:st;++It<Dt;)Qt[It]=pt[It];for(;$t--;)Qt[It++]=arguments[++kt];return Gn(Vt,yt?ft:this,Qt)}return bt}function Qp(st){return function(at,ft,pt){return pt&&typeof pt!="number"&&zn(at,ft,pt)&&(ft=pt=et),at=Pr(at),ft===et?(ft=at,at=0):ft=Pr(ft),pt=pt===et?at<ft?1:-1:Pr(pt),ky(at,ft,pt,st)}}function hs(st){return function(at,ft){return typeof at=="string"&&typeof ft=="string"||(at=cr(at),ft=cr(ft)),st(at,ft)}}function Bp(st,at,ft,pt,yt,xt,bt,kt,$t,It){var Dt=at&Tt,Qt=Dt?bt:et,Vt=Dt?et:bt,Ht=Dt?xt:et,Yt=Dt?et:xt;at|=Dt?Pt:Mt,at&=~(Dt?Mt:Pt),at&vt||(at&=~(wt|St));var dn=[st,at,yt,Ht,Qt,Yt,Vt,kt,$t,It],Gt=ft.apply(et,dn);return Yl(st)&&Gp(Gt,dn),Gt.placeholder=pt,Kp(Gt,st,at)}function Vl(st){var at=An[st];return function(ft,pt){if(ft=cr(ft),pt=pt==null?0:Bn(hn(pt),292),pt&&_h(ft)){var yt=(wn(ft)+"e").split("e"),xt=at(yt[0]+"e"+(+yt[1]+pt));return yt=(wn(xt)+"e").split("e"),+(yt[0]+"e"+(+yt[1]-pt))}return at(ft)}}var Wy=to&&1/Fo(new to([,-0]))[1]==vn?function(st){return new to(st)}:su;function Fp(st){return function(at){var ft=Fn(at);return ft==fr?Ys(at):ft==hr?oO(at):G0(at,st(at))}}function Tr(st,at,ft,pt,yt,xt,bt,kt){var $t=at&St;if(!$t&&typeof st!="function")throw new or(it);var It=pt?pt.length:0;if(It||(at&=~(Pt|Mt),pt=yt=et),bt=bt===et?bt:Nn(hn(bt),0),kt=kt===et?kt:hn(kt),It-=yt?yt.length:0,at&Mt){var Dt=pt,Qt=yt;pt=yt=et}var Vt=$t?et:Ul(st),Ht=[st,at,ft,pt,yt,Dt,Qt,xt,bt,kt];if(Vt&&r1(Ht,Vt),st=Ht[0],at=Ht[1],ft=Ht[2],pt=Ht[3],yt=Ht[4],kt=Ht[9]=Ht[9]===et?$t?0:st.length:Nn(Ht[9]-It,0),!kt&&at&(Tt|Et)&&(at&=~(Tt|Et)),!at||at==wt)var Yt=By(st,at,ft);else at==Tt||at==Et?Yt=Fy(st,at,kt):(at==Pt||at==(wt|Pt))&&!yt.length?Yt=Vy(st,at,ft,pt):Yt=as.apply(et,Ht);var dn=Vt?Sp:Gp;return Kp(dn(Yt,Ht),st,at)}function Vp(st,at,ft,pt){return st===et||mr(st,eo[ft])&&!xn.call(pt,ft)?at:st}function Wp(st,at,ft,pt,yt,xt){return Cn(st)&&Cn(at)&&(xt.set(at,st),is(st,at,et,Wp,xt),xt.delete(at)),st}function qy(st){return Ro(st)?et:st}function qp(st,at,ft,pt,yt,xt){var bt=ft&gt,kt=st.length,$t=at.length;if(kt!=$t&&!(bt&&$t>kt))return!1;var It=xt.get(st),Dt=xt.get(at);if(It&&Dt)return It==at&&Dt==st;var Qt=-1,Vt=!0,Ht=ft&Ot?new Wr:et;for(xt.set(st,at),xt.set(at,st);++Qt<kt;){var Yt=st[Qt],dn=at[Qt];if(pt)var Gt=bt?pt(dn,Yt,Qt,at,st,xt):pt(Yt,dn,Qt,st,at,xt);if(Gt!==et){if(Gt)continue;Vt=!1;break}if(Ht){if(!zs(at,function(mn,On){if(!Oo(Ht,On)&&(Yt===mn||yt(Yt,mn,ft,pt,xt)))return Ht.push(On)})){Vt=!1;break}}else if(!(Yt===dn||yt(Yt,dn,ft,pt,xt))){Vt=!1;break}}return xt.delete(st),xt.delete(at),Vt}function zy(st,at,ft,pt,yt,xt,bt){switch(ft){case Zr:if(st.byteLength!=at.byteLength||st.byteOffset!=at.byteOffset)return!1;st=st.buffer,at=at.buffer;case go:return!(st.byteLength!=at.byteLength||!xt(new Ho(st),new Ho(at)));case uo:case co:case fo:return mr(+st,+at);case Mo:return st.name==at.name&&st.message==at.message;case ho:case po:return st==at+"";case fr:var kt=Ys;case hr:var $t=pt&gt;if(kt||(kt=Fo),st.size!=at.size&&!$t)return!1;var It=bt.get(st);if(It)return It==at;pt|=Ot,bt.set(st,at);var Dt=qp(kt(st),kt(at),pt,yt,xt,bt);return bt.delete(st),Dt;case No:if(wo)return wo.call(st)==wo.call(at)}return!1}function Uy(st,at,ft,pt,yt,xt){var bt=ft&gt,kt=Wl(st),$t=kt.length,It=Wl(at),Dt=It.length;if($t!=Dt&&!bt)return!1;for(var Qt=$t;Qt--;){var Vt=kt[Qt];if(!(bt?Vt in at:xn.call(at,Vt)))return!1}var Ht=xt.get(st),Yt=xt.get(at);if(Ht&&Yt)return Ht==at&&Yt==st;var dn=!0;xt.set(st,at),xt.set(at,st);for(var Gt=bt;++Qt<$t;){Vt=kt[Qt];var mn=st[Vt],On=at[Vt];if(pt)var tr=bt?pt(On,mn,Vt,at,st,xt):pt(mn,On,Vt,st,at,xt);if(!(tr===et?mn===On||yt(mn,On,ft,pt,xt):tr)){dn=!1;break}Gt||(Gt=Vt=="constructor")}if(dn&&!Gt){var Un=st.constructor,nr=at.constructor;Un!=nr&&"constructor"in st&&"constructor"in at&&!(typeof Un=="function"&&Un instanceof Un&&typeof nr=="function"&&nr instanceof nr)&&(dn=!1)}return xt.delete(st),xt.delete(at),dn}function br(st){return Kl(Zp(st,et,im),st+"")}function Wl(st){return up(st,In,Xl)}function zl(st){return up(st,Zn,zp)}var Ul=Ko?function(st){return Ko.get(st)}:su;function ds(st){for(var at=st.name+"",ft=no[at],pt=xn.call(no,at)?ft.length:0;pt--;){var yt=ft[pt],xt=yt.func;if(xt==null||xt==st)return yt.name}return at}function so(st){var at=xn.call(_t,"placeholder")?_t:st;return at.placeholder}function Zt(){var st=_t.iteratee||iu;return st=st===iu?hp:st,arguments.length?st(arguments[0],arguments[1]):st}function ps(st,at){var ft=st.__data__;return Jy(at)?ft[typeof at=="string"?"string":"hash"]:ft.map}function Hl(st){for(var at=In(st),ft=at.length;ft--;){var pt=at[ft],yt=st[pt];at[ft]=[pt,yt,Xp(yt)]}return at}function Ur(st,at){var ft=nO(st,at);return fp(ft)?ft:et}function Hy(st){var at=xn.call(st,Fr),ft=st[Fr];try{st[Fr]=et;var pt=!0}catch{}var yt=zo.call(st);return pt&&(at?st[Fr]=ft:delete st[Fr]),yt}var Xl=Ks?function(st){return st==null?[]:(st=Tn(st),$r(Ks(st),function(at){return _c.call(st,at)}))}:lu,zp=Ks?function(st){for(var at=[];st;)Rr(at,Xl(st)),st=Xo(st);return at}:lu,Fn=qn;(Js&&Fn(new Js(new ArrayBuffer(1)))!=Zr||vo&&Fn(new vo)!=fr||Ol&&Fn(Ol.resolve())!=cu||to&&Fn(new to)!=hr||So&&Fn(new So)!=mo)&&(Fn=function(st){var at=qn(st),ft=at==Sr?st.constructor:et,pt=ft?Hr(ft):"";if(pt)switch(pt){case PO:return Zr;case CO:return fr;case $O:return cu;case RO:return hr;case MO:return mo}return at});function Xy(st,at,ft){for(var pt=-1,yt=ft.length;++pt<yt;){var xt=ft[pt],bt=xt.size;switch(xt.type){case"drop":st+=bt;break;case"dropRight":at-=bt;break;case"take":at=Bn(at,st+bt);break;case"takeRight":st=Nn(st,at-bt);break}}return{start:st,end:at}}function jy(st){var at=st.match(e0);return at?at[1].split(t0):[]}function Up(st,at,ft){at=Dr(at,st);for(var pt=-1,yt=at.length,xt=!1;++pt<yt;){var bt=vr(at[pt]);if(!(xt=st!=null&&ft(st,bt)))break;st=st[bt]}return xt||++pt!=yt?xt:(yt=st==null?0:st.length,!!yt&&_s(yt)&&kr(bt,yt)&&(sn(st)||Xr(st)))}function Zy(st){var at=st.length,ft=new st.constructor(at);return at&&typeof st[0]=="string"&&xn.call(st,"index")&&(ft.index=st.index,ft.input=st.input),ft}function Hp(st){return typeof st.constructor=="function"&&!Co(st)?ro(Xo(st)):{}}function Yy(st,at,ft){var pt=st.constructor;switch(at){case go:return Bl(st);case uo:case co:return new pt(+st);case Zr:return Ay(st,ft);case Ts:case bs:case ks:case Es:case Ps:case Cs:case $s:case Rs:case Ms:return Pp(st,ft);case fr:return new pt;case fo:case po:return new pt(st);case ho:return Ny(st);case hr:return new pt;case No:return Iy(st)}}function Gy(st,at){var ft=at.length;if(!ft)return st;var pt=ft-1;return at[pt]=(ft>1?"& ":"")+at[pt],at=at.join(ft>2?", ":" "),st.replace(_g,`{
/* [wrapped with `+at+`] */
`)}function Ky(st){return sn(st)||Xr(st)||!!(_f&&st&&st[_f])}function kr(st,at){var ft=typeof st;return at=at??Bt,!!at&&(ft=="number"||ft!="symbol"&&c0.test(st))&&st>-1&&st%1==0&&st<at}function zn(st,at,ft){if(!Cn(ft))return!1;var pt=typeof at;return(pt=="number"?jn(ft)&&kr(at,ft.length):pt=="string"&&at in ft)?mr(ft[at],st):!1}function Zl(st,at){if(sn(st))return!1;var ft=typeof st;return ft=="number"||ft=="symbol"||ft=="boolean"||st==null||er(st)?!0:Ym.test(st)||!Zm.test(st)||at!=null&&st in Tn(at)}function Jy(st){var at=typeof st;return at=="string"||at=="number"||at=="symbol"||at=="boolean"?st!=="__proto__":st===null}function Yl(st){var at=ds(st),ft=_t[at];if(typeof ft!="function"||!(at in gn.prototype))return!1;if(st===ft)return!0;var pt=Ul(ft);return!!pt&&st===pt[0]}function e1(st){return!!Gu&&Gu in st}var t1=Wo?Er:au;function Co(st){var at=st&&st.constructor,ft=typeof at=="function"&&at.prototype||eo;return st===ft}function Xp(st){return st===st&&!Cn(st)}function jp(st,at){return function(ft){return ft==null?!1:ft[st]===at&&(at!==et||st in Tn(ft))}}function n1(st){var at=vs(st,function(pt){return ft.size===ut&&ft.clear(),pt}),ft=at.cache;return at}function r1(st,at){var ft=st[1],pt=at[1],yt=ft|pt,xt=yt<(wt|St|Rt),bt=pt==Rt&&ft==Tt||pt==Rt&&ft==Lt&&st[7].length<=at[8]||pt==(Rt|Lt)&&at[7].length<=at[8]&&ft==Tt;if(!(xt||bt))return st;pt&wt&&(st[2]=at[2],yt|=ft&wt?0:vt);var kt=at[3];if(kt){var $t=st[3];st[3]=$t?$p($t,kt,at[4]):kt,st[4]=$t?Mr(st[3],ct):at[4]}return kt=at[5],kt&&($t=st[5],st[5]=$t?Rp($t,kt,at[6]):kt,st[6]=$t?Mr(st[5],ct):at[6]),kt=at[7],kt&&(st[7]=kt),pt&Rt&&(st[8]=st[8]==null?at[8]:Bn(st[8],at[8])),st[9]==null&&(st[9]=at[9]),st[0]=at[0],st[1]=yt,st}function i1(st){var at=[];if(st!=null)for(var ft in Tn(st))at.push(ft);return at}function o1(st){return zo.call(st)}function Zp(st,at,ft){return at=Nn(at===et?st.length-1:at,0),function(){for(var pt=arguments,yt=-1,xt=Nn(pt.length-at,0),bt=At(xt);++yt<xt;)bt[yt]=pt[at+yt];yt=-1;for(var kt=At(at+1);++yt<at;)kt[yt]=pt[yt];return kt[at]=ft(bt),Gn(st,this,kt)}}function Yp(st,at){return at.length<2?st:zr(st,ar(at,0,-1))}function s1(st,at){for(var ft=st.length,pt=Bn(at.length,ft),yt=Xn(st);pt--;){var xt=at[pt];st[pt]=kr(xt,ft)?yt[xt]:et}return st}function Gl(st,at){if(!(at==="constructor"&&typeof st[at]=="function")&&at!="__proto__")return st[at]}var Gp=Jp(Sp),$o=_O||function(st,at){return Dn.setTimeout(st,at)},Kl=Jp(Cy);function Kp(st,at,ft){var pt=at+"";return Kl(st,Gy(pt,l1(jy(pt),ft)))}function Jp(st){var at=0,ft=0;return function(){var pt=bO(),yt=ln-(pt-ft);if(ft=pt,yt>0){if(++at>=Xt)return arguments[0]}else at=0;return st.apply(et,arguments)}}function ms(st,at){var ft=-1,pt=st.length,yt=pt-1;for(at=at===et?pt:at;++ft<at;){var xt=Ml(ft,yt),bt=st[xt];st[xt]=st[ft],st[ft]=bt}return st.length=at,st}var em=n1(function(st){var at=[];return st.charCodeAt(0)===46&&at.push(""),st.replace(Gm,function(ft,pt,yt,xt){at.push(yt?xt.replace(i0,"$1"):pt||ft)}),at});function vr(st){if(typeof st=="string"||er(st))return st;var at=st+"";return at=="0"&&1/st==-vn?"-0":at}function Hr(st){if(st!=null){try{return qo.call(st)}catch{}try{return st+""}catch{}}return""}function l1(st,at){return ir(Qn,function(ft){var pt="_."+ft[0];at&ft[1]&&!Qo(st,pt)&&st.push(pt)}),st.sort()}function tm(st){if(st instanceof gn)return st.clone();var at=new sr(st.__wrapped__,st.__chain__);return at.__actions__=Xn(st.__actions__),at.__index__=st.__index__,at.__values__=st.__values__,at}function a1(st,at,ft){(ft?zn(st,at,ft):at===et)?at=1:at=Nn(hn(at),0);var pt=st==null?0:st.length;if(!pt||at<1)return[];for(var yt=0,xt=0,bt=At(Yo(pt/at));yt<pt;)bt[xt++]=ar(st,yt,yt+=at);return bt}function u1(st){for(var at=-1,ft=st==null?0:st.length,pt=0,yt=[];++at<ft;){var xt=st[at];xt&&(yt[pt++]=xt)}return yt}function c1(){var st=arguments.length;if(!st)return[];for(var at=At(st-1),ft=arguments[0],pt=st;pt--;)at[pt-1]=arguments[pt];return Rr(sn(ft)?Xn(ft):[ft],Ln(at,1))}var f1=pn(function(st,at){return Rn(st)?To(st,Ln(at,1,Rn,!0)):[]}),h1=pn(function(st,at){var ft=ur(at);return Rn(ft)&&(ft=et),Rn(st)?To(st,Ln(at,1,Rn,!0),Zt(ft,2)):[]}),d1=pn(function(st,at){var ft=ur(at);return Rn(ft)&&(ft=et),Rn(st)?To(st,Ln(at,1,Rn,!0),et,ft):[]});function p1(st,at,ft){var pt=st==null?0:st.length;return pt?(at=ft||at===et?1:hn(at),ar(st,at<0?0:at,pt)):[]}function m1(st,at,ft){var pt=st==null?0:st.length;return pt?(at=ft||at===et?1:hn(at),at=pt-at,ar(st,0,at<0?0:at)):[]}function g1(st,at){return st&&st.length?ss(st,Zt(at,3),!0,!0):[]}function O1(st,at){return st&&st.length?ss(st,Zt(at,3),!0):[]}function y1(st,at,ft,pt){var yt=st==null?0:st.length;return yt?(ft&&typeof ft!="number"&&zn(st,at,ft)&&(ft=0,pt=yt),cy(st,at,ft,pt)):[]}function nm(st,at,ft){var pt=st==null?0:st.length;if(!pt)return-1;var yt=ft==null?0:hn(ft);return yt<0&&(yt=Nn(pt+yt,0)),Bo(st,Zt(at,3),yt)}function rm(st,at,ft){var pt=st==null?0:st.length;if(!pt)return-1;var yt=pt-1;return ft!==et&&(yt=hn(ft),yt=ft<0?Nn(pt+yt,0):Bn(yt,pt-1)),Bo(st,Zt(at,3),yt,!0)}function im(st){var at=st==null?0:st.length;return at?Ln(st,1):[]}function v1(st){var at=st==null?0:st.length;return at?Ln(st,vn):[]}function S1(st,at){var ft=st==null?0:st.length;return ft?(at=at===et?1:hn(at),Ln(st,at)):[]}function _1(st){for(var at=-1,ft=st==null?0:st.length,pt={};++at<ft;){var yt=st[at];pt[yt[0]]=yt[1]}return pt}function om(st){return st&&st.length?st[0]:et}function w1(st,at,ft){var pt=st==null?0:st.length;if(!pt)return-1;var yt=ft==null?0:hn(ft);return yt<0&&(yt=Nn(pt+yt,0)),Gr(st,at,yt)}function x1(st){var at=st==null?0:st.length;return at?ar(st,0,-1):[]}var T1=pn(function(st){var at=Pn(st,Ll);return at.length&&at[0]===st[0]?El(at):[]}),b1=pn(function(st){var at=ur(st),ft=Pn(st,Ll);return at===ur(ft)?at=et:ft.pop(),ft.length&&ft[0]===st[0]?El(ft,Zt(at,2)):[]}),k1=pn(function(st){var at=ur(st),ft=Pn(st,Ll);return at=typeof at=="function"?at:et,at&&ft.pop(),ft.length&&ft[0]===st[0]?El(ft,et,at):[]});function E1(st,at){return st==null?"":xO.call(st,at)}function ur(st){var at=st==null?0:st.length;return at?st[at-1]:et}function P1(st,at,ft){var pt=st==null?0:st.length;if(!pt)return-1;var yt=pt;return ft!==et&&(yt=hn(ft),yt=yt<0?Nn(pt+yt,0):Bn(yt,pt-1)),at===at?lO(st,at,yt):Bo(st,qu,yt,!0)}function C1(st,at){return st&&st.length?gp(st,hn(at)):et}var $1=pn(sm);function sm(st,at){return st&&st.length&&at&&at.length?Rl(st,at):st}function R1(st,at,ft){return st&&st.length&&at&&at.length?Rl(st,at,Zt(ft,2)):st}function M1(st,at,ft){return st&&st.length&&at&&at.length?Rl(st,at,et,ft):st}var A1=br(function(st,at){var ft=st==null?0:st.length,pt=Sl(st,at);return vp(st,Pn(at,function(yt){return kr(yt,ft)?+yt:yt}).sort(Cp)),pt});function N1(st,at){var ft=[];if(!(st&&st.length))return ft;var pt=-1,yt=[],xt=st.length;for(at=Zt(at,3);++pt<xt;){var bt=st[pt];at(bt,pt,st)&&(ft.push(bt),yt.push(pt))}return vp(st,yt),ft}function Jl(st){return st==null?st:EO.call(st)}function I1(st,at,ft){var pt=st==null?0:st.length;return pt?(ft&&typeof ft!="number"&&zn(st,at,ft)?(at=0,ft=pt):(at=at==null?0:hn(at),ft=ft===et?pt:hn(ft)),ar(st,at,ft)):[]}function D1(st,at){return os(st,at)}function L1(st,at,ft){return Nl(st,at,Zt(ft,2))}function Q1(st,at){var ft=st==null?0:st.length;if(ft){var pt=os(st,at);if(pt<ft&&mr(st[pt],at))return pt}return-1}function B1(st,at){return os(st,at,!0)}function F1(st,at,ft){return Nl(st,at,Zt(ft,2),!0)}function V1(st,at){var ft=st==null?0:st.length;if(ft){var pt=os(st,at,!0)-1;if(mr(st[pt],at))return pt}return-1}function W1(st){return st&&st.length?_p(st):[]}function q1(st,at){return st&&st.length?_p(st,Zt(at,2)):[]}function z1(st){var at=st==null?0:st.length;return at?ar(st,1,at):[]}function U1(st,at,ft){return st&&st.length?(at=ft||at===et?1:hn(at),ar(st,0,at<0?0:at)):[]}function H1(st,at,ft){var pt=st==null?0:st.length;return pt?(at=ft||at===et?1:hn(at),at=pt-at,ar(st,at<0?0:at,pt)):[]}function X1(st,at){return st&&st.length?ss(st,Zt(at,3),!1,!0):[]}function j1(st,at){return st&&st.length?ss(st,Zt(at,3)):[]}var Z1=pn(function(st){return Ir(Ln(st,1,Rn,!0))}),Y1=pn(function(st){var at=ur(st);return Rn(at)&&(at=et),Ir(Ln(st,1,Rn,!0),Zt(at,2))}),G1=pn(function(st){var at=ur(st);return at=typeof at=="function"?at:et,Ir(Ln(st,1,Rn,!0),et,at)});function K1(st){return st&&st.length?Ir(st):[]}function J1(st,at){return st&&st.length?Ir(st,Zt(at,2)):[]}function ev(st,at){return at=typeof at=="function"?at:et,st&&st.length?Ir(st,et,at):[]}function na(st){if(!(st&&st.length))return[];var at=0;return st=$r(st,function(ft){if(Rn(ft))return at=Nn(ft.length,at),!0}),js(at,function(ft){return Pn(st,Us(ft))})}function lm(st,at){if(!(st&&st.length))return[];var ft=na(st);return at==null?ft:Pn(ft,function(pt){return Gn(at,et,pt)})}var tv=pn(function(st,at){return Rn(st)?To(st,at):[]}),nv=pn(function(st){return Dl($r(st,Rn))}),rv=pn(function(st){var at=ur(st);return Rn(at)&&(at=et),Dl($r(st,Rn),Zt(at,2))}),iv=pn(function(st){var at=ur(st);return at=typeof at=="function"?at:et,Dl($r(st,Rn),et,at)}),ov=pn(na);function sv(st,at){return bp(st||[],at||[],xo)}function lv(st,at){return bp(st||[],at||[],Eo)}var av=pn(function(st){var at=st.length,ft=at>1?st[at-1]:et;return ft=typeof ft=="function"?(st.pop(),ft):et,lm(st,ft)});function am(st){var at=_t(st);return at.__chain__=!0,at}function uv(st,at){return at(st),st}function gs(st,at){return at(st)}var cv=br(function(st){var at=st.length,ft=at?st[0]:0,pt=this.__wrapped__,yt=function(xt){return Sl(xt,st)};return at>1||this.__actions__.length||!(pt instanceof gn)||!kr(ft)?this.thru(yt):(pt=pt.slice(ft,+ft+(at?1:0)),pt.__actions__.push({func:gs,args:[yt],thisArg:et}),new sr(pt,this.__chain__).thru(function(xt){return at&&!xt.length&&xt.push(et),xt}))});function fv(){return am(this)}function hv(){return new sr(this.value(),this.__chain__)}function dv(){this.__values__===et&&(this.__values__=wm(this.value()));var st=this.__index__>=this.__values__.length,at=st?et:this.__values__[this.__index__++];return{done:st,value:at}}function pv(){return this}function mv(st){for(var at,ft=this;ft instanceof es;){var pt=tm(ft);pt.__index__=0,pt.__values__=et,at?yt.__wrapped__=pt:at=pt;var yt=pt;ft=ft.__wrapped__}return yt.__wrapped__=st,at}function gv(){var st=this.__wrapped__;if(st instanceof gn){var at=st;return this.__actions__.length&&(at=new gn(this)),at=at.reverse(),at.__actions__.push({func:gs,args:[Jl],thisArg:et}),new sr(at,this.__chain__)}return this.thru(Jl)}function Ov(){return Tp(this.__wrapped__,this.__actions__)}var yv=ls(function(st,at,ft){xn.call(st,ft)?++st[ft]:xr(st,ft,1)});function vv(st,at,ft){var pt=sn(st)?Vu:uy;return ft&&zn(st,at,ft)&&(at=et),pt(st,Zt(at,3))}function Sv(st,at){var ft=sn(st)?$r:lp;return ft(st,Zt(at,3))}var _v=Ip(nm),wv=Ip(rm);function xv(st,at){return Ln(Os(st,at),1)}function Tv(st,at){return Ln(Os(st,at),vn)}function bv(st,at,ft){return ft=ft===et?1:hn(ft),Ln(Os(st,at),ft)}function um(st,at){var ft=sn(st)?ir:Nr;return ft(st,Zt(at,3))}function cm(st,at){var ft=sn(st)?z0:sp;return ft(st,Zt(at,3))}var kv=ls(function(st,at,ft){xn.call(st,ft)?st[ft].push(at):xr(st,ft,[at])});function Ev(st,at,ft,pt){st=jn(st)?st:ao(st),ft=ft&&!pt?hn(ft):0;var yt=st.length;return ft<0&&(ft=Nn(yt+ft,0)),ws(st)?ft<=yt&&st.indexOf(at,ft)>-1:!!yt&&Gr(st,at,ft)>-1}var Pv=pn(function(st,at,ft){var pt=-1,yt=typeof at=="function",xt=jn(st)?At(st.length):[];return Nr(st,function(bt){xt[++pt]=yt?Gn(at,bt,ft):bo(bt,at,ft)}),xt}),Cv=ls(function(st,at,ft){xr(st,ft,at)});function Os(st,at){var ft=sn(st)?Pn:dp;return ft(st,Zt(at,3))}function $v(st,at,ft,pt){return st==null?[]:(sn(at)||(at=at==null?[]:[at]),ft=pt?et:ft,sn(ft)||(ft=ft==null?[]:[ft]),Op(st,at,ft))}var Rv=ls(function(st,at,ft){st[ft?0:1].push(at)},function(){return[[],[]]});function Mv(st,at,ft){var pt=sn(st)?qs:Uu,yt=arguments.length<3;return pt(st,Zt(at,4),ft,yt,Nr)}function Av(st,at,ft){var pt=sn(st)?U0:Uu,yt=arguments.length<3;return pt(st,Zt(at,4),ft,yt,sp)}function Nv(st,at){var ft=sn(st)?$r:lp;return ft(st,Ss(Zt(at,3)))}function Iv(st){var at=sn(st)?np:Ey;return at(st)}function Dv(st,at,ft){(ft?zn(st,at,ft):at===et)?at=1:at=hn(at);var pt=sn(st)?iy:Py;return pt(st,at)}function Lv(st){var at=sn(st)?oy:$y;return at(st)}function Qv(st){if(st==null)return 0;if(jn(st))return ws(st)?Jr(st):st.length;var at=Fn(st);return at==fr||at==hr?st.size:Cl(st).length}function Bv(st,at,ft){var pt=sn(st)?zs:Ry;return ft&&zn(st,at,ft)&&(at=et),pt(st,Zt(at,3))}var Fv=pn(function(st,at){if(st==null)return[];var ft=at.length;return ft>1&&zn(st,at[0],at[1])?at=[]:ft>2&&zn(at[0],at[1],at[2])&&(at=[at[0]]),Op(st,Ln(at,1),[])}),ys=SO||function(){return Dn.Date.now()};function Vv(st,at){if(typeof at!="function")throw new or(it);return st=hn(st),function(){if(--st<1)return at.apply(this,arguments)}}function fm(st,at,ft){return at=ft?et:at,at=st&&at==null?st.length:at,Tr(st,Rt,et,et,et,et,at)}function hm(st,at){var ft;if(typeof at!="function")throw new or(it);return st=hn(st),function(){return--st>0&&(ft=at.apply(this,arguments)),st<=1&&(at=et),ft}}var ga=pn(function(st,at,ft){var pt=wt;if(ft.length){var yt=Mr(ft,so(ga));pt|=Pt}return Tr(st,pt,at,ft,yt)}),dm=pn(function(st,at,ft){var pt=wt|St;if(ft.length){var yt=Mr(ft,so(dm));pt|=Pt}return Tr(at,pt,st,ft,yt)});function pm(st,at,ft){at=ft?et:at;var pt=Tr(st,Tt,et,et,et,et,et,at);return pt.placeholder=pm.placeholder,pt}function mm(st,at,ft){at=ft?et:at;var pt=Tr(st,Et,et,et,et,et,et,at);return pt.placeholder=mm.placeholder,pt}function gm(st,at,ft){var pt,yt,xt,bt,kt,$t,It=0,Dt=!1,Qt=!1,Vt=!0;if(typeof st!="function")throw new or(it);at=cr(at)||0,Cn(ft)&&(Dt=!!ft.leading,Qt="maxWait"in ft,xt=Qt?Nn(cr(ft.maxWait)||0,at):xt,Vt="trailing"in ft?!!ft.trailing:Vt);function Ht(Mn){var gr=pt,Cr=yt;return pt=yt=et,It=Mn,bt=st.apply(Cr,gr),bt}function Yt(Mn){return It=Mn,kt=$o(mn,at),Dt?Ht(Mn):bt}function dn(Mn){var gr=Mn-$t,Cr=Mn-It,Im=at-gr;return Qt?Bn(Im,xt-Cr):Im}function Gt(Mn){var gr=Mn-$t,Cr=Mn-It;return $t===et||gr>=at||gr<0||Qt&&Cr>=xt}function mn(){var Mn=ys();if(Gt(Mn))return On(Mn);kt=$o(mn,dn(Mn))}function On(Mn){return kt=et,Vt&&pt?Ht(Mn):(pt=yt=et,bt)}function tr(){kt!==et&&kp(kt),It=0,pt=$t=yt=kt=et}function Un(){return kt===et?bt:On(ys())}function nr(){var Mn=ys(),gr=Gt(Mn);if(pt=arguments,yt=this,$t=Mn,gr){if(kt===et)return Yt($t);if(Qt)return kp(kt),kt=$o(mn,at),Ht($t)}return kt===et&&(kt=$o(mn,at)),bt}return nr.cancel=tr,nr.flush=Un,nr}var Wv=pn(function(st,at){return op(st,1,at)}),qv=pn(function(st,at,ft){return op(st,cr(at)||0,ft)});function zv(st){return Tr(st,Wt)}function vs(st,at){if(typeof st!="function"||at!=null&&typeof at!="function")throw new or(it);var ft=function(){var pt=arguments,yt=at?at.apply(this,pt):pt[0],xt=ft.cache;if(xt.has(yt))return xt.get(yt);var bt=st.apply(this,pt);return ft.cache=xt.set(yt,bt)||xt,bt};return ft.cache=new(vs.Cache||wr),ft}vs.Cache=wr;function Ss(st){if(typeof st!="function")throw new or(it);return function(){var at=arguments;switch(at.length){case 0:return!st.call(this);case 1:return!st.call(this,at[0]);case 2:return!st.call(this,at[0],at[1]);case 3:return!st.call(this,at[0],at[1],at[2])}return!st.apply(this,at)}}function Uv(st){return hm(2,st)}var Hv=My(function(st,at){at=at.length==1&&sn(at[0])?Pn(at[0],Kn(Zt())):Pn(Ln(at,1),Kn(Zt()));var ft=at.length;return pn(function(pt){for(var yt=-1,xt=Bn(pt.length,ft);++yt<xt;)pt[yt]=at[yt].call(this,pt[yt]);return Gn(st,this,pt)})}),xa=pn(function(st,at){var ft=Mr(at,so(xa));return Tr(st,Pt,et,at,ft)}),Om=pn(function(st,at){var ft=Mr(at,so(Om));return Tr(st,Mt,et,at,ft)}),Xv=br(function(st,at){return Tr(st,Lt,et,et,et,at)});function jv(st,at){if(typeof st!="function")throw new or(it);return at=at===et?at:hn(at),pn(st,at)}function Zv(st,at){if(typeof st!="function")throw new or(it);return at=at==null?0:Nn(hn(at),0),pn(function(ft){var pt=ft[at],yt=Lr(ft,0,at);return pt&&Rr(yt,pt),Gn(st,this,yt)})}function Yv(st,at,ft){var pt=!0,yt=!0;if(typeof st!="function")throw new or(it);return Cn(ft)&&(pt="leading"in ft?!!ft.leading:pt,yt="trailing"in ft?!!ft.trailing:yt),gm(st,at,{leading:pt,maxWait:at,trailing:yt})}function Gv(st){return fm(st,1)}function Kv(st,at){return xa(Ql(at),st)}function Jv(){if(!arguments.length)return[];var st=arguments[0];return sn(st)?st:[st]}function eS(st){return lr(st,mt)}function tS(st,at){return at=typeof at=="function"?at:et,lr(st,mt,at)}function nS(st){return lr(st,ht|mt)}function rS(st,at){return at=typeof at=="function"?at:et,lr(st,ht|mt,at)}function iS(st,at){return at==null||ip(st,at,In(at))}function mr(st,at){return st===at||st!==st&&at!==at}var oS=hs(Tl),sS=hs(function(st,at){return st>=at}),Xr=cp(function(){return arguments}())?cp:function(st){return $n(st)&&xn.call(st,"callee")&&!_c.call(st,"callee")},sn=At.isArray,lS=Iu?Kn(Iu):my;function jn(st){return st!=null&&_s(st.length)&&!Er(st)}function Rn(st){return $n(st)&&jn(st)}function aS(st){return st===!0||st===!1||$n(st)&&qn(st)==uo}var Qr=wO||au,uS=Du?Kn(Du):gy;function cS(st){return $n(st)&&st.nodeType===1&&!Ro(st)}function fS(st){if(st==null)return!0;if(jn(st)&&(sn(st)||typeof st=="string"||typeof st.splice=="function"||Qr(st)||lo(st)||Xr(st)))return!st.length;var at=Fn(st);if(at==fr||at==hr)return!st.size;if(Co(st))return!Cl(st).length;for(var ft in st)if(xn.call(st,ft))return!1;return!0}function hS(st,at){return ko(st,at)}function dS(st,at,ft){ft=typeof ft=="function"?ft:et;var pt=ft?ft(st,at):et;return pt===et?ko(st,at,et,ft):!!pt}function ba(st){if(!$n(st))return!1;var at=qn(st);return at==Mo||at==Lm||typeof st.message=="string"&&typeof st.name=="string"&&!Ro(st)}function pS(st){return typeof st=="number"&&_h(st)}function Er(st){if(!Cn(st))return!1;var at=qn(st);return at==Ao||at==uu||at==jr||at==Bm}function ym(st){return typeof st=="number"&&st==hn(st)}function _s(st){return typeof st=="number"&&st>-1&&st%1==0&&st<=Bt}function Cn(st){var at=typeof st;return st!=null&&(at=="object"||at=="function")}function $n(st){return st!=null&&typeof st=="object"}var vm=Lu?Kn(Lu):yy;function mS(st,at){return st===at||Pl(st,at,Hl(at))}function gS(st,at,ft){return ft=typeof ft=="function"?ft:et,Pl(st,at,Hl(at),ft)}function OS(st){return Sm(st)&&st!=+st}function yS(st){if(t1(st))throw new Jt(rt);return fp(st)}function vS(st){return st===null}function SS(st){return st==null}function Sm(st){return typeof st=="number"||$n(st)&&qn(st)==fo}function Ro(st){if(!$n(st)||qn(st)!=Sr)return!1;var at=Xo(st);if(at===null)return!0;var ft=xn.call(at,"constructor")&&at.constructor;return typeof ft=="function"&&ft instanceof ft&&qo.call(ft)==gO}var $a=Qu?Kn(Qu):vy;function _S(st){return ym(st)&&st>=-Bt&&st<=Bt}var _m=Bu?Kn(Bu):Sy;function ws(st){return typeof st=="string"||!sn(st)&&$n(st)&&qn(st)==po}function er(st){return typeof st=="symbol"||$n(st)&&qn(st)==No}var lo=Fu?Kn(Fu):_y;function wS(st){return st===et}function xS(st){return $n(st)&&Fn(st)==mo}function TS(st){return $n(st)&&qn(st)==Vm}var bS=hs($l),kS=hs(function(st,at){return st<=at});function wm(st){if(!st)return[];if(jn(st))return ws(st)?dr(st):Xn(st);if(yo&&st[yo])return iO(st[yo]());var at=Fn(st),ft=at==fr?Ys:at==hr?Fo:ao;return ft(st)}function Pr(st){if(!st)return st===0?st:0;if(st=cr(st),st===vn||st===-vn){var at=st<0?-1:1;return at*jt}return st===st?st:0}function hn(st){var at=Pr(st),ft=at%1;return at===at?ft?at-ft:at:0}function xm(st){return st?qr(hn(st),0,Kt):0}function cr(st){if(typeof st=="number")return st;if(er(st))return zt;if(Cn(st)){var at=typeof st.valueOf=="function"?st.valueOf():st;st=Cn(at)?at+"":at}if(typeof st!="string")return st===0?st:+st;st=Hu(st);var ft=l0.test(st);return ft||u0.test(st)?V0(st.slice(2),ft?2:8):s0.test(st)?zt:+st}function Tm(st){return yr(st,Zn(st))}function ES(st){return st?qr(hn(st),-Bt,Bt):st===0?st:0}function wn(st){return st==null?"":Jn(st)}var PS=io(function(st,at){if(Co(at)||jn(at)){yr(at,In(at),st);return}for(var ft in at)xn.call(at,ft)&&xo(st,ft,at[ft])}),bm=io(function(st,at){yr(at,Zn(at),st)}),xs=io(function(st,at,ft,pt){yr(at,Zn(at),st,pt)}),CS=io(function(st,at,ft,pt){yr(at,In(at),st,pt)}),$S=br(Sl);function RS(st,at){var ft=ro(st);return at==null?ft:rp(ft,at)}var MS=pn(function(st,at){st=Tn(st);var ft=-1,pt=at.length,yt=pt>2?at[2]:et;for(yt&&zn(at[0],at[1],yt)&&(pt=1);++ft<pt;)for(var xt=at[ft],bt=Zn(xt),kt=-1,$t=bt.length;++kt<$t;){var It=bt[kt],Dt=st[It];(Dt===et||mr(Dt,eo[It])&&!xn.call(st,It))&&(st[It]=xt[It])}return st}),AS=pn(function(st){return st.push(et,Wp),Gn(km,et,st)});function NS(st,at){return Wu(st,Zt(at,3),Or)}function IS(st,at){return Wu(st,Zt(at,3),xl)}function DS(st,at){return st==null?st:_l(st,Zt(at,3),Zn)}function LS(st,at){return st==null?st:ap(st,Zt(at,3),Zn)}function QS(st,at){return st&&Or(st,Zt(at,3))}function BS(st,at){return st&&xl(st,Zt(at,3))}function VS(st){return st==null?[]:rs(st,In(st))}function WS(st){return st==null?[]:rs(st,Zn(st))}function eu(st,at,ft){var pt=st==null?et:zr(st,at);return pt===et?ft:pt}function qS(st,at){return st!=null&&Up(st,at,fy)}function tu(st,at){return st!=null&&Up(st,at,hy)}var zS=Lp(function(st,at,ft){at!=null&&typeof at.toString!="function"&&(at=zo.call(at)),st[at]=ft},ru(Yn)),US=Lp(function(st,at,ft){at!=null&&typeof at.toString!="function"&&(at=zo.call(at)),xn.call(st,at)?st[at].push(ft):st[at]=[ft]},Zt),HS=pn(bo);function In(st){return jn(st)?tp(st):Cl(st)}function Zn(st){return jn(st)?tp(st,!0):wy(st)}function XS(st,at){var ft={};return at=Zt(at,3),Or(st,function(pt,yt,xt){xr(ft,at(pt,yt,xt),pt)}),ft}function jS(st,at){var ft={};return at=Zt(at,3),Or(st,function(pt,yt,xt){xr(ft,yt,at(pt,yt,xt))}),ft}var ZS=io(function(st,at,ft){is(st,at,ft)}),km=io(function(st,at,ft,pt){is(st,at,ft,pt)}),YS=br(function(st,at){var ft={};if(st==null)return ft;var pt=!1;at=Pn(at,function(xt){return xt=Dr(xt,st),pt||(pt=xt.length>1),xt}),yr(st,zl(st),ft),pt&&(ft=lr(ft,ht|dt|mt,qy));for(var yt=at.length;yt--;)Il(ft,at[yt]);return ft});function GS(st,at){return Em(st,Ss(Zt(at)))}var KS=br(function(st,at){return st==null?{}:Ty(st,at)});function Em(st,at){if(st==null)return{};var ft=Pn(zl(st),function(pt){return[pt]});return at=Zt(at),yp(st,ft,function(pt,yt){return at(pt,yt[0])})}function JS(st,at,ft){at=Dr(at,st);var pt=-1,yt=at.length;for(yt||(yt=1,st=et);++pt<yt;){var xt=st==null?et:st[vr(at[pt])];xt===et&&(pt=yt,xt=ft),st=Er(xt)?xt.call(st):xt}return st}function e_(st,at,ft){return st==null?st:Eo(st,at,ft)}function t_(st,at,ft,pt){return pt=typeof pt=="function"?pt:et,st==null?st:Eo(st,at,ft,pt)}var Pm=Fp(In),Cm=Fp(Zn);function n_(st,at,ft){var pt=sn(st),yt=pt||Qr(st)||lo(st);if(at=Zt(at,4),ft==null){var xt=st&&st.constructor;yt?ft=pt?new xt:[]:Cn(st)?ft=Er(xt)?ro(Xo(st)):{}:ft={}}return(yt?ir:Or)(st,function(bt,kt,$t){return at(ft,bt,kt,$t)}),ft}function r_(st,at){return st==null?!0:Il(st,at)}function i_(st,at,ft){return st==null?st:xp(st,at,Ql(ft))}function o_(st,at,ft,pt){return pt=typeof pt=="function"?pt:et,st==null?st:xp(st,at,Ql(ft),pt)}function ao(st){return st==null?[]:Zs(st,In(st))}function s_(st){return st==null?[]:Zs(st,Zn(st))}function l_(st,at,ft){return ft===et&&(ft=at,at=et),ft!==et&&(ft=cr(ft),ft=ft===ft?ft:0),at!==et&&(at=cr(at),at=at===at?at:0),qr(cr(st),at,ft)}function a_(st,at,ft){return at=Pr(at),ft===et?(ft=at,at=0):ft=Pr(ft),st=cr(st),dy(st,at,ft)}function u_(st,at,ft){if(ft&&typeof ft!="boolean"&&zn(st,at,ft)&&(at=ft=et),ft===et&&(typeof at=="boolean"?(ft=at,at=et):typeof st=="boolean"&&(ft=st,st=et)),st===et&&at===et?(st=0,at=1):(st=Pr(st),at===et?(at=st,st=0):at=Pr(at)),st>at){var pt=st;st=at,at=pt}if(ft||st%1||at%1){var yt=_d();return Bn(st+yt*(at-st+F0("1e-"+((yt+"").length-1))),at)}return Ml(st,at)}var c_=oo(function(st,at,ft){return at=at.toLowerCase(),st+(ft?$m(at):at)});function $m(st){return nu(wn(st).toLowerCase())}function Rm(st){return st=wn(st),st&&st.replace(f0,J0).replace($0,"")}function f_(st,at,ft){st=wn(st),at=Jn(at);var pt=st.length;ft=ft===et?pt:qr(hn(ft),0,pt);var yt=ft;return ft-=at.length,ft>=0&&st.slice(ft,yt)==at}function h_(st){return st=wn(st),st&&Hm.test(st)?st.replace(hu,eO):st}function d_(st){return st=wn(st),st&&Km.test(st)?st.replace(As,"\\$&"):st}var p_=oo(function(st,at,ft){return st+(ft?"-":"")+at.toLowerCase()}),m_=oo(function(st,at,ft){return st+(ft?" ":"")+at.toLowerCase()}),g_=Np("toLowerCase");function O_(st,at,ft){st=wn(st),at=hn(at);var pt=at?Jr(st):0;if(!at||pt>=at)return st;var yt=(at-pt)/2;return cs(Go(yt),ft)+st+cs(Yo(yt),ft)}function y_(st,at,ft){st=wn(st),at=hn(at);var pt=at?Jr(st):0;return at&&pt<at?st+cs(at-pt,ft):st}function v_(st,at,ft){st=wn(st),at=hn(at);var pt=at?Jr(st):0;return at&&pt<at?cs(at-pt,ft)+st:st}function S_(st,at,ft){return ft||at==null?at=0:at&&(at=+at),kO(wn(st).replace(Ns,""),at||0)}function __(st,at,ft){return(ft?zn(st,at,ft):at===et)?at=1:at=hn(at),Al(wn(st),at)}function w_(){var st=arguments,at=wn(st[0]);return st.length<3?at:at.replace(st[1],st[2])}var x_=oo(function(st,at,ft){return st+(ft?"_":"")+at.toLowerCase()});function T_(st,at,ft){return ft&&typeof ft!="number"&&zn(st,at,ft)&&(at=ft=et),ft=ft===et?Kt:ft>>>0,ft?(st=wn(st),st&&(typeof at=="string"||at!=null&&!$a(at))&&(at=Jn(at),!at&&Kr(st))?Lr(dr(st),0,ft):st.split(at,ft)):[]}var b_=oo(function(st,at,ft){return st+(ft?" ":"")+nu(at)});function k_(st,at,ft){return st=wn(st),ft=ft==null?0:qr(hn(ft),0,st.length),at=Jn(at),st.slice(ft,ft+at.length)==at}function E_(st,at,ft){var pt=_t.templateSettings;ft&&zn(st,at,ft)&&(at=et),st=wn(st),at=xs({},at,pt,Vp);var yt=xs({},at.imports,pt.imports,Vp),xt=In(yt),bt=Zs(yt,xt),kt,$t,It=0,Dt=at.interpolate||Io,Qt="__p += '",Vt=Gs((at.escape||Io).source+"|"+Dt.source+"|"+(Dt===du?o0:Io).source+"|"+(at.evaluate||Io).source+"|$","g"),Ht="//# sourceURL="+(xn.call(at,"sourceURL")?(at.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++I0+"]")+`
`;st.replace(Vt,function(Gt,mn,On,tr,Un,nr){return On||(On=tr),Qt+=st.slice(It,nr).replace(h0,tO),mn&&(kt=!0,Qt+=`' +
__e(`+mn+`) +
'`),Un&&($t=!0,Qt+=`';
`+Un+`;
__p += '`),On&&(Qt+=`' +
((__t = (`+On+`)) == null ? '' : __t) +
'`),It=nr+Gt.length,Gt}),Qt+=`';
`;var Yt=xn.call(at,"variable")&&at.variable;if(!Yt)Qt=`with (obj) {
`+Qt+`
}
`;else if(r0.test(Yt))throw new Jt(ot);Qt=($t?Qt.replace(Wm,""):Qt).replace(qm,"$1").replace(zm,"$1;"),Qt="function("+(Yt||"obj")+`) {
`+(Yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(kt?", __e = _.escape":"")+($t?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Qt+`return __p
}`;var dn=Am(function(){return _n(xt,Ht+"return "+Qt).apply(et,bt)});if(dn.source=Qt,ba(dn))throw dn;return dn}function P_(st){return wn(st).toLowerCase()}function C_(st){return wn(st).toUpperCase()}function $_(st,at,ft){if(st=wn(st),st&&(ft||at===et))return Hu(st);if(!st||!(at=Jn(at)))return st;var pt=dr(st),yt=dr(at),xt=Xu(pt,yt),bt=ju(pt,yt)+1;return Lr(pt,xt,bt).join("")}function R_(st,at,ft){if(st=wn(st),st&&(ft||at===et))return st.slice(0,Yu(st)+1);if(!st||!(at=Jn(at)))return st;var pt=dr(st),yt=ju(pt,dr(at))+1;return Lr(pt,0,yt).join("")}function M_(st,at,ft){if(st=wn(st),st&&(ft||at===et))return st.replace(Ns,"");if(!st||!(at=Jn(at)))return st;var pt=dr(st),yt=Xu(pt,dr(at));return Lr(pt,yt).join("")}function A_(st,at){var ft=Ft,pt=Ut;if(Cn(at)){var yt="separator"in at?at.separator:yt;ft="length"in at?hn(at.length):ft,pt="omission"in at?Jn(at.omission):pt}st=wn(st);var xt=st.length;if(Kr(st)){var bt=dr(st);xt=bt.length}if(ft>=xt)return st;var kt=ft-Jr(pt);if(kt<1)return pt;var $t=bt?Lr(bt,0,kt).join(""):st.slice(0,kt);if(yt===et)return $t+pt;if(bt&&(kt+=$t.length-kt),$a(yt)){if(st.slice(kt).search(yt)){var It,Dt=$t;for(yt.global||(yt=Gs(yt.source,wn(pu.exec(yt))+"g")),yt.lastIndex=0;It=yt.exec(Dt);)var Qt=It.index;$t=$t.slice(0,Qt===et?kt:Qt)}}else if(st.indexOf(Jn(yt),kt)!=kt){var Vt=$t.lastIndexOf(yt);Vt>-1&&($t=$t.slice(0,Vt))}return $t+pt}function N_(st){return st=wn(st),st&&Um.test(st)?st.replace(fu,aO):st}var I_=oo(function(st,at,ft){return st+(ft?" ":"")+at.toUpperCase()}),nu=Np("toUpperCase");function Mm(st,at,ft){return st=wn(st),at=ft?et:at,at===et?rO(st)?fO(st):j0(st):st.match(at)||[]}var Am=pn(function(st,at){try{return Gn(st,et,at)}catch(ft){return ba(ft)?ft:new Jt(ft)}}),D_=br(function(st,at){return ir(at,function(ft){ft=vr(ft),xr(st,ft,ga(st[ft],st))}),st});function L_(st){var at=st==null?0:st.length,ft=Zt();return st=at?Pn(st,function(pt){if(typeof pt[1]!="function")throw new or(it);return[ft(pt[0]),pt[1]]}):[],pn(function(pt){for(var yt=-1;++yt<at;){var xt=st[yt];if(Gn(xt[0],this,pt))return Gn(xt[1],this,pt)}})}function Q_(st){return ay(lr(st,ht))}function ru(st){return function(){return st}}function B_(st,at){return st==null||st!==st?at:st}var F_=Dp(),V_=Dp(!0);function Yn(st){return st}function iu(st){return hp(typeof st=="function"?st:lr(st,ht))}function W_(st){return pp(lr(st,ht))}function q_(st,at){return mp(st,lr(at,ht))}var z_=pn(function(st,at){return function(ft){return bo(ft,st,at)}}),U_=pn(function(st,at){return function(ft){return bo(st,ft,at)}});function ou(st,at,ft){var pt=In(at),yt=rs(at,pt);ft==null&&!(Cn(at)&&(yt.length||!pt.length))&&(ft=at,at=st,st=this,yt=rs(at,In(at)));var xt=!(Cn(ft)&&"chain"in ft)||!!ft.chain,bt=Er(st);return ir(yt,function(kt){var $t=at[kt];st[kt]=$t,bt&&(st.prototype[kt]=function(){var It=this.__chain__;if(xt||It){var Dt=st(this.__wrapped__),Qt=Dt.__actions__=Xn(this.__actions__);return Qt.push({func:$t,args:arguments,thisArg:st}),Dt.__chain__=It,Dt}return $t.apply(st,Rr([this.value()],arguments))})}),st}function H_(){return Dn._===this&&(Dn._=OO),this}function su(){}function X_(st){return st=hn(st),pn(function(at){return gp(at,st)})}var j_=Fl(Pn),Z_=Fl(Vu),Y_=Fl(zs);function Nm(st){return Zl(st)?Us(vr(st)):by(st)}function G_(st){return function(at){return st==null?et:zr(st,at)}}var K_=Qp(),J_=Qp(!0);function lu(){return[]}function au(){return!1}function ew(){return{}}function tw(){return""}function nw(){return!0}function rw(st,at){if(st=hn(st),st<1||st>Bt)return[];var ft=Kt,pt=Bn(st,Kt);at=Zt(at),st-=Kt;for(var yt=js(pt,at);++ft<st;)at(ft);return yt}function iw(st){return sn(st)?Pn(st,vr):er(st)?[st]:Xn(em(wn(st)))}function ow(st){var at=++mO;return wn(st)+at}var sw=us(function(st,at){return st+at},0),lw=Vl("ceil"),aw=us(function(st,at){return st/at},1),uw=Vl("floor");function cw(st){return st&&st.length?ns(st,Yn,Tl):et}function fw(st,at){return st&&st.length?ns(st,Zt(at,2),Tl):et}function hw(st){return zu(st,Yn)}function dw(st,at){return zu(st,Zt(at,2))}function pw(st){return st&&st.length?ns(st,Yn,$l):et}function mw(st,at){return st&&st.length?ns(st,Zt(at,2),$l):et}var gw=us(function(st,at){return st*at},1),Ow=Vl("round"),yw=us(function(st,at){return st-at},0);function vw(st){return st&&st.length?Xs(st,Yn):0}function Sw(st,at){return st&&st.length?Xs(st,Zt(at,2)):0}return _t.after=Vv,_t.ary=fm,_t.assign=PS,_t.assignIn=bm,_t.assignInWith=xs,_t.assignWith=CS,_t.at=$S,_t.before=hm,_t.bind=ga,_t.bindAll=D_,_t.bindKey=dm,_t.castArray=Jv,_t.chain=am,_t.chunk=a1,_t.compact=u1,_t.concat=c1,_t.cond=L_,_t.conforms=Q_,_t.constant=ru,_t.countBy=yv,_t.create=RS,_t.curry=pm,_t.curryRight=mm,_t.debounce=gm,_t.defaults=MS,_t.defaultsDeep=AS,_t.defer=Wv,_t.delay=qv,_t.difference=f1,_t.differenceBy=h1,_t.differenceWith=d1,_t.drop=p1,_t.dropRight=m1,_t.dropRightWhile=g1,_t.dropWhile=O1,_t.fill=y1,_t.filter=Sv,_t.flatMap=xv,_t.flatMapDeep=Tv,_t.flatMapDepth=bv,_t.flatten=im,_t.flattenDeep=v1,_t.flattenDepth=S1,_t.flip=zv,_t.flow=F_,_t.flowRight=V_,_t.fromPairs=_1,_t.functions=VS,_t.functionsIn=WS,_t.groupBy=kv,_t.initial=x1,_t.intersection=T1,_t.intersectionBy=b1,_t.intersectionWith=k1,_t.invert=zS,_t.invertBy=US,_t.invokeMap=Pv,_t.iteratee=iu,_t.keyBy=Cv,_t.keys=In,_t.keysIn=Zn,_t.map=Os,_t.mapKeys=XS,_t.mapValues=jS,_t.matches=W_,_t.matchesProperty=q_,_t.memoize=vs,_t.merge=ZS,_t.mergeWith=km,_t.method=z_,_t.methodOf=U_,_t.mixin=ou,_t.negate=Ss,_t.nthArg=X_,_t.omit=YS,_t.omitBy=GS,_t.once=Uv,_t.orderBy=$v,_t.over=j_,_t.overArgs=Hv,_t.overEvery=Z_,_t.overSome=Y_,_t.partial=xa,_t.partialRight=Om,_t.partition=Rv,_t.pick=KS,_t.pickBy=Em,_t.property=Nm,_t.propertyOf=G_,_t.pull=$1,_t.pullAll=sm,_t.pullAllBy=R1,_t.pullAllWith=M1,_t.pullAt=A1,_t.range=K_,_t.rangeRight=J_,_t.rearg=Xv,_t.reject=Nv,_t.remove=N1,_t.rest=jv,_t.reverse=Jl,_t.sampleSize=Dv,_t.set=e_,_t.setWith=t_,_t.shuffle=Lv,_t.slice=I1,_t.sortBy=Fv,_t.sortedUniq=W1,_t.sortedUniqBy=q1,_t.split=T_,_t.spread=Zv,_t.tail=z1,_t.take=U1,_t.takeRight=H1,_t.takeRightWhile=X1,_t.takeWhile=j1,_t.tap=uv,_t.throttle=Yv,_t.thru=gs,_t.toArray=wm,_t.toPairs=Pm,_t.toPairsIn=Cm,_t.toPath=iw,_t.toPlainObject=Tm,_t.transform=n_,_t.unary=Gv,_t.union=Z1,_t.unionBy=Y1,_t.unionWith=G1,_t.uniq=K1,_t.uniqBy=J1,_t.uniqWith=ev,_t.unset=r_,_t.unzip=na,_t.unzipWith=lm,_t.update=i_,_t.updateWith=o_,_t.values=ao,_t.valuesIn=s_,_t.without=tv,_t.words=Mm,_t.wrap=Kv,_t.xor=nv,_t.xorBy=rv,_t.xorWith=iv,_t.zip=ov,_t.zipObject=sv,_t.zipObjectDeep=lv,_t.zipWith=av,_t.entries=Pm,_t.entriesIn=Cm,_t.extend=bm,_t.extendWith=xs,ou(_t,_t),_t.add=sw,_t.attempt=Am,_t.camelCase=c_,_t.capitalize=$m,_t.ceil=lw,_t.clamp=l_,_t.clone=eS,_t.cloneDeep=nS,_t.cloneDeepWith=rS,_t.cloneWith=tS,_t.conformsTo=iS,_t.deburr=Rm,_t.defaultTo=B_,_t.divide=aw,_t.endsWith=f_,_t.eq=mr,_t.escape=h_,_t.escapeRegExp=d_,_t.every=vv,_t.find=_v,_t.findIndex=nm,_t.findKey=NS,_t.findLast=wv,_t.findLastIndex=rm,_t.findLastKey=IS,_t.floor=uw,_t.forEach=um,_t.forEachRight=cm,_t.forIn=DS,_t.forInRight=LS,_t.forOwn=QS,_t.forOwnRight=BS,_t.get=eu,_t.gt=oS,_t.gte=sS,_t.has=qS,_t.hasIn=tu,_t.head=om,_t.identity=Yn,_t.includes=Ev,_t.indexOf=w1,_t.inRange=a_,_t.invoke=HS,_t.isArguments=Xr,_t.isArray=sn,_t.isArrayBuffer=lS,_t.isArrayLike=jn,_t.isArrayLikeObject=Rn,_t.isBoolean=aS,_t.isBuffer=Qr,_t.isDate=uS,_t.isElement=cS,_t.isEmpty=fS,_t.isEqual=hS,_t.isEqualWith=dS,_t.isError=ba,_t.isFinite=pS,_t.isFunction=Er,_t.isInteger=ym,_t.isLength=_s,_t.isMap=vm,_t.isMatch=mS,_t.isMatchWith=gS,_t.isNaN=OS,_t.isNative=yS,_t.isNil=SS,_t.isNull=vS,_t.isNumber=Sm,_t.isObject=Cn,_t.isObjectLike=$n,_t.isPlainObject=Ro,_t.isRegExp=$a,_t.isSafeInteger=_S,_t.isSet=_m,_t.isString=ws,_t.isSymbol=er,_t.isTypedArray=lo,_t.isUndefined=wS,_t.isWeakMap=xS,_t.isWeakSet=TS,_t.join=E1,_t.kebabCase=p_,_t.last=ur,_t.lastIndexOf=P1,_t.lowerCase=m_,_t.lowerFirst=g_,_t.lt=bS,_t.lte=kS,_t.max=cw,_t.maxBy=fw,_t.mean=hw,_t.meanBy=dw,_t.min=pw,_t.minBy=mw,_t.stubArray=lu,_t.stubFalse=au,_t.stubObject=ew,_t.stubString=tw,_t.stubTrue=nw,_t.multiply=gw,_t.nth=C1,_t.noConflict=H_,_t.noop=su,_t.now=ys,_t.pad=O_,_t.padEnd=y_,_t.padStart=v_,_t.parseInt=S_,_t.random=u_,_t.reduce=Mv,_t.reduceRight=Av,_t.repeat=__,_t.replace=w_,_t.result=JS,_t.round=Ow,_t.runInContext=Ct,_t.sample=Iv,_t.size=Qv,_t.snakeCase=x_,_t.some=Bv,_t.sortedIndex=D1,_t.sortedIndexBy=L1,_t.sortedIndexOf=Q1,_t.sortedLastIndex=B1,_t.sortedLastIndexBy=F1,_t.sortedLastIndexOf=V1,_t.startCase=b_,_t.startsWith=k_,_t.subtract=yw,_t.sum=vw,_t.sumBy=Sw,_t.template=E_,_t.times=rw,_t.toFinite=Pr,_t.toInteger=hn,_t.toLength=xm,_t.toLower=P_,_t.toNumber=cr,_t.toSafeInteger=ES,_t.toString=wn,_t.toUpper=C_,_t.trim=$_,_t.trimEnd=R_,_t.trimStart=M_,_t.truncate=A_,_t.unescape=N_,_t.uniqueId=ow,_t.upperCase=I_,_t.upperFirst=nu,_t.each=um,_t.eachRight=cm,_t.first=om,ou(_t,function(){var st={};return Or(_t,function(at,ft){xn.call(_t.prototype,ft)||(st[ft]=at)}),st}(),{chain:!1}),_t.VERSION=tt,ir(["bind","bindKey","curry","curryRight","partial","partialRight"],function(st){_t[st].placeholder=_t}),ir(["drop","take"],function(st,at){gn.prototype[st]=function(ft){ft=ft===et?1:Nn(hn(ft),0);var pt=this.__filtered__&&!at?new gn(this):this.clone();return pt.__filtered__?pt.__takeCount__=Bn(ft,pt.__takeCount__):pt.__views__.push({size:Bn(ft,Kt),type:st+(pt.__dir__<0?"Right":"")}),pt},gn.prototype[st+"Right"]=function(ft){return this.reverse()[st](ft).reverse()}}),ir(["filter","map","takeWhile"],function(st,at){var ft=at+1,pt=ft==cn||ft==En;gn.prototype[st]=function(yt){var xt=this.clone();return xt.__iteratees__.push({iteratee:Zt(yt,3),type:ft}),xt.__filtered__=xt.__filtered__||pt,xt}}),ir(["head","last"],function(st,at){var ft="take"+(at?"Right":"");gn.prototype[st]=function(){return this[ft](1).value()[0]}}),ir(["initial","tail"],function(st,at){var ft="drop"+(at?"":"Right");gn.prototype[st]=function(){return this.__filtered__?new gn(this):this[ft](1)}}),gn.prototype.compact=function(){return this.filter(Yn)},gn.prototype.find=function(st){return this.filter(st).head()},gn.prototype.findLast=function(st){return this.reverse().find(st)},gn.prototype.invokeMap=pn(function(st,at){return typeof st=="function"?new gn(this):this.map(function(ft){return bo(ft,st,at)})}),gn.prototype.reject=function(st){return this.filter(Ss(Zt(st)))},gn.prototype.slice=function(st,at){st=hn(st);var ft=this;return ft.__filtered__&&(st>0||at<0)?new gn(ft):(st<0?ft=ft.takeRight(-st):st&&(ft=ft.drop(st)),at!==et&&(at=hn(at),ft=at<0?ft.dropRight(-at):ft.take(at-st)),ft)},gn.prototype.takeRightWhile=function(st){return this.reverse().takeWhile(st).reverse()},gn.prototype.toArray=function(){return this.take(Kt)},Or(gn.prototype,function(st,at){var ft=/^(?:filter|find|map|reject)|While$/.test(at),pt=/^(?:head|last)$/.test(at),yt=_t[pt?"take"+(at=="last"?"Right":""):at],xt=pt||/^find/.test(at);yt&&(_t.prototype[at]=function(){var bt=this.__wrapped__,kt=pt?[1]:arguments,$t=bt instanceof gn,It=kt[0],Dt=$t||sn(bt),Qt=function(mn){var On=yt.apply(_t,Rr([mn],kt));return pt&&Vt?On[0]:On};Dt&&ft&&typeof It=="function"&&It.length!=1&&($t=Dt=!1);var Vt=this.__chain__,Ht=!!this.__actions__.length,Yt=xt&&!Vt,dn=$t&&!Ht;if(!xt&&Dt){bt=dn?bt:new gn(this);var Gt=st.apply(bt,kt);return Gt.__actions__.push({func:gs,args:[Qt],thisArg:et}),new sr(Gt,Vt)}return Yt&&dn?st.apply(this,kt):(Gt=this.thru(Qt),Yt?pt?Gt.value()[0]:Gt.value():Gt)})}),ir(["pop","push","shift","sort","splice","unshift"],function(st){var at=Vo[st],ft=/^(?:push|sort|unshift)$/.test(st)?"tap":"thru",pt=/^(?:pop|shift)$/.test(st);_t.prototype[st]=function(){var yt=arguments;if(pt&&!this.__chain__){var xt=this.value();return at.apply(sn(xt)?xt:[],yt)}return this[ft](function(bt){return at.apply(sn(bt)?bt:[],yt)})}}),Or(gn.prototype,function(st,at){var ft=_t[at];if(ft){var pt=ft.name+"";xn.call(no,pt)||(no[pt]=[]),no[pt].push({name:at,func:ft})}}),no[as(et,St).name]=[{name:"wrapper",func:et}],gn.prototype.clone=AO,gn.prototype.reverse=NO,gn.prototype.value=IO,_t.prototype.at=cv,_t.prototype.chain=fv,_t.prototype.commit=hv,_t.prototype.next=dv,_t.prototype.plant=mv,_t.prototype.reverse=gv,_t.prototype.toJSON=_t.prototype.valueOf=_t.prototype.value=Ov,_t.prototype.first=_t.prototype.head,yo&&(_t.prototype[yo]=pv),_t},_i=hO();Br?((Br.exports=_i)._=_i,Fs._=_i):Dn._=_i}).call(commonjsGlobal)})(lodash,lodash.exports);var lodashExports=lodash.exports;const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor($,et){this.from=$,this.to=et}}class NodeProp{constructor($={}){this.id=nextPropID++,this.perNode=!!$.perNode,this.deserialize=$.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add($){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof $!="function"&&($=NodeType.match($)),et=>{let tt=$(et);return tt===void 0?null:[this,tt]}}}NodeProp.closedBy=new NodeProp({deserialize:_e=>_e.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:_e=>_e.split(" ")});NodeProp.group=new NodeProp({deserialize:_e=>_e.split(" ")});NodeProp.isolate=new NodeProp({deserialize:_e=>{if(_e&&_e!="rtl"&&_e!="ltr"&&_e!="auto")throw new RangeError("Invalid value for isolate: "+_e);return _e||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor($,et,tt){this.tree=$,this.overlay=et,this.parser=tt}static get($){return $&&$.props&&$.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor($,et,tt,nt=0){this.name=$,this.props=et,this.id=tt,this.flags=nt}static define($){let et=$.props&&$.props.length?Object.create(null):noProps,tt=($.top?1:0)|($.skipped?2:0)|($.error?4:0)|($.name==null?8:0),nt=new NodeType($.name||"",et,$.id,tt);if($.props){for(let rt of $.props)if(Array.isArray(rt)||(rt=rt(nt)),rt){if(rt[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");et[rt[0].id]=rt[1]}}return nt}prop($){return this.props[$.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is($){if(typeof $=="string"){if(this.name==$)return!0;let et=this.prop(NodeProp.group);return et?et.indexOf($)>-1:!1}return this.id==$}static match($){let et=Object.create(null);for(let tt in $)for(let nt of tt.split(" "))et[nt]=$[tt];return tt=>{for(let nt=tt.prop(NodeProp.group),rt=-1;rt<(nt?nt.length:0);rt++){let it=et[rt<0?tt.name:nt[rt]];if(it)return it}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor($){this.types=$;for(let et=0;et<$.length;et++)if($[et].id!=et)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...$){let et=[];for(let tt of this.types){let nt=null;for(let rt of $){let it=rt(tt);it&&(nt||(nt=Object.assign({},tt.props)),nt[it[0].id]=it[1])}et.push(nt?new NodeType(tt.name,nt,tt.id,tt.flags):tt)}return new NodeSet(et)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(_e){_e[_e.ExcludeBuffers=1]="ExcludeBuffers",_e[_e.IncludeAnonymous=2]="IncludeAnonymous",_e[_e.IgnoreMounts=4]="IgnoreMounts",_e[_e.IgnoreOverlays=8]="IgnoreOverlays"})(IterMode||(IterMode={}));class Tree{constructor($,et,tt,nt,rt){if(this.type=$,this.children=et,this.positions=tt,this.length=nt,this.props=null,rt&&rt.length){this.props=Object.create(null);for(let[it,ot]of rt)this.props[typeof it=="number"?it:it.id]=ot}}toString(){let $=MountedTree.get(this);if($&&!$.overlay)return $.tree.toString();let et="";for(let tt of this.children){let nt=tt.toString();nt&&(et&&(et+=","),et+=nt)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(et.length?"("+et+")":""):et}cursor($=0){return new TreeCursor(this.topNode,$)}cursorAt($,et=0,tt=0){let nt=CachedNode.get(this)||this.topNode,rt=new TreeCursor(nt);return rt.moveTo($,et),CachedNode.set(this,rt._tree),rt}get topNode(){return new TreeNode(this,0,0,null)}resolve($,et=0){let tt=resolveNode(CachedNode.get(this)||this.topNode,$,et,!1);return CachedNode.set(this,tt),tt}resolveInner($,et=0){let tt=resolveNode(CachedInnerNode.get(this)||this.topNode,$,et,!0);return CachedInnerNode.set(this,tt),tt}resolveStack($,et=0){return stackIterator(this,$,et)}iterate($){let{enter:et,leave:tt,from:nt=0,to:rt=this.length}=$,it=$.mode||0,ot=(it&IterMode.IncludeAnonymous)>0;for(let lt=this.cursor(it|IterMode.IncludeAnonymous);;){let ut=!1;if(lt.from<=rt&&lt.to>=nt&&(!ot&&lt.type.isAnonymous||et(lt)!==!1)){if(lt.firstChild())continue;ut=!0}for(;ut&&tt&&(ot||!lt.type.isAnonymous)&&tt(lt),!lt.nextSibling();){if(!lt.parent())return;ut=!0}}}prop($){return $.perNode?this.props?this.props[$.id]:void 0:this.type.prop($)}get propValues(){let $=[];if(this.props)for(let et in this.props)$.push([+et,this.props[et]]);return $}balance($={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(et,tt,nt)=>new Tree(this.type,et,tt,nt,this.propValues),$.makeTree||((et,tt,nt)=>new Tree(NodeType.none,et,tt,nt)))}static build($){return buildTree($)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor($,et){this.buffer=$,this.index=et}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor($,et,tt){this.buffer=$,this.length=et,this.set=tt}get type(){return NodeType.none}toString(){let $=[];for(let et=0;et<this.buffer.length;)$.push(this.childString(et)),et=this.buffer[et+3];return $.join(",")}childString($){let et=this.buffer[$],tt=this.buffer[$+3],nt=this.set.types[et],rt=nt.name;if(/\W/.test(rt)&&!nt.isError&&(rt=JSON.stringify(rt)),$+=4,tt==$)return rt;let it=[];for(;$<tt;)it.push(this.childString($)),$=this.buffer[$+3];return rt+"("+it.join(",")+")"}findChild($,et,tt,nt,rt){let{buffer:it}=this,ot=-1;for(let lt=$;lt!=et&&!(checkSide(rt,nt,it[lt+1],it[lt+2])&&(ot=lt,tt>0));lt=it[lt+3]);return ot}slice($,et,tt){let nt=this.buffer,rt=new Uint16Array(et-$),it=0;for(let ot=$,lt=0;ot<et;){rt[lt++]=nt[ot++],rt[lt++]=nt[ot++]-tt;let ut=rt[lt++]=nt[ot++]-tt;rt[lt++]=nt[ot++]-$,it=Math.max(it,ut)}return new TreeBuffer(rt,it,this.set)}}function checkSide(_e,$,et,tt){switch(_e){case-2:return et<$;case-1:return tt>=$&&et<$;case 0:return et<$&&tt>$;case 1:return et<=$&&tt>$;case 2:return tt>$;case 4:return!0}}function resolveNode(_e,$,et,tt){for(var nt;_e.from==_e.to||(et<1?_e.from>=$:_e.from>$)||(et>-1?_e.to<=$:_e.to<$);){let it=!tt&&_e instanceof TreeNode&&_e.index<0?null:_e.parent;if(!it)return _e;_e=it}let rt=tt?0:IterMode.IgnoreOverlays;if(tt)for(let it=_e,ot=it.parent;ot;it=ot,ot=it.parent)it instanceof TreeNode&&it.index<0&&((nt=ot.enter($,et,rt))===null||nt===void 0?void 0:nt.from)!=it.from&&(_e=ot);for(;;){let it=_e.enter($,et,rt);if(!it)return _e;_e=it}}class BaseNode{cursor($=0){return new TreeCursor(this,$)}getChild($,et=null,tt=null){let nt=getChildren(this,$,et,tt);return nt.length?nt[0]:null}getChildren($,et=null,tt=null){return getChildren(this,$,et,tt)}resolve($,et=0){return resolveNode(this,$,et,!1)}resolveInner($,et=0){return resolveNode(this,$,et,!0)}matchContext($){return matchNodeContext(this,$)}enterUnfinishedNodesBefore($){let et=this.childBefore($),tt=this;for(;et;){let nt=et.lastChild;if(!nt||nt.to!=et.to)break;nt.type.isError&&nt.from==nt.to?(tt=et,et=nt.prevSibling):et=nt}return tt}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor($,et,tt,nt){super(),this._tree=$,this.from=et,this.index=tt,this._parent=nt}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild($,et,tt,nt,rt=0){for(let it=this;;){for(let{children:ot,positions:lt}=it._tree,ut=et>0?ot.length:-1;$!=ut;$+=et){let ct=ot[$],ht=lt[$]+it.from;if(checkSide(nt,tt,ht,ht+ct.length)){if(ct instanceof TreeBuffer){if(rt&IterMode.ExcludeBuffers)continue;let dt=ct.findChild(0,ct.buffer.length,et,tt-ht,nt);if(dt>-1)return new BufferNode(new BufferContext(it,ct,$,ht),null,dt)}else if(rt&IterMode.IncludeAnonymous||!ct.type.isAnonymous||hasChild(ct)){let dt;if(!(rt&IterMode.IgnoreMounts)&&(dt=MountedTree.get(ct))&&!dt.overlay)return new TreeNode(dt.tree,ht,$,it);let mt=new TreeNode(ct,ht,$,it);return rt&IterMode.IncludeAnonymous||!mt.type.isAnonymous?mt:mt.nextChild(et<0?ct.children.length-1:0,et,tt,nt)}}}if(rt&IterMode.IncludeAnonymous||!it.type.isAnonymous||(it.index>=0?$=it.index+et:$=et<0?-1:it._parent._tree.children.length,it=it._parent,!it))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter($){return this.nextChild(0,1,$,2)}childBefore($){return this.nextChild(this._tree.children.length-1,-1,$,-2)}enter($,et,tt=0){let nt;if(!(tt&IterMode.IgnoreOverlays)&&(nt=MountedTree.get(this._tree))&&nt.overlay){let rt=$-this.from;for(let{from:it,to:ot}of nt.overlay)if((et>0?it<=rt:it<rt)&&(et<0?ot>=rt:ot>rt))return new TreeNode(nt.tree,nt.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,$,et,tt)}nextSignificantParent(){let $=this;for(;$.type.isAnonymous&&$._parent;)$=$._parent;return $}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(_e,$,et,tt){let nt=_e.cursor(),rt=[];if(!nt.firstChild())return rt;if(et!=null){for(let it=!1;!it;)if(it=nt.type.is(et),!nt.nextSibling())return rt}for(;;){if(tt!=null&&nt.type.is(tt))return rt;if(nt.type.is($)&&rt.push(nt.node),!nt.nextSibling())return tt==null?rt:[]}}function matchNodeContext(_e,$,et=$.length-1){for(let tt=_e.parent;et>=0;tt=tt.parent){if(!tt)return!1;if(!tt.type.isAnonymous){if($[et]&&$[et]!=tt.name)return!1;et--}}return!0}class BufferContext{constructor($,et,tt,nt){this.parent=$,this.buffer=et,this.index=tt,this.start=nt}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor($,et,tt){super(),this.context=$,this._parent=et,this.index=tt,this.type=$.buffer.set.types[$.buffer.buffer[tt]]}child($,et,tt){let{buffer:nt}=this.context,rt=nt.findChild(this.index+4,nt.buffer[this.index+3],$,et-this.context.start,tt);return rt<0?null:new BufferNode(this.context,this,rt)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter($){return this.child(1,$,2)}childBefore($){return this.child(-1,$,-2)}enter($,et,tt=0){if(tt&IterMode.ExcludeBuffers)return null;let{buffer:nt}=this.context,rt=nt.findChild(this.index+4,nt.buffer[this.index+3],et>0?1:-1,$-this.context.start,et);return rt<0?null:new BufferNode(this.context,this,rt)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling($){return this._parent?null:this.context.parent.nextChild(this.context.index+$,$,0,4)}get nextSibling(){let{buffer:$}=this.context,et=$.buffer[this.index+3];return et<(this._parent?$.buffer[this._parent.index+3]:$.buffer.length)?new BufferNode(this.context,this._parent,et):this.externalSibling(1)}get prevSibling(){let{buffer:$}=this.context,et=this._parent?this._parent.index+4:0;return this.index==et?this.externalSibling(-1):new BufferNode(this.context,this._parent,$.findChild(et,this.index,-1,0,4))}get tree(){return null}toTree(){let $=[],et=[],{buffer:tt}=this.context,nt=this.index+4,rt=tt.buffer[this.index+3];if(rt>nt){let it=tt.buffer[this.index+1];$.push(tt.slice(nt,rt,it)),et.push(0)}return new Tree(this.type,$,et,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(_e){if(!_e.length)return null;let $=0,et=_e[0];for(let rt=1;rt<_e.length;rt++){let it=_e[rt];(it.from>et.from||it.to<et.to)&&(et=it,$=rt)}let tt=et instanceof TreeNode&&et.index<0?null:et.parent,nt=_e.slice();return tt?nt[$]=tt:nt.splice($,1),new StackIterator(nt,et)}class StackIterator{constructor($,et){this.heads=$,this.node=et}get next(){return iterStack(this.heads)}}function stackIterator(_e,$,et){let tt=_e.resolveInner($,et),nt=null;for(let rt=tt instanceof TreeNode?tt:tt.context.parent;rt;rt=rt.parent)if(rt.index<0){let it=rt.parent;(nt||(nt=[tt])).push(it.resolve($,et)),rt=it}else{let it=MountedTree.get(rt.tree);if(it&&it.overlay&&it.overlay[0].from<=$&&it.overlay[it.overlay.length-1].to>=$){let ot=new TreeNode(it.tree,it.overlay[0].from+rt.from,-1,rt);(nt||(nt=[tt])).push(resolveNode(ot,$,et,!1))}}return nt?iterStack(nt):tt}class TreeCursor{get name(){return this.type.name}constructor($,et=0){if(this.mode=et,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,$ instanceof TreeNode)this.yieldNode($);else{this._tree=$.context.parent,this.buffer=$.context;for(let tt=$._parent;tt;tt=tt._parent)this.stack.unshift(tt.index);this.bufferNode=$,this.yieldBuf($.index)}}yieldNode($){return $?(this._tree=$,this.type=$.type,this.from=$.from,this.to=$.to,!0):!1}yieldBuf($,et){this.index=$;let{start:tt,buffer:nt}=this.buffer;return this.type=et||nt.set.types[nt.buffer[$]],this.from=tt+nt.buffer[$+1],this.to=tt+nt.buffer[$+2],!0}yield($){return $?$ instanceof TreeNode?(this.buffer=null,this.yieldNode($)):(this.buffer=$.context,this.yieldBuf($.index,$.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild($,et,tt){if(!this.buffer)return this.yield(this._tree.nextChild($<0?this._tree._tree.children.length-1:0,$,et,tt,this.mode));let{buffer:nt}=this.buffer,rt=nt.findChild(this.index+4,nt.buffer[this.index+3],$,et-this.buffer.start,tt);return rt<0?!1:(this.stack.push(this.index),this.yieldBuf(rt))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter($){return this.enterChild(1,$,2)}childBefore($){return this.enterChild(-1,$,-2)}enter($,et,tt=this.mode){return this.buffer?tt&IterMode.ExcludeBuffers?!1:this.enterChild(1,$,et):this.yield(this._tree.enter($,et,tt))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let $=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode($)}sibling($){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+$,$,0,4,this.mode)):!1;let{buffer:et}=this.buffer,tt=this.stack.length-1;if($<0){let nt=tt<0?0:this.stack[tt]+4;if(this.index!=nt)return this.yieldBuf(et.findChild(nt,this.index,-1,0,4))}else{let nt=et.buffer[this.index+3];if(nt<(tt<0?et.buffer.length:et.buffer[this.stack[tt]+3]))return this.yieldBuf(nt)}return tt<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+$,$,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode($){let et,tt,{buffer:nt}=this;if(nt){if($>0){if(this.index<nt.buffer.buffer.length)return!1}else for(let rt=0;rt<this.index;rt++)if(nt.buffer.buffer[rt+3]<this.index)return!1;({index:et,parent:tt}=nt)}else({index:et,_parent:tt}=this._tree);for(;tt;{index:et,_parent:tt}=tt)if(et>-1)for(let rt=et+$,it=$<0?-1:tt._tree.children.length;rt!=it;rt+=$){let ot=tt._tree.children[rt];if(this.mode&IterMode.IncludeAnonymous||ot instanceof TreeBuffer||!ot.type.isAnonymous||hasChild(ot))return!1}return!0}move($,et){if(et&&this.enterChild($,0,4))return!0;for(;;){if(this.sibling($))return!0;if(this.atLastNode($)||!this.parent())return!1}}next($=!0){return this.move(1,$)}prev($=!0){return this.move(-1,$)}moveTo($,et=0){for(;(this.from==this.to||(et<1?this.from>=$:this.from>$)||(et>-1?this.to<=$:this.to<$))&&this.parent(););for(;this.enterChild(1,$,et););return this}get node(){if(!this.buffer)return this._tree;let $=this.bufferNode,et=null,tt=0;if($&&$.context==this.buffer)e:for(let nt=this.index,rt=this.stack.length;rt>=0;){for(let it=$;it;it=it._parent)if(it.index==nt){if(nt==this.index)return it;et=it,tt=rt+1;break e}nt=this.stack[--rt]}for(let nt=tt;nt<this.stack.length;nt++)et=new BufferNode(this.buffer,et,this.stack[nt]);return this.bufferNode=new BufferNode(this.buffer,et,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate($,et){for(let tt=0;;){let nt=!1;if(this.type.isAnonymous||$(this)!==!1){if(this.firstChild()){tt++;continue}this.type.isAnonymous||(nt=!0)}for(;nt&&et&&et(this),nt=this.type.isAnonymous,!this.nextSibling();){if(!tt)return;this.parent(),tt--,nt=!0}}}matchContext($){if(!this.buffer)return matchNodeContext(this.node,$);let{buffer:et}=this.buffer,{types:tt}=et.set;for(let nt=$.length-1,rt=this.stack.length-1;nt>=0;rt--){if(rt<0)return matchNodeContext(this.node,$,nt);let it=tt[et.buffer[this.stack[rt]]];if(!it.isAnonymous){if($[nt]&&$[nt]!=it.name)return!1;nt--}}return!0}}function hasChild(_e){return _e.children.some($=>$ instanceof TreeBuffer||!$.type.isAnonymous||hasChild($))}function buildTree(_e){var $;let{buffer:et,nodeSet:tt,maxBufferLength:nt=DefaultBufferLength,reused:rt=[],minRepeatType:it=tt.types.length}=_e,ot=Array.isArray(et)?new FlatBufferCursor(et,et.length):et,lt=tt.types,ut=0,ct=0;function ht(Pt,Mt,Rt,Lt,Wt,Ft){let{id:Ut,start:Xt,end:ln,size:cn}=ot,yn=ct;for(;cn<0;)if(ot.next(),cn==-1){let zt=rt[Ut];Rt.push(zt),Lt.push(Xt-Pt);return}else if(cn==-3){ut=Ut;return}else if(cn==-4){ct=Ut;return}else throw new RangeError(`Unrecognized record size: ${cn}`);let En=lt[Ut],vn,Bt,jt=Xt-Pt;if(ln-Xt<=nt&&(Bt=wt(ot.pos-Mt,Wt))){let zt=new Uint16Array(Bt.size-Bt.skip),Kt=ot.pos-Bt.size,Sn=zt.length;for(;ot.pos>Kt;)Sn=St(Bt.start,zt,Sn);vn=new TreeBuffer(zt,ln-Bt.start,tt),jt=Bt.start-Pt}else{let zt=ot.pos-cn;ot.next();let Kt=[],Sn=[],Hn=Ut>=it?Ut:-1,Qn=0,Vn=ln;for(;ot.pos>zt;)Hn>=0&&ot.id==Hn&&ot.size>=0?(ot.end<=Vn-nt&&(gt(Kt,Sn,Xt,Qn,ot.end,Vn,Hn,yn),Qn=Kt.length,Vn=ot.end),ot.next()):Ft>2500?dt(Xt,zt,Kt,Sn):ht(Xt,zt,Kt,Sn,Hn,Ft+1);if(Hn>=0&&Qn>0&&Qn<Kt.length&&gt(Kt,Sn,Xt,Qn,Xt,Vn,Hn,yn),Kt.reverse(),Sn.reverse(),Hn>-1&&Qn>0){let Wn=mt(En);vn=balanceRange(En,Kt,Sn,0,Kt.length,0,ln-Xt,Wn,Wn)}else vn=Ot(En,Kt,Sn,ln-Xt,yn-ln)}Rt.push(vn),Lt.push(jt)}function dt(Pt,Mt,Rt,Lt){let Wt=[],Ft=0,Ut=-1;for(;ot.pos>Mt;){let{id:Xt,start:ln,end:cn,size:yn}=ot;if(yn>4)ot.next();else{if(Ut>-1&&ln<Ut)break;Ut<0&&(Ut=cn-nt),Wt.push(Xt,ln,cn),Ft++,ot.next()}}if(Ft){let Xt=new Uint16Array(Ft*4),ln=Wt[Wt.length-2];for(let cn=Wt.length-3,yn=0;cn>=0;cn-=3)Xt[yn++]=Wt[cn],Xt[yn++]=Wt[cn+1]-ln,Xt[yn++]=Wt[cn+2]-ln,Xt[yn++]=yn;Rt.push(new TreeBuffer(Xt,Wt[2]-ln,tt)),Lt.push(ln-Pt)}}function mt(Pt){return(Mt,Rt,Lt)=>{let Wt=0,Ft=Mt.length-1,Ut,Xt;if(Ft>=0&&(Ut=Mt[Ft])instanceof Tree){if(!Ft&&Ut.type==Pt&&Ut.length==Lt)return Ut;(Xt=Ut.prop(NodeProp.lookAhead))&&(Wt=Rt[Ft]+Ut.length+Xt)}return Ot(Pt,Mt,Rt,Lt,Wt)}}function gt(Pt,Mt,Rt,Lt,Wt,Ft,Ut,Xt){let ln=[],cn=[];for(;Pt.length>Lt;)ln.push(Pt.pop()),cn.push(Mt.pop()+Rt-Wt);Pt.push(Ot(tt.types[Ut],ln,cn,Ft-Wt,Xt-Ft)),Mt.push(Wt-Rt)}function Ot(Pt,Mt,Rt,Lt,Wt=0,Ft){if(ut){let Ut=[NodeProp.contextHash,ut];Ft=Ft?[Ut].concat(Ft):[Ut]}if(Wt>25){let Ut=[NodeProp.lookAhead,Wt];Ft=Ft?[Ut].concat(Ft):[Ut]}return new Tree(Pt,Mt,Rt,Lt,Ft)}function wt(Pt,Mt){let Rt=ot.fork(),Lt=0,Wt=0,Ft=0,Ut=Rt.end-nt,Xt={size:0,start:0,skip:0};e:for(let ln=Rt.pos-Pt;Rt.pos>ln;){let cn=Rt.size;if(Rt.id==Mt&&cn>=0){Xt.size=Lt,Xt.start=Wt,Xt.skip=Ft,Ft+=4,Lt+=4,Rt.next();continue}let yn=Rt.pos-cn;if(cn<0||yn<ln||Rt.start<Ut)break;let En=Rt.id>=it?4:0,vn=Rt.start;for(Rt.next();Rt.pos>yn;){if(Rt.size<0)if(Rt.size==-3)En+=4;else break e;else Rt.id>=it&&(En+=4);Rt.next()}Wt=vn,Lt+=cn,Ft+=En}return(Mt<0||Lt==Pt)&&(Xt.size=Lt,Xt.start=Wt,Xt.skip=Ft),Xt.size>4?Xt:void 0}function St(Pt,Mt,Rt){let{id:Lt,start:Wt,end:Ft,size:Ut}=ot;if(ot.next(),Ut>=0&&Lt<it){let Xt=Rt;if(Ut>4){let ln=ot.pos-(Ut-4);for(;ot.pos>ln;)Rt=St(Pt,Mt,Rt)}Mt[--Rt]=Xt,Mt[--Rt]=Ft-Pt,Mt[--Rt]=Wt-Pt,Mt[--Rt]=Lt}else Ut==-3?ut=Lt:Ut==-4&&(ct=Lt);return Rt}let vt=[],Tt=[];for(;ot.pos>0;)ht(_e.start||0,_e.bufferStart||0,vt,Tt,-1,0);let Et=($=_e.length)!==null&&$!==void 0?$:vt.length?Tt[0]+vt[0].length:0;return new Tree(lt[_e.topID],vt.reverse(),Tt.reverse(),Et)}const nodeSizeCache=new WeakMap;function nodeSize(_e,$){if(!_e.isAnonymous||$ instanceof TreeBuffer||$.type!=_e)return 1;let et=nodeSizeCache.get($);if(et==null){et=1;for(let tt of $.children){if(tt.type!=_e||!(tt instanceof Tree)){et=1;break}et+=nodeSize(_e,tt)}nodeSizeCache.set($,et)}return et}function balanceRange(_e,$,et,tt,nt,rt,it,ot,lt){let ut=0;for(let gt=tt;gt<nt;gt++)ut+=nodeSize(_e,$[gt]);let ct=Math.ceil(ut*1.5/8),ht=[],dt=[];function mt(gt,Ot,wt,St,vt){for(let Tt=wt;Tt<St;){let Et=Tt,Pt=Ot[Tt],Mt=nodeSize(_e,gt[Tt]);for(Tt++;Tt<St;Tt++){let Rt=nodeSize(_e,gt[Tt]);if(Mt+Rt>=ct)break;Mt+=Rt}if(Tt==Et+1){if(Mt>ct){let Rt=gt[Et];mt(Rt.children,Rt.positions,0,Rt.children.length,Ot[Et]+vt);continue}ht.push(gt[Et])}else{let Rt=Ot[Tt-1]+gt[Tt-1].length-Pt;ht.push(balanceRange(_e,gt,Ot,Et,Tt,Pt,Rt,null,lt))}dt.push(Pt+vt-rt)}}return mt($,et,tt,nt,0),(ot||lt)(ht,dt,it)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer($,et,tt){let nt=this.map.get($);nt||this.map.set($,nt=new Map),nt.set(et,tt)}getBuffer($,et){let tt=this.map.get($);return tt&&tt.get(et)}set($,et){$ instanceof BufferNode?this.setBuffer($.context.buffer,$.index,et):$ instanceof TreeNode&&this.map.set($.tree,et)}get($){return $ instanceof BufferNode?this.getBuffer($.context.buffer,$.index):$ instanceof TreeNode?this.map.get($.tree):void 0}cursorSet($,et){$.buffer?this.setBuffer($.buffer.buffer,$.index,et):this.map.set($.tree,et)}cursorGet($){return $.buffer?this.getBuffer($.buffer.buffer,$.index):this.map.get($.tree)}}class TreeFragment{constructor($,et,tt,nt,rt=!1,it=!1){this.from=$,this.to=et,this.tree=tt,this.offset=nt,this.open=(rt?1:0)|(it?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree($,et=[],tt=!1){let nt=[new TreeFragment(0,$.length,$,0,!1,tt)];for(let rt of et)rt.to>$.length&&nt.push(rt);return nt}static applyChanges($,et,tt=128){if(!et.length)return $;let nt=[],rt=1,it=$.length?$[0]:null;for(let ot=0,lt=0,ut=0;;ot++){let ct=ot<et.length?et[ot]:null,ht=ct?ct.fromA:1e9;if(ht-lt>=tt)for(;it&&it.from<ht;){let dt=it;if(lt>=dt.from||ht<=dt.to||ut){let mt=Math.max(dt.from,lt)-ut,gt=Math.min(dt.to,ht)-ut;dt=mt>=gt?null:new TreeFragment(mt,gt,dt.tree,dt.offset+ut,ot>0,!!ct)}if(dt&&nt.push(dt),it.to>ht)break;it=rt<$.length?$[rt++]:null}if(!ct)break;lt=ct.toA,ut=ct.toA-ct.toB}return nt}}class Parser{startParse($,et,tt){return typeof $=="string"&&($=new StringInput($)),tt=tt?tt.length?tt.map(nt=>new Range(nt.from,nt.to)):[new Range(0,0)]:[new Range(0,$.length)],this.createParse($,et||[],tt)}parse($,et,tt){let nt=this.startParse($,et,tt);for(;;){let rt=nt.advance();if(rt)return rt}}}class StringInput{constructor($){this.string=$}get length(){return this.string.length}chunk($){return this.string.slice($)}get lineChunks(){return!1}read($,et){return this.string.slice($,et)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor($,et,tt){this.set=$,this.base=et,this.modified=tt,this.id=nextTagID++}static define($){if($?.base)throw new Error("Can not derive from a modified tag");let et=new Tag([],null,[]);if(et.set.push(et),$)for(let tt of $.set)et.set.push(tt);return et}static defineModifier(){let $=new Modifier;return et=>et.modified.indexOf($)>-1?et:Modifier.get(et.base||et,et.modified.concat($).sort((tt,nt)=>tt.id-nt.id))}}let nextModifierID=0;class Modifier{constructor(){this.instances=[],this.id=nextModifierID++}static get($,et){if(!et.length)return $;let tt=et[0].instances.find(ot=>ot.base==$&&sameArray(et,ot.modified));if(tt)return tt;let nt=[],rt=new Tag(nt,$,et);for(let ot of et)ot.instances.push(rt);let it=powerSet(et);for(let ot of $.set)if(!ot.modified.length)for(let lt of it)nt.push(Modifier.get(ot,lt));return rt}}function sameArray(_e,$){return _e.length==$.length&&_e.every((et,tt)=>et==$[tt])}function powerSet(_e){let $=[[]];for(let et=0;et<_e.length;et++)for(let tt=0,nt=$.length;tt<nt;tt++)$.push($[tt].concat(_e[et]));return $.sort((et,tt)=>tt.length-et.length)}function styleTags(_e){let $=Object.create(null);for(let et in _e){let tt=_e[et];Array.isArray(tt)||(tt=[tt]);for(let nt of et.split(" "))if(nt){let rt=[],it=2,ot=nt;for(let ht=0;;){if(ot=="..."&&ht>0&&ht+3==nt.length){it=1;break}let dt=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(ot);if(!dt)throw new RangeError("Invalid path: "+nt);if(rt.push(dt[0]=="*"?"":dt[0][0]=='"'?JSON.parse(dt[0]):dt[0]),ht+=dt[0].length,ht==nt.length)break;let mt=nt[ht++];if(ht==nt.length&&mt=="!"){it=0;break}if(mt!="/")throw new RangeError("Invalid path: "+nt);ot=nt.slice(ht)}let lt=rt.length-1,ut=rt[lt];if(!ut)throw new RangeError("Invalid path: "+nt);let ct=new Rule(tt,it,lt>0?rt.slice(0,lt):null);$[ut]=ct.sort($[ut])}}return ruleNodeProp.add($)}const ruleNodeProp=new NodeProp;class Rule{constructor($,et,tt,nt){this.tags=$,this.mode=et,this.context=tt,this.next=nt}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort($){return!$||$.depth<this.depth?(this.next=$,this):($.next=this.sort($.next),$)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(_e,$){let et=Object.create(null);for(let rt of _e)if(!Array.isArray(rt.tag))et[rt.tag.id]=rt.class;else for(let it of rt.tag)et[it.id]=rt.class;let{scope:tt,all:nt=null}=$||{};return{style:rt=>{let it=nt;for(let ot of rt)for(let lt of ot.set){let ut=et[lt.id];if(ut){it=it?it+" "+ut:ut;break}}return it},scope:tt}}function highlightTags(_e,$){let et=null;for(let tt of _e){let nt=tt.style($);nt&&(et=et?et+" "+nt:nt)}return et}function highlightTree(_e,$,et,tt=0,nt=_e.length){let rt=new HighlightBuilder(tt,Array.isArray($)?$:[$],et);rt.highlightRange(_e.cursor(),tt,nt,"",rt.highlighters),rt.flush(nt)}function highlightCode(_e,$,et,tt,nt,rt=0,it=_e.length){let ot=rt;function lt(ut,ct){if(!(ut<=ot)){for(let ht=_e.slice(ot,ut),dt=0;;){let mt=ht.indexOf(`
`,dt),gt=mt<0?ht.length:mt;if(gt>dt&&tt(ht.slice(dt,gt),ct),mt<0)break;nt(),dt=mt+1}ot=ut}}highlightTree($,et,(ut,ct,ht)=>{lt(ut,""),lt(ct,ht)},rt,it),lt(it,"")}class HighlightBuilder{constructor($,et,tt){this.at=$,this.highlighters=et,this.span=tt,this.class=""}startSpan($,et){et!=this.class&&(this.flush($),$>this.at&&(this.at=$),this.class=et)}flush($){$>this.at&&this.class&&this.span(this.at,$,this.class)}highlightRange($,et,tt,nt,rt){let{type:it,from:ot,to:lt}=$;if(ot>=tt||lt<=et)return;it.isTop&&(rt=this.highlighters.filter(mt=>!mt.scope||mt.scope(it)));let ut=nt,ct=getStyleTags($)||Rule.empty,ht=highlightTags(rt,ct.tags);if(ht&&(ut&&(ut+=" "),ut+=ht,ct.mode==1&&(nt+=(nt?" ":"")+ht)),this.startSpan(Math.max(et,ot),ut),ct.opaque)return;let dt=$.tree&&$.tree.prop(NodeProp.mounted);if(dt&&dt.overlay){let mt=$.node.enter(dt.overlay[0].from+ot,1),gt=this.highlighters.filter(wt=>!wt.scope||wt.scope(dt.tree.type)),Ot=$.firstChild();for(let wt=0,St=ot;;wt++){let vt=wt<dt.overlay.length?dt.overlay[wt]:null,Tt=vt?vt.from+ot:lt,Et=Math.max(et,St),Pt=Math.min(tt,Tt);if(Et<Pt&&Ot)for(;$.from<Pt&&(this.highlightRange($,Et,Pt,nt,rt),this.startSpan(Math.min(Pt,$.to),ut),!($.to>=Tt||!$.nextSibling())););if(!vt||Tt>tt)break;St=vt.to+ot,St>et&&(this.highlightRange(mt.cursor(),Math.max(et,vt.from+ot),Math.min(tt,St),"",gt),this.startSpan(Math.min(tt,St),ut))}Ot&&$.parent()}else if($.firstChild()){dt&&(nt="");do if(!($.to<=et)){if($.from>=tt)break;this.highlightRange($,et,tt,nt,rt),this.startSpan(Math.min(tt,$.to),ut)}while($.nextSibling());$.parent()}}}function getStyleTags(_e){let $=_e.type.prop(ruleNodeProp);for(;$&&$.context&&!_e.matchContext($.context);)$=$.next;return $||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier(),constant:Tag.defineModifier(),function:Tag.defineModifier(),standard:Tag.defineModifier(),local:Tag.defineModifier(),special:Tag.defineModifier()};tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(_e){return Facet.define({combine:_e?$=>$.concat(_e):void 0})}const sublanguageProp=new NodeProp;class Language{constructor($,et,tt=[],nt=""){this.data=$,this.name=nt,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=et,this.extension=[language.of(this),EditorState.languageData.of((rt,it,ot)=>{let lt=topNodeAt(rt,it,ot),ut=lt.type.prop(languageDataProp);if(!ut)return[];let ct=rt.facet(ut),ht=lt.type.prop(sublanguageProp);if(ht){let dt=lt.resolve(it-lt.from,ot);for(let mt of ht)if(mt.test(dt,rt)){let gt=rt.facet(mt.facet);return mt.type=="replace"?gt:gt.concat(ct)}}return ct})].concat(tt)}isActiveAt($,et,tt=-1){return topNodeAt($,et,tt).type.prop(languageDataProp)==this.data}findRegions($){let et=$.facet(language);if(et?.data==this.data)return[{from:0,to:$.doc.length}];if(!et||!et.allowsNesting)return[];let tt=[],nt=(rt,it)=>{if(rt.prop(languageDataProp)==this.data){tt.push({from:it,to:it+rt.length});return}let ot=rt.prop(NodeProp.mounted);if(ot){if(ot.tree.prop(languageDataProp)==this.data){if(ot.overlay)for(let lt of ot.overlay)tt.push({from:lt.from+it,to:lt.to+it});else tt.push({from:it,to:it+rt.length});return}else if(ot.overlay){let lt=tt.length;if(nt(ot.tree,ot.overlay[0].from+it),tt.length>lt)return}}for(let lt=0;lt<rt.children.length;lt++){let ut=rt.children[lt];ut instanceof Tree&&nt(ut,rt.positions[lt]+it)}};return nt(syntaxTree($),0),tt}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(_e,$,et){let tt=_e.facet(language),nt=syntaxTree(_e).topNode;if(!tt||tt.allowsNesting)for(let rt=nt;rt;rt=rt.enter($,et,IterMode.ExcludeBuffers))rt.type.isTop&&(nt=rt);return nt}class LRLanguage extends Language{constructor($,et,tt){super($,et,[],tt),this.parser=et}static define($){let et=defineLanguageFacet($.languageData);return new LRLanguage(et,$.parser.configure({props:[languageDataProp.add(tt=>tt.isTop?et:void 0)]}),$.name)}configure($,et){return new LRLanguage(this.data,this.parser.configure($),et||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(_e){let $=_e.field(Language.state,!1);return $?$.tree:Tree.empty}class DocInput{constructor($){this.doc=$,this.cursorPos=0,this.string="",this.cursor=$.iter()}get length(){return this.doc.length}syncTo($){return this.string=this.cursor.next($-this.cursorPos).value,this.cursorPos=$+this.string.length,this.cursorPos-this.string.length}chunk($){return this.syncTo($),this.string}get lineChunks(){return!0}read($,et){let tt=this.cursorPos-this.string.length;return $<tt||et>=this.cursorPos?this.doc.sliceString($,et):this.string.slice($-tt,et-tt)}}let currentContext=null;class ParseContext{constructor($,et,tt=[],nt,rt,it,ot,lt){this.parser=$,this.state=et,this.fragments=tt,this.tree=nt,this.treeLen=rt,this.viewport=it,this.skipped=ot,this.scheduleOn=lt,this.parse=null,this.tempSkipped=[]}static create($,et,tt){return new ParseContext($,et,[],Tree.empty,0,tt,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work($,et){return et!=null&&et>=this.state.doc.length&&(et=void 0),this.tree!=Tree.empty&&this.isDone(et??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var tt;if(typeof $=="number"){let nt=Date.now()+$;$=()=>Date.now()>nt}for(this.parse||(this.parse=this.startParse()),et!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>et)&&et<this.state.doc.length&&this.parse.stopAt(et);;){let nt=this.parse.advance();if(nt)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(nt,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(tt=this.parse.stoppedAt)!==null&&tt!==void 0?tt:this.state.doc.length,this.tree=nt,this.parse=null,this.treeLen<(et??this.state.doc.length))this.parse=this.startParse();else return!0;if($())return!1}})}takeTree(){let $,et;this.parse&&($=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>$)&&this.parse.stopAt($),this.withContext(()=>{for(;!(et=this.parse.advance()););}),this.treeLen=$,this.tree=et,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext($){let et=currentContext;currentContext=this;try{return $()}finally{currentContext=et}}withoutTempSkipped($){for(let et;et=this.tempSkipped.pop();)$=cutFragments($,et.from,et.to);return $}changes($,et){let{fragments:tt,tree:nt,treeLen:rt,viewport:it,skipped:ot}=this;if(this.takeTree(),!$.empty){let lt=[];if($.iterChangedRanges((ut,ct,ht,dt)=>lt.push({fromA:ut,toA:ct,fromB:ht,toB:dt})),tt=TreeFragment.applyChanges(tt,lt),nt=Tree.empty,rt=0,it={from:$.mapPos(it.from,-1),to:$.mapPos(it.to,1)},this.skipped.length){ot=[];for(let ut of this.skipped){let ct=$.mapPos(ut.from,1),ht=$.mapPos(ut.to,-1);ct<ht&&ot.push({from:ct,to:ht})}}}return new ParseContext(this.parser,et,tt,nt,rt,it,ot,this.scheduleOn)}updateViewport($){if(this.viewport.from==$.from&&this.viewport.to==$.to)return!1;this.viewport=$;let et=this.skipped.length;for(let tt=0;tt<this.skipped.length;tt++){let{from:nt,to:rt}=this.skipped[tt];nt<$.to&&rt>$.from&&(this.fragments=cutFragments(this.fragments,nt,rt),this.skipped.splice(tt--,1))}return this.skipped.length>=et?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView($,et){this.skipped.push({from:$,to:et})}static getSkippingParser($){return new class extends Parser{createParse(et,tt,nt){let rt=nt[0].from,it=nt[nt.length-1].to;return{parsedPos:rt,advance(){let lt=currentContext;if(lt){for(let ut of nt)lt.tempSkipped.push(ut);$&&(lt.scheduleOn=lt.scheduleOn?Promise.all([lt.scheduleOn,$]):$)}return this.parsedPos=it,new Tree(NodeType.none,[],[],it-rt)},stoppedAt:null,stopAt(){}}}}}isDone($){$=Math.min($,this.state.doc.length);let et=this.fragments;return this.treeLen>=$&&et.length&&et[0].from==0&&et[0].to>=$}static get(){return currentContext}}function cutFragments(_e,$,et){return TreeFragment.applyChanges(_e,[{fromA:$,toA:et,fromB:$,toB:et}])}class LanguageState{constructor($){this.context=$,this.tree=$.tree}apply($){if(!$.docChanged&&this.tree==this.context.tree)return this;let et=this.context.changes($.changes,$.state),tt=this.context.treeLen==$.startState.doc.length?void 0:Math.max($.changes.mapPos(this.context.treeLen),et.viewport.to);return et.work(20,tt)||et.takeTree(),new LanguageState(et)}static init($){let et=Math.min(3e3,$.doc.length),tt=ParseContext.create($.facet(language).parser,$,{from:0,to:et});return tt.work(20,et)||tt.takeTree(),new LanguageState(tt)}}Language.state=StateField.define({create:LanguageState.init,update(_e,$){for(let et of $.effects)if(et.is(Language.setState))return et.value;return $.startState.facet(language)!=$.state.facet(language)?LanguageState.init($.state):_e.apply($)}});let requestIdle=_e=>{let $=setTimeout(()=>_e(),500);return()=>clearTimeout($)};typeof requestIdleCallback<"u"&&(requestIdle=_e=>{let $=-1,et=setTimeout(()=>{$=requestIdleCallback(_e,{timeout:400})},100);return()=>$<0?clearTimeout(et):cancelIdleCallback($)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor($){this.view=$,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update($){let et=this.view.state.field(Language.state).context;(et.updateViewport($.view.viewport)||this.view.viewport.to>et.treeLen)&&this.scheduleWork(),($.docChanged||$.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(et)}scheduleWork(){if(this.working)return;let{state:$}=this.view,et=$.field(Language.state);(et.tree!=et.context.tree||!et.context.isDone($.doc.length))&&(this.working=requestIdle(this.work))}work($){this.working=null;let et=Date.now();if(this.chunkEnd<et&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=et+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:tt,viewport:{to:nt}}=this.view,rt=tt.field(Language.state);if(rt.tree==rt.context.tree&&rt.context.isDone(nt+1e5))return;let it=Date.now()+Math.min(this.chunkBudget,100,$&&!isInputPending?Math.max(25,$.timeRemaining()-5):1e9),ot=rt.context.treeLen<nt&&tt.doc.length>nt+1e3,lt=rt.context.work(()=>isInputPending&&isInputPending()||Date.now()>it,nt+(ot?0:1e5));this.chunkBudget-=Date.now()-et,(lt||this.chunkBudget<=0)&&(rt.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(rt.context))})),this.chunkBudget>0&&!(lt&&!ot)&&this.scheduleWork(),this.checkAsyncSchedule(rt.context)}checkAsyncSchedule($){$.scheduleOn&&(this.workScheduled++,$.scheduleOn.then(()=>this.scheduleWork()).catch(et=>logException(this.view.state,et)).then(()=>this.workScheduled--),$.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(_e){return _e.length?_e[0]:null},enables:_e=>[Language.state,parseWorker,EditorView.contentAttributes.compute([_e],$=>{let et=$.facet(_e);return et&&et.name?{"data-language":et.name}:{}})]});class LanguageSupport{constructor($,et=[]){this.language=$,this.support=et,this.extension=[$,et]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:_e=>{if(!_e.length)return"  ";let $=_e[0];if(!$||/\S/.test($)||Array.from($).some(et=>et!=$[0]))throw new Error("Invalid indent unit: "+JSON.stringify(_e[0]));return $}});function getIndentUnit(_e){let $=_e.facet(indentUnit);return $.charCodeAt(0)==9?_e.tabSize*$.length:$.length}function indentString(_e,$){let et="",tt=_e.tabSize,nt=_e.facet(indentUnit)[0];if(nt=="	"){for(;$>=tt;)et+="	",$-=tt;nt=" "}for(let rt=0;rt<$;rt++)et+=nt;return et}function getIndentation(_e,$){_e instanceof EditorState&&(_e=new IndentContext(_e));for(let tt of _e.state.facet(indentService)){let nt=tt(_e,$);if(nt!==void 0)return nt}let et=syntaxTree(_e.state);return et.length>=$?syntaxIndentation(_e,et,$):null}class IndentContext{constructor($,et={}){this.state=$,this.options=et,this.unit=getIndentUnit($)}lineAt($,et=1){let tt=this.state.doc.lineAt($),{simulateBreak:nt,simulateDoubleBreak:rt}=this.options;return nt!=null&&nt>=tt.from&&nt<=tt.to?rt&&nt==$?{text:"",from:$}:(et<0?nt<$:nt<=$)?{text:tt.text.slice(nt-tt.from),from:nt}:{text:tt.text.slice(0,nt-tt.from),from:tt.from}:tt}textAfterPos($,et=1){if(this.options.simulateDoubleBreak&&$==this.options.simulateBreak)return"";let{text:tt,from:nt}=this.lineAt($,et);return tt.slice($-nt,Math.min(tt.length,$+100-nt))}column($,et=1){let{text:tt,from:nt}=this.lineAt($,et),rt=this.countColumn(tt,$-nt),it=this.options.overrideIndentation?this.options.overrideIndentation(nt):-1;return it>-1&&(rt+=it-this.countColumn(tt,tt.search(/\S|$/))),rt}countColumn($,et=$.length){return countColumn($,this.state.tabSize,et)}lineIndent($,et=1){let{text:tt,from:nt}=this.lineAt($,et),rt=this.options.overrideIndentation;if(rt){let it=rt(nt);if(it>-1)return it}return this.countColumn(tt,tt.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(_e,$,et){let tt=$.resolveStack(et),nt=tt.node.enterUnfinishedNodesBefore(et);if(nt!=tt.node){let rt=[];for(let it=nt;it!=tt.node;it=it.parent)rt.push(it);for(let it=rt.length-1;it>=0;it--)tt={node:rt[it],next:tt}}return indentFor(tt,_e,et)}function indentFor(_e,$,et){for(let tt=_e;tt;tt=tt.next){let nt=indentStrategy(tt.node);if(nt)return nt(TreeIndentContext.create($,et,tt))}return 0}function ignoreClosed(_e){return _e.pos==_e.options.simulateBreak&&_e.options.simulateDoubleBreak}function indentStrategy(_e){let $=_e.type.prop(indentNodeProp);if($)return $;let et=_e.firstChild,tt;if(et&&(tt=et.type.prop(NodeProp.closedBy))){let nt=_e.lastChild,rt=nt&&tt.indexOf(nt.name)>-1;return it=>delimitedStrategy(it,!0,1,void 0,rt&&!ignoreClosed(it)?nt.from:void 0)}return _e.parent==null?topIndent$1:null}function topIndent$1(){return 0}class TreeIndentContext extends IndentContext{constructor($,et,tt){super($.state,$.options),this.base=$,this.pos=et,this.context=tt}get node(){return this.context.node}static create($,et,tt){return new TreeIndentContext($,et,tt)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor($){let et=this.state.doc.lineAt($.from);for(;;){let tt=$.resolve(et.from);for(;tt.parent&&tt.parent.from==tt.from;)tt=tt.parent;if(isParent(tt,$))break;et=this.state.doc.lineAt(tt.from)}return this.lineIndent(et.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(_e,$){for(let et=$;et;et=et.parent)if(_e==et)return!0;return!1}function bracketedAligned(_e){let $=_e.node,et=$.childAfter($.from),tt=$.lastChild;if(!et)return null;let nt=_e.options.simulateBreak,rt=_e.state.doc.lineAt(et.from),it=nt==null||nt<=rt.from?rt.to:Math.min(rt.to,nt);for(let ot=et.to;;){let lt=$.childAfter(ot);if(!lt||lt==tt)return null;if(!lt.type.isSkipped)return lt.from<it?et:null;ot=lt.to}}function delimitedIndent({closing:_e,align:$=!0,units:et=1}){return tt=>delimitedStrategy(tt,$,et,_e)}function delimitedStrategy(_e,$,et,tt,nt){let rt=_e.textAfter,it=rt.match(/^\s*/)[0].length,ot=tt&&rt.slice(it,it+tt.length)==tt||nt==_e.pos+it,lt=$?bracketedAligned(_e):null;return lt?ot?_e.column(lt.from):_e.column(lt.to):_e.baseIndent+(ot?0:_e.unit*et)}const foldNodeProp=new NodeProp;function foldInside(_e){let $=_e.firstChild,et=_e.lastChild;return $&&$.to<et.from?{from:$.to,to:et.type.isError?_e.to:et.from}:null}class HighlightStyle{constructor($,et){this.specs=$;let tt;function nt(ot){let lt=StyleModule.newName();return(tt||(tt=Object.create(null)))["."+lt]=ot,lt}const rt=typeof et.all=="string"?et.all:et.all?nt(et.all):void 0,it=et.scope;this.scope=it instanceof Language?ot=>ot.prop(languageDataProp)==it.data:it?ot=>ot==it:void 0,this.style=tagHighlighter($.map(ot=>({tag:ot.tag,class:ot.class||nt(Object.assign({},ot,{tag:null}))})),{all:rt}).style,this.module=tt?new StyleModule(tt):null,this.themeType=et.themeType}static define($,et){return new HighlightStyle($,et||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(_e){return _e.length?[_e[0]]:null}});function getHighlighters(_e){let $=_e.facet(highlighterFacet);return $.length?$:_e.facet(fallbackHighlighter)}function syntaxHighlighting(_e,$){let et=[treeHighlighter],tt;return _e instanceof HighlightStyle&&(_e.module&&et.push(EditorView.styleModule.of(_e.module)),tt=_e.themeType),$?.fallback?et.push(fallbackHighlighter.of(_e)):tt?et.push(highlighterFacet.computeN([EditorView.darkTheme],nt=>nt.facet(EditorView.darkTheme)==(tt=="dark")?[_e]:[])):et.push(highlighterFacet.of(_e)),et}class TreeHighlighter{constructor($){this.markCache=Object.create(null),this.tree=syntaxTree($.state),this.decorations=this.buildDeco($,getHighlighters($.state)),this.decoratedTo=$.viewport.to}update($){let et=syntaxTree($.state),tt=getHighlighters($.state),nt=tt!=getHighlighters($.startState),{viewport:rt}=$.view,it=$.changes.mapPos(this.decoratedTo,1);et.length<rt.to&&!nt&&et.type==this.tree.type&&it>=rt.to?(this.decorations=this.decorations.map($.changes),this.decoratedTo=it):(et!=this.tree||$.viewportChanged||nt)&&(this.tree=et,this.decorations=this.buildDeco($.view,tt),this.decoratedTo=rt.to)}buildDeco($,et){if(!et||!this.tree.length)return Decoration.none;let tt=new RangeSetBuilder;for(let{from:nt,to:rt}of $.visibleRanges)highlightTree(this.tree,et,(it,ot,lt)=>{tt.add(it,ot,this.markCache[lt]||(this.markCache[lt]=Decoration.mark({class:lt})))},nt,rt);return tt.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:_e=>_e.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingHandle=new NodeProp;function matchingNodes(_e,$,et){let tt=_e.prop($<0?NodeProp.openedBy:NodeProp.closedBy);if(tt)return tt;if(_e.name.length==1){let nt=et.indexOf(_e.name);if(nt>-1&&nt%2==($<0?1:0))return[et[nt+$]]}return null}function findHandle(_e){let $=_e.type.prop(bracketMatchingHandle);return $?$(_e.node):_e}function matchBrackets(_e,$,et,tt={}){let nt=tt.maxScanDistance||DefaultScanDist,rt=tt.brackets||DefaultBrackets,it=syntaxTree(_e),ot=it.resolveInner($,et);for(let lt=ot;lt;lt=lt.parent){let ut=matchingNodes(lt.type,et,rt);if(ut&&lt.from<lt.to){let ct=findHandle(lt);if(ct&&(et>0?$>=ct.from&&$<ct.to:$>ct.from&&$<=ct.to))return matchMarkedBrackets(_e,$,et,lt,ct,ut,rt)}}return matchPlainBrackets(_e,$,et,it,ot.type,nt,rt)}function matchMarkedBrackets(_e,$,et,tt,nt,rt,it){let ot=tt.parent,lt={from:nt.from,to:nt.to},ut=0,ct=ot?.cursor();if(ct&&(et<0?ct.childBefore(tt.from):ct.childAfter(tt.to)))do if(et<0?ct.to<=tt.from:ct.from>=tt.to){if(ut==0&&rt.indexOf(ct.type.name)>-1&&ct.from<ct.to){let ht=findHandle(ct);return{start:lt,end:ht?{from:ht.from,to:ht.to}:void 0,matched:!0}}else if(matchingNodes(ct.type,et,it))ut++;else if(matchingNodes(ct.type,-et,it)){if(ut==0){let ht=findHandle(ct);return{start:lt,end:ht&&ht.from<ht.to?{from:ht.from,to:ht.to}:void 0,matched:!1}}ut--}}while(et<0?ct.prevSibling():ct.nextSibling());return{start:lt,matched:!1}}function matchPlainBrackets(_e,$,et,tt,nt,rt,it){let ot=et<0?_e.sliceDoc($-1,$):_e.sliceDoc($,$+1),lt=it.indexOf(ot);if(lt<0||lt%2==0!=et>0)return null;let ut={from:et<0?$-1:$,to:et>0?$+1:$},ct=_e.doc.iterRange($,et>0?_e.doc.length:0),ht=0;for(let dt=0;!ct.next().done&&dt<=rt;){let mt=ct.value;et<0&&(dt+=mt.length);let gt=$+dt*et;for(let Ot=et>0?0:mt.length-1,wt=et>0?mt.length:-1;Ot!=wt;Ot+=et){let St=it.indexOf(mt[Ot]);if(!(St<0||tt.resolveInner(gt+Ot,1).type!=nt))if(St%2==0==et>0)ht++;else{if(ht==1)return{start:ut,end:{from:gt+Ot,to:gt+Ot+1},matched:St>>1==lt>>1};ht--}}et>0&&(dt+=mt.length)}return ct.done?{start:ut,matched:!1}:null}const noTokens=Object.create(null),typeArray=[NodeType.none],warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[_e,$]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[_e]=createTokenType(noTokens,$);function warnForPart(_e,$){warned.indexOf(_e)>-1||(warned.push(_e),console.warn($))}function createTokenType(_e,$){let et=[];for(let ot of $.split(" ")){let lt=[];for(let ut of ot.split(".")){let ct=_e[ut]||tags[ut];ct?typeof ct=="function"?lt.length?lt=lt.map(ct):warnForPart(ut,`Modifier ${ut} used at start of tag`):lt.length?warnForPart(ut,`Tag ${ut} used as modifier`):lt=Array.isArray(ct)?ct:[ct]:warnForPart(ut,`Unknown highlighting tag ${ut}`)}for(let ut of lt)et.push(ut)}if(!et.length)return 0;let tt=$.replace(/ /g,"_"),nt=tt+" "+et.map(ot=>ot.id),rt=byTag[nt];if(rt)return rt.id;let it=byTag[nt]=NodeType.define({id:typeArray.length,name:tt,props:[styleTags({[tt]:et})]});return typeArray.push(it),it.id}Direction.RTL,Direction.LTR;class CompletionContext{constructor($,et,tt){this.state=$,this.pos=et,this.explicit=tt,this.abortListeners=[]}tokenBefore($){let et=syntaxTree(this.state).resolveInner(this.pos,-1);for(;et&&$.indexOf(et.name)<0;)et=et.parent;return et?{from:et.from,to:this.pos,text:this.state.sliceDoc(et.from,this.pos),type:et.type}:null}matchBefore($){let et=this.state.doc.lineAt(this.pos),tt=Math.max(et.from,this.pos-250),nt=et.text.slice(tt-et.from,this.pos-et.from),rt=nt.search(ensureAnchor($,!1));return rt<0?null:{from:tt+rt,to:this.pos,text:nt.slice(rt)}}get aborted(){return this.abortListeners==null}addEventListener($,et){$=="abort"&&this.abortListeners&&this.abortListeners.push(et)}}function toSet(_e){let $=Object.keys(_e).join(""),et=/\w/.test($);return et&&($=$.replace(/\w/g,"")),`[${et?"\\w":""}${$.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(_e){let $=Object.create(null),et=Object.create(null);for(let{label:nt}of _e){$[nt[0]]=!0;for(let rt=1;rt<nt.length;rt++)et[nt[rt]]=!0}let tt=toSet($)+toSet(et)+"*$";return[new RegExp("^"+tt),new RegExp(tt)]}function completeFromList(_e){let $=_e.map(nt=>typeof nt=="string"?{label:nt}:nt),[et,tt]=$.every(nt=>/^\w+$/.test(nt.label))?[/\w*$/,/\w+$/]:prefixMatch($);return nt=>{let rt=nt.matchBefore(tt);return rt||nt.explicit?{from:rt?rt.from:nt.pos,options:$,validFor:et}:null}}function ifNotIn(_e,$){return et=>{for(let tt=syntaxTree(et.state).resolveInner(et.pos,-1);tt;tt=tt.parent){if(_e.indexOf(tt.name)>-1)return null;if(tt.type.isTop)break}return $(et)}}class Option{constructor($,et,tt,nt){this.completion=$,this.source=et,this.match=tt,this.score=nt}}function cur(_e){return _e.selection.main.from}function ensureAnchor(_e,$){var et;let{source:tt}=_e,nt=$&&tt[0]!="^",rt=tt[tt.length-1]!="$";return!nt&&!rt?_e:new RegExp(`${nt?"^":""}(?:${tt})${rt?"$":""}`,(et=_e.flags)!==null&&et!==void 0?et:_e.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(_e,$,et,tt){let{main:nt}=_e.selection,rt=et-nt.from,it=tt-nt.from;return Object.assign(Object.assign({},_e.changeByRange(ot=>ot!=nt&&et!=tt&&_e.sliceDoc(ot.from+rt,ot.from+it)!=_e.sliceDoc(et,tt)?{range:ot}:{changes:{from:ot.from+rt,to:tt==nt.from?ot.to:ot.from+it,insert:$},range:EditorSelection.cursor(ot.from+rt+$.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const SourceCache=new WeakMap;function asSource(_e){if(!Array.isArray(_e))return _e;let $=SourceCache.get(_e);return $||SourceCache.set(_e,$=completeFromList(_e)),$}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor($){this.pattern=$,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let et=0;et<$.length;){let tt=codePointAt($,et),nt=codePointSize(tt);this.chars.push(tt);let rt=$.slice(et,et+nt),it=rt.toUpperCase();this.folded.push(codePointAt(it==rt?rt.toLowerCase():it,0)),et+=nt}this.astral=$.length!=this.chars.length}ret($,et){return this.score=$,this.matched=et,!0}match($){if(this.pattern.length==0)return this.ret(-100,[]);if($.length<this.pattern.length)return!1;let{chars:et,folded:tt,any:nt,precise:rt,byWord:it}=this;if(et.length==1){let vt=codePointAt($,0),Tt=codePointSize(vt),Et=Tt==$.length?0:-100;if(vt!=et[0])if(vt==tt[0])Et+=-200;else return!1;return this.ret(Et,[0,Tt])}let ot=$.indexOf(this.pattern);if(ot==0)return this.ret($.length==this.pattern.length?0:-100,[0,this.pattern.length]);let lt=et.length,ut=0;if(ot<0){for(let vt=0,Tt=Math.min($.length,200);vt<Tt&&ut<lt;){let Et=codePointAt($,vt);(Et==et[ut]||Et==tt[ut])&&(nt[ut++]=vt),vt+=codePointSize(Et)}if(ut<lt)return!1}let ct=0,ht=0,dt=!1,mt=0,gt=-1,Ot=-1,wt=/[a-z]/.test($),St=!0;for(let vt=0,Tt=Math.min($.length,200),Et=0;vt<Tt&&ht<lt;){let Pt=codePointAt($,vt);ot<0&&(ct<lt&&Pt==et[ct]&&(rt[ct++]=vt),mt<lt&&(Pt==et[mt]||Pt==tt[mt]?(mt==0&&(gt=vt),Ot=vt+1,mt++):mt=0));let Mt,Rt=Pt<255?Pt>=48&&Pt<=57||Pt>=97&&Pt<=122?2:Pt>=65&&Pt<=90?1:0:(Mt=fromCodePoint(Pt))!=Mt.toLowerCase()?1:Mt!=Mt.toUpperCase()?2:0;(!vt||Rt==1&&wt||Et==0&&Rt!=0)&&(et[ht]==Pt||tt[ht]==Pt&&(dt=!0)?it[ht++]=vt:it.length&&(St=!1)),Et=Rt,vt+=codePointSize(Pt)}return ht==lt&&it[0]==0&&St?this.result(-100+(dt?-200:0),it,$):mt==lt&&gt==0?this.ret(-200-$.length+(Ot==$.length?0:-100),[0,Ot]):ot>-1?this.ret(-700-$.length,[ot,ot+this.pattern.length]):mt==lt?this.ret(-900-$.length,[gt,Ot]):ht==lt?this.result(-100+(dt?-200:0)+-700+(St?0:-1100),it,$):et.length==2?!1:this.result((nt[0]?-700:0)+-200+-1100,nt,$)}result($,et,tt){let nt=[],rt=0;for(let it of et){let ot=it+(this.astral?codePointSize(codePointAt(tt,it)):1);rt&&nt[rt-1]==it?nt[rt-1]=ot:(nt[rt++]=it,nt[rt++]=ot)}return this.ret($-tt.length,nt)}}const completionConfig=Facet.define({combine(_e){return combineConfig(_e,{activateOnTyping:!0,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,compareCompletions:($,et)=>$.label.localeCompare(et.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:($,et)=>$&&et,closeOnBlur:($,et)=>$&&et,icons:($,et)=>$&&et,tooltipClass:($,et)=>tt=>joinClass($(tt),et(tt)),optionClass:($,et)=>tt=>joinClass($(tt),et(tt)),addToOptions:($,et)=>$.concat(et)})}});function joinClass(_e,$){return _e?$?_e+" "+$:_e:$}function defaultPositionInfo(_e,$,et,tt,nt,rt){let it=_e.textDirection==Direction.RTL,ot=it,lt=!1,ut="top",ct,ht,dt=$.left-nt.left,mt=nt.right-$.right,gt=tt.right-tt.left,Ot=tt.bottom-tt.top;if(ot&&dt<Math.min(gt,mt)?ot=!1:!ot&&mt<Math.min(gt,dt)&&(ot=!0),gt<=(ot?dt:mt))ct=Math.max(nt.top,Math.min(et.top,nt.bottom-Ot))-$.top,ht=Math.min(400,ot?dt:mt);else{lt=!0,ht=Math.min(400,(it?$.right:nt.right-$.left)-30);let vt=nt.bottom-$.bottom;vt>=Ot||vt>$.top?ct=et.bottom-$.top:(ut="bottom",ct=$.bottom-et.top)}let wt=($.bottom-$.top)/rt.offsetHeight,St=($.right-$.left)/rt.offsetWidth;return{style:`${ut}: ${ct/wt}px; max-width: ${ht/St}px`,class:"cm-completionInfo-"+(lt?it?"left-narrow":"right-narrow":ot?"left":"right")}}function optionContent(_e){let $=_e.addToOptions.slice();return _e.icons&&$.push({render(et){let tt=document.createElement("div");return tt.classList.add("cm-completionIcon"),et.type&&tt.classList.add(...et.type.split(/\s+/g).map(nt=>"cm-completionIcon-"+nt)),tt.setAttribute("aria-hidden","true"),tt},position:20}),$.push({render(et,tt,nt,rt){let it=document.createElement("span");it.className="cm-completionLabel";let ot=et.displayLabel||et.label,lt=0;for(let ut=0;ut<rt.length;){let ct=rt[ut++],ht=rt[ut++];ct>lt&&it.appendChild(document.createTextNode(ot.slice(lt,ct)));let dt=it.appendChild(document.createElement("span"));dt.appendChild(document.createTextNode(ot.slice(ct,ht))),dt.className="cm-completionMatchedText",lt=ht}return lt<ot.length&&it.appendChild(document.createTextNode(ot.slice(lt))),it},position:50},{render(et){if(!et.detail)return null;let tt=document.createElement("span");return tt.className="cm-completionDetail",tt.textContent=et.detail,tt},position:80}),$.sort((et,tt)=>et.position-tt.position).map(et=>et.render)}function rangeAroundSelected(_e,$,et){if(_e<=et)return{from:0,to:_e};if($<0&&($=0),$<=_e>>1){let nt=Math.floor($/et);return{from:nt*et,to:(nt+1)*et}}let tt=Math.floor((_e-$)/et);return{from:_e-(tt+1)*et,to:_e-tt*et}}class CompletionTooltip{constructor($,et,tt){this.view=$,this.stateField=et,this.applyCompletion=tt,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:lt=>this.placeInfo(lt),key:this},this.space=null,this.currentClass="";let nt=$.state.field(et),{options:rt,selected:it}=nt.open,ot=$.state.facet(completionConfig);this.optionContent=optionContent(ot),this.optionClass=ot.optionClass,this.tooltipClass=ot.tooltipClass,this.range=rangeAroundSelected(rt.length,it,ot.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass($.state),this.dom.addEventListener("mousedown",lt=>{let{options:ut}=$.state.field(et).open;for(let ct=lt.target,ht;ct&&ct!=this.dom;ct=ct.parentNode)if(ct.nodeName=="LI"&&(ht=/-(\d+)$/.exec(ct.id))&&+ht[1]<ut.length){this.applyCompletion($,ut[+ht[1]]),lt.preventDefault();return}}),this.dom.addEventListener("focusout",lt=>{let ut=$.state.field(this.stateField,!1);ut&&ut.tooltip&&$.state.facet(completionConfig).closeOnBlur&&lt.relatedTarget!=$.contentDOM&&$.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(rt,nt.id)}mount(){this.updateSel()}showOptions($,et){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox($,et,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update($){var et;let tt=$.state.field(this.stateField),nt=$.startState.field(this.stateField);if(this.updateTooltipClass($.state),tt!=nt){let{options:rt,selected:it,disabled:ot}=tt.open;(!nt.open||nt.open.options!=rt)&&(this.range=rangeAroundSelected(rt.length,it,$.state.facet(completionConfig).maxRenderedOptions),this.showOptions(rt,tt.id)),this.updateSel(),ot!=((et=nt.open)===null||et===void 0?void 0:et.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!ot)}}updateTooltipClass($){let et=this.tooltipClass($);if(et!=this.currentClass){for(let tt of this.currentClass.split(" "))tt&&this.dom.classList.remove(tt);for(let tt of et.split(" "))tt&&this.dom.classList.add(tt);this.currentClass=et}}positioned($){this.space=$,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let $=this.view.state.field(this.stateField),et=$.open;if((et.selected>-1&&et.selected<this.range.from||et.selected>=this.range.to)&&(this.range=rangeAroundSelected(et.options.length,et.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(et.options,$.id)),this.updateSelectedOption(et.selected)){this.destroyInfo();let{completion:tt}=et.options[et.selected],{info:nt}=tt;if(!nt)return;let rt=typeof nt=="string"?document.createTextNode(nt):nt(tt);if(!rt)return;"then"in rt?rt.then(it=>{it&&this.view.state.field(this.stateField,!1)==$&&this.addInfoPane(it,tt)}).catch(it=>logException(this.view.state,it,"completion info")):this.addInfoPane(rt,tt)}}addInfoPane($,et){this.destroyInfo();let tt=this.info=document.createElement("div");if(tt.className="cm-tooltip cm-completionInfo",$.nodeType!=null)tt.appendChild($),this.infoDestroy=null;else{let{dom:nt,destroy:rt}=$;tt.appendChild(nt),this.infoDestroy=rt||null}this.dom.appendChild(tt),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption($){let et=null;for(let tt=this.list.firstChild,nt=this.range.from;tt;tt=tt.nextSibling,nt++)tt.nodeName!="LI"||!tt.id?nt--:nt==$?tt.hasAttribute("aria-selected")||(tt.setAttribute("aria-selected","true"),et=tt):tt.hasAttribute("aria-selected")&&tt.removeAttribute("aria-selected");return et&&scrollIntoView(this.list,et),et}measureInfo(){let $=this.dom.querySelector("[aria-selected]");if(!$||!this.info)return null;let et=this.dom.getBoundingClientRect(),tt=this.info.getBoundingClientRect(),nt=$.getBoundingClientRect(),rt=this.space;if(!rt){let it=this.dom.ownerDocument.defaultView||window;rt={left:0,top:0,right:it.innerWidth,bottom:it.innerHeight}}return nt.top>Math.min(rt.bottom,et.bottom)-10||nt.bottom<Math.max(rt.top,et.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,et,nt,tt,rt,this.dom)}placeInfo($){this.info&&($?($.style&&(this.info.style.cssText=$.style),this.info.className="cm-tooltip cm-completionInfo "+($.class||"")):this.info.style.cssText="top: -1e6px")}createListBox($,et,tt){const nt=document.createElement("ul");nt.id=et,nt.setAttribute("role","listbox"),nt.setAttribute("aria-expanded","true"),nt.setAttribute("aria-label",this.view.state.phrase("Completions"));let rt=null;for(let it=tt.from;it<tt.to;it++){let{completion:ot,match:lt}=$[it],{section:ut}=ot;if(ut){let dt=typeof ut=="string"?ut:ut.name;if(dt!=rt&&(it>tt.from||tt.from==0))if(rt=dt,typeof ut!="string"&&ut.header)nt.appendChild(ut.header(ut));else{let mt=nt.appendChild(document.createElement("completion-section"));mt.textContent=dt}}const ct=nt.appendChild(document.createElement("li"));ct.id=et+"-"+it,ct.setAttribute("role","option");let ht=this.optionClass(ot);ht&&(ct.className=ht);for(let dt of this.optionContent){let mt=dt(ot,this.view.state,this.view,lt);mt&&ct.appendChild(mt)}}return tt.from&&nt.classList.add("cm-completionListIncompleteTop"),tt.to<$.length&&nt.classList.add("cm-completionListIncompleteBottom"),nt}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(_e,$){return et=>new CompletionTooltip(et,_e,$)}function scrollIntoView(_e,$){let et=_e.getBoundingClientRect(),tt=$.getBoundingClientRect(),nt=et.height/_e.offsetHeight;tt.top<et.top?_e.scrollTop-=(et.top-tt.top)/nt:tt.bottom>et.bottom&&(_e.scrollTop+=(tt.bottom-et.bottom)/nt)}function score(_e){return(_e.boost||0)*100+(_e.apply?10:0)+(_e.info?5:0)+(_e.type?1:0)}function sortOptions(_e,$){let et=[],tt=null,nt=lt=>{et.push(lt);let{section:ut}=lt.completion;if(ut){tt||(tt=[]);let ct=typeof ut=="string"?ut:ut.name;tt.some(ht=>ht.name==ct)||tt.push(typeof ut=="string"?{name:ct}:ut)}};for(let lt of _e)if(lt.hasResult()){let ut=lt.result.getMatch;if(lt.result.filter===!1)for(let ct of lt.result.options)nt(new Option(ct,lt.source,ut?ut(ct):[],1e9-et.length));else{let ct=new FuzzyMatcher($.sliceDoc(lt.from,lt.to));for(let ht of lt.result.options)if(ct.match(ht.label)){let dt=ht.displayLabel?ut?ut(ht,ct.matched):[]:ct.matched;nt(new Option(ht,lt.source,dt,ct.score+(ht.boost||0)))}}}if(tt){let lt=Object.create(null),ut=0,ct=(ht,dt)=>{var mt,gt;return((mt=ht.rank)!==null&&mt!==void 0?mt:1e9)-((gt=dt.rank)!==null&&gt!==void 0?gt:1e9)||(ht.name<dt.name?-1:1)};for(let ht of tt.sort(ct))ut-=1e5,lt[ht.name]=ut;for(let ht of et){let{section:dt}=ht.completion;dt&&(ht.score+=lt[typeof dt=="string"?dt:dt.name])}}let rt=[],it=null,ot=$.facet(completionConfig).compareCompletions;for(let lt of et.sort((ut,ct)=>ct.score-ut.score||ot(ut.completion,ct.completion))){let ut=lt.completion;!it||it.label!=ut.label||it.detail!=ut.detail||it.type!=null&&ut.type!=null&&it.type!=ut.type||it.apply!=ut.apply||it.boost!=ut.boost?rt.push(lt):score(lt.completion)>score(it)&&(rt[rt.length-1]=lt),it=lt.completion}return rt}class CompletionDialog{constructor($,et,tt,nt,rt,it){this.options=$,this.attrs=et,this.tooltip=tt,this.timestamp=nt,this.selected=rt,this.disabled=it}setSelected($,et){return $==this.selected||$>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(et,$),this.tooltip,this.timestamp,$,this.disabled)}static build($,et,tt,nt,rt){let it=sortOptions($,et);if(!it.length)return nt&&$.some(lt=>lt.state==1)?new CompletionDialog(nt.options,nt.attrs,nt.tooltip,nt.timestamp,nt.selected,!0):null;let ot=et.facet(completionConfig).selectOnOpen?0:-1;if(nt&&nt.selected!=ot&&nt.selected!=-1){let lt=nt.options[nt.selected].completion;for(let ut=0;ut<it.length;ut++)if(it[ut].completion==lt){ot=ut;break}}return new CompletionDialog(it,makeAttrs(tt,ot),{pos:$.reduce((lt,ut)=>ut.hasResult()?Math.min(lt,ut.from):lt,1e8),create:createTooltip,above:rt.aboveCursor},nt?nt.timestamp:Date.now(),ot,!1)}map($){return new CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:$.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class CompletionState{constructor($,et,tt){this.active=$,this.id=et,this.open=tt}static start(){return new CompletionState(none$1,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update($){let{state:et}=$,tt=et.facet(completionConfig),rt=(tt.override||et.languageDataAt("autocomplete",cur(et)).map(asSource)).map(ot=>(this.active.find(ut=>ut.source==ot)||new ActiveSource(ot,this.active.some(ut=>ut.state!=0)?1:0)).update($,tt));rt.length==this.active.length&&rt.every((ot,lt)=>ot==this.active[lt])&&(rt=this.active);let it=this.open;it&&$.docChanged&&(it=it.map($.changes)),$.selection||rt.some(ot=>ot.hasResult()&&$.changes.touchesRange(ot.from,ot.to))||!sameResults(rt,this.active)?it=CompletionDialog.build(rt,et,this.id,it,tt):it&&it.disabled&&!rt.some(ot=>ot.state==1)&&(it=null),!it&&rt.every(ot=>ot.state!=1)&&rt.some(ot=>ot.hasResult())&&(rt=rt.map(ot=>ot.hasResult()?new ActiveSource(ot.source,0):ot));for(let ot of $.effects)ot.is(setSelectedEffect)&&(it=it&&it.setSelected(ot.value,this.id));return rt==this.active&&it==this.open?this:new CompletionState(rt,this.id,it)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:baseAttrs}}function sameResults(_e,$){if(_e==$)return!0;for(let et=0,tt=0;;){for(;et<_e.length&&!_e[et].hasResult;)et++;for(;tt<$.length&&!$[tt].hasResult;)tt++;let nt=et==_e.length,rt=tt==$.length;if(nt||rt)return nt==rt;if(_e[et++].result!=$[tt++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"};function makeAttrs(_e,$){let et={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":_e};return $>-1&&(et["aria-activedescendant"]=_e+"-"+$),et}const none$1=[];function getUserEvent(_e){return _e.isUserEvent("input.type")?"input":_e.isUserEvent("delete.backward")?"delete":null}class ActiveSource{constructor($,et,tt=-1){this.source=$,this.state=et,this.explicitPos=tt}hasResult(){return!1}update($,et){let tt=getUserEvent($),nt=this;tt?nt=nt.handleUserEvent($,tt,et):$.docChanged?nt=nt.handleChange($):$.selection&&nt.state!=0&&(nt=new ActiveSource(nt.source,0));for(let rt of $.effects)if(rt.is(startCompletionEffect))nt=new ActiveSource(nt.source,1,rt.value?cur($.state):-1);else if(rt.is(closeCompletionEffect))nt=new ActiveSource(nt.source,0);else if(rt.is(setActiveEffect))for(let it of rt.value)it.source==nt.source&&(nt=it);return nt}handleUserEvent($,et,tt){return et=="delete"||!tt.activateOnTyping?this.map($.changes):new ActiveSource(this.source,1)}handleChange($){return $.changes.touchesRange(cur($.startState))?new ActiveSource(this.source,0):this.map($.changes)}map($){return $.empty||this.explicitPos<0?this:new ActiveSource(this.source,this.state,$.mapPos(this.explicitPos))}}class ActiveResult extends ActiveSource{constructor($,et,tt,nt,rt){super($,2,et),this.result=tt,this.from=nt,this.to=rt}hasResult(){return!0}handleUserEvent($,et,tt){var nt;let rt=$.changes.mapPos(this.from),it=$.changes.mapPos(this.to,1),ot=cur($.state);if((this.explicitPos<0?ot<=rt:ot<this.from)||ot>it||et=="delete"&&cur($.startState)==this.from)return new ActiveSource(this.source,et=="input"&&tt.activateOnTyping?1:0);let lt=this.explicitPos<0?-1:$.changes.mapPos(this.explicitPos),ut;return checkValid(this.result.validFor,$.state,rt,it)?new ActiveResult(this.source,lt,this.result,rt,it):this.result.update&&(ut=this.result.update(this.result,rt,it,new CompletionContext($.state,ot,lt>=0)))?new ActiveResult(this.source,lt,ut,ut.from,(nt=ut.to)!==null&&nt!==void 0?nt:cur($.state)):new ActiveSource(this.source,1,lt)}handleChange($){return $.changes.touchesRange(this.from,this.to)?new ActiveSource(this.source,0):this.map($.changes)}map($){return $.empty?this:new ActiveResult(this.source,this.explicitPos<0?-1:$.mapPos(this.explicitPos),this.result,$.mapPos(this.from),$.mapPos(this.to,1))}}function checkValid(_e,$,et,tt){if(!_e)return!1;let nt=$.sliceDoc(et,tt);return typeof _e=="function"?_e(nt,et,tt,$):ensureAnchor(_e,!0).test(nt)}const setActiveEffect=StateEffect.define({map(_e,$){return _e.map(et=>et.map($))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(_e,$){return _e.update($)},provide:_e=>[showTooltip.from(_e,$=>$.tooltip),EditorView.contentAttributes.from(_e,$=>$.attrs)]});function applyCompletion(_e,$){const et=$.completion.apply||$.completion.label;let tt=_e.state.field(completionState).active.find(nt=>nt.source==$.source);return tt instanceof ActiveResult?(typeof et=="string"?_e.dispatch(Object.assign(Object.assign({},insertCompletionText(_e.state,et,tt.from,tt.to)),{annotations:pickedCompletion.of($.completion)})):et(_e,$.completion,tt.from,tt.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(_e,$="option"){return et=>{let tt=et.state.field(completionState,!1);if(!tt||!tt.open||tt.open.disabled||Date.now()-tt.open.timestamp<et.state.facet(completionConfig).interactionDelay)return!1;let nt=1,rt;$=="page"&&(rt=getTooltip(et,tt.open.tooltip))&&(nt=Math.max(2,Math.floor(rt.dom.offsetHeight/rt.dom.querySelector("li").offsetHeight)-1));let{length:it}=tt.open.options,ot=tt.open.selected>-1?tt.open.selected+nt*(_e?1:-1):_e?0:it-1;return ot<0?ot=$=="page"?0:it-1:ot>=it&&(ot=$=="page"?it-1:0),et.dispatch({effects:setSelectedEffect.of(ot)}),!0}}const acceptCompletion=_e=>{let $=_e.state.field(completionState,!1);return _e.state.readOnly||!$||!$.open||$.open.selected<0||$.open.disabled||Date.now()-$.open.timestamp<_e.state.facet(completionConfig).interactionDelay?!1:applyCompletion(_e,$.open.options[$.open.selected])},startCompletion=_e=>_e.state.field(completionState,!1)?(_e.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=_e=>{let $=_e.state.field(completionState,!1);return!$||!$.active.some(et=>et.state!=0)?!1:(_e.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor($,et){this.active=$,this.context=et,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(_e){this.view=_e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let $ of _e.state.field(completionState).active)$.state==1&&this.startQuery($)}update(_e){let $=_e.state.field(completionState);if(!_e.selectionSet&&!_e.docChanged&&_e.startState.field(completionState)==$)return;let et=_e.transactions.some(nt=>(nt.selection||nt.docChanged)&&!getUserEvent(nt));for(let nt=0;nt<this.running.length;nt++){let rt=this.running[nt];if(et||rt.updates.length+_e.transactions.length>MaxUpdateCount&&Date.now()-rt.time>MinAbortTime){for(let it of rt.context.abortListeners)try{it()}catch(ot){logException(this.view.state,ot)}rt.context.abortListeners=null,this.running.splice(nt--,1)}else rt.updates.push(..._e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),_e.transactions.some(nt=>nt.effects.some(rt=>rt.is(startCompletionEffect)))&&(this.pendingStart=!0);let tt=this.pendingStart?50:_e.state.facet(completionConfig).activateOnTypingDelay;if(this.debounceUpdate=$.active.some(nt=>nt.state==1&&!this.running.some(rt=>rt.active.source==nt.source))?setTimeout(()=>this.startUpdate(),tt):-1,this.composing!=0)for(let nt of _e.transactions)getUserEvent(nt)=="input"?this.composing=2:this.composing==2&&nt.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:_e}=this.view,$=_e.field(completionState);for(let et of $.active)et.state==1&&!this.running.some(tt=>tt.active.source==et.source)&&this.startQuery(et)}startQuery(_e){let{state:$}=this.view,et=cur($),tt=new CompletionContext($,et,_e.explicitPos==et),nt=new RunningQuery(_e,tt);this.running.push(nt),Promise.resolve(_e.source(tt)).then(rt=>{nt.context.aborted||(nt.done=rt||null,this.scheduleAccept())},rt=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,rt)})}scheduleAccept(){this.running.every(_e=>_e.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var _e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let $=[],et=this.view.state.facet(completionConfig);for(let tt=0;tt<this.running.length;tt++){let nt=this.running[tt];if(nt.done===void 0)continue;if(this.running.splice(tt--,1),nt.done){let it=new ActiveResult(nt.active.source,nt.active.explicitPos,nt.done,nt.done.from,(_e=nt.done.to)!==null&&_e!==void 0?_e:cur(nt.updates.length?nt.updates[0].startState:this.view.state));for(let ot of nt.updates)it=it.update(ot,et);if(it.hasResult()){$.push(it);continue}}let rt=this.view.state.field(completionState).active.find(it=>it.source==nt.active.source);if(rt&&rt.state==1)if(nt.done==null){let it=new ActiveSource(nt.active.source,0);for(let ot of nt.updates)it=it.update(ot,et);it.state!=1&&$.push(it)}else this.startQuery(rt)}$.length&&this.view.dispatch({effects:setActiveEffect.of($)})}},{eventHandlers:{blur(_e){let $=this.view.state.field(completionState,!1);if($&&$.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let et=$.open&&getTooltip(this.view,$.open.tooltip);(!et||!et.dom.contains(_e.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),baseTheme=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor($,et,tt,nt){this.field=$,this.line=et,this.from=tt,this.to=nt}}class FieldRange{constructor($,et,tt){this.field=$,this.from=et,this.to=tt}map($){let et=$.mapPos(this.from,-1,MapMode.TrackDel),tt=$.mapPos(this.to,1,MapMode.TrackDel);return et==null||tt==null?null:new FieldRange(this.field,et,tt)}}class Snippet{constructor($,et){this.lines=$,this.fieldPositions=et}instantiate($,et){let tt=[],nt=[et],rt=$.doc.lineAt(et),it=/^\s*/.exec(rt.text)[0];for(let lt of this.lines){if(tt.length){let ut=it,ct=/^\t*/.exec(lt)[0].length;for(let ht=0;ht<ct;ht++)ut+=$.facet(indentUnit);nt.push(et+ut.length-ct),lt=ut+lt.slice(ct)}tt.push(lt),et+=lt.length+1}let ot=this.fieldPositions.map(lt=>new FieldRange(lt.field,nt[lt.line]+lt.from,nt[lt.line]+lt.to));return{text:tt,ranges:ot}}static parse($){let et=[],tt=[],nt=[],rt;for(let it of $.split(/\r\n?|\n/)){for(;rt=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(it);){let ot=rt[1]?+rt[1]:null,lt=rt[2]||rt[3]||"",ut=-1;for(let ct=0;ct<et.length;ct++)(ot!=null?et[ct].seq==ot:lt&&et[ct].name==lt)&&(ut=ct);if(ut<0){let ct=0;for(;ct<et.length&&(ot==null||et[ct].seq!=null&&et[ct].seq<ot);)ct++;et.splice(ct,0,{seq:ot,name:lt}),ut=ct;for(let ht of nt)ht.field>=ut&&ht.field++}nt.push(new FieldPos(ut,tt.length,rt.index,rt.index+lt.length)),it=it.slice(0,rt.index)+lt+it.slice(rt.index+rt[0].length)}for(let ot;ot=/\\([{}])/.exec(it);){it=it.slice(0,ot.index)+ot[1]+it.slice(ot.index+ot[0].length);for(let lt of nt)lt.line==tt.length&&lt.from>ot.index&&(lt.from--,lt.to--)}tt.push(it)}return new Snippet(tt,nt)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let _e=document.createElement("span");return _e.className="cm-snippetFieldPosition",_e}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor($,et){this.ranges=$,this.active=et,this.deco=Decoration.set($.map(tt=>(tt.from==tt.to?fieldMarker:fieldRange).range(tt.from,tt.to)))}map($){let et=[];for(let tt of this.ranges){let nt=tt.map($);if(!nt)return null;et.push(nt)}return new ActiveSnippet(et,this.active)}selectionInsideField($){return $.ranges.every(et=>this.ranges.some(tt=>tt.field==this.active&&tt.from<=et.from&&tt.to>=et.to))}}const setActive=StateEffect.define({map(_e,$){return _e&&_e.map($)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(_e,$){for(let et of $.effects){if(et.is(setActive))return et.value;if(et.is(moveToField)&&_e)return new ActiveSnippet(_e.ranges,et.value)}return _e&&$.docChanged&&(_e=_e.map($.changes)),_e&&$.selection&&!_e.selectionInsideField($.selection)&&(_e=null),_e},provide:_e=>EditorView.decorations.from(_e,$=>$?$.deco:Decoration.none)});function fieldSelection(_e,$){return EditorSelection.create(_e.filter(et=>et.field==$).map(et=>EditorSelection.range(et.from,et.to)))}function snippet(_e){let $=Snippet.parse(_e);return(et,tt,nt,rt)=>{let{text:it,ranges:ot}=$.instantiate(et.state,nt),lt={changes:{from:nt,to:rt,insert:Text.of(it)},scrollIntoView:!0,annotations:tt?[pickedCompletion.of(tt),Transaction.userEvent.of("input.complete")]:void 0};if(ot.length&&(lt.selection=fieldSelection(ot,0)),ot.some(ut=>ut.field>0)){let ut=new ActiveSnippet(ot,0),ct=lt.effects=[setActive.of(ut)];et.state.field(snippetState,!1)===void 0&&ct.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme]))}et.dispatch(et.state.update(lt))}}function moveField(_e){return({state:$,dispatch:et})=>{let tt=$.field(snippetState,!1);if(!tt||_e<0&&tt.active==0)return!1;let nt=tt.active+_e,rt=_e>0&&!tt.ranges.some(it=>it.field==nt+_e);return et($.update({selection:fieldSelection(tt.ranges,nt),effects:setActive.of(rt?null:new ActiveSnippet(tt.ranges,nt)),scrollIntoView:!0})),!0}}const clearSnippet=({state:_e,dispatch:$})=>_e.field(snippetState,!1)?($(_e.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(_e){return _e.length?_e[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],_e=>_e.facet(snippetKeymap)));function snippetCompletion(_e,$){return Object.assign(Object.assign({},$),{apply:snippet(_e)})}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(_e,$){let et=$.state.field(snippetState,!1),tt;if(!et||(tt=$.posAtCoords({x:_e.clientX,y:_e.clientY}))==null)return!1;let nt=et.ranges.find(rt=>rt.from<=tt&&rt.to>=tt);return!nt||nt.field==et.active?!1:($.dispatch({selection:fieldSelection(et.ranges,nt.field),effects:setActive.of(et.ranges.some(rt=>rt.field>nt.field)?new ActiveSnippet(et.ranges,nt.field):null),scrollIntoView:!0}),!0)}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;function autocompletion(_e={}){return[completionState,completionConfig.of(_e),completionPlugin,completionKeymapExt,baseTheme]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],_e=>_e.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));var define_process_env_default={};class Stack{constructor($,et,tt,nt,rt,it,ot,lt,ut,ct=0,ht){this.p=$,this.stack=et,this.state=tt,this.reducePos=nt,this.pos=rt,this.score=it,this.buffer=ot,this.bufferBase=lt,this.curContext=ut,this.lookAhead=ct,this.parent=ht}toString(){return`[${this.stack.filter(($,et)=>et%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start($,et,tt=0){let nt=$.parser.context;return new Stack($,[],et,tt,tt,0,[],0,nt?new StackContext(nt,nt.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState($,et){this.stack.push(this.state,et,this.bufferBase+this.buffer.length),this.state=$}reduce($){var et;let tt=$>>19,nt=$&65535,{parser:rt}=this.p,it=rt.dynamicPrecedence(nt);if(it&&(this.score+=it),tt==0){this.pushState(rt.getGoto(this.state,nt,!0),this.reducePos),nt<rt.minRepeatTerm&&this.storeNode(nt,this.reducePos,this.reducePos,4,!0),this.reduceContext(nt,this.reducePos);return}let ot=this.stack.length-(tt-1)*3-($&262144?6:0),lt=ot?this.stack[ot-2]:this.p.ranges[0].from,ut=this.reducePos-lt;ut>=2e3&&!(!((et=this.p.parser.nodeSet.types[nt])===null||et===void 0)&&et.isAnonymous)&&(lt==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=ut):this.p.lastBigReductionSize<ut&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=lt,this.p.lastBigReductionSize=ut));let ct=ot?this.stack[ot-1]:0,ht=this.bufferBase+this.buffer.length-ct;if(nt<rt.minRepeatTerm||$&131072){let dt=rt.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(nt,lt,dt,ht+4,!0)}if($&262144)this.state=this.stack[ot];else{let dt=this.stack[ot-3];this.state=rt.getGoto(dt,nt,!0)}for(;this.stack.length>ot;)this.stack.pop();this.reduceContext(nt,lt)}storeNode($,et,tt,nt=4,rt=!1){if($==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let it=this,ot=this.buffer.length;if(ot==0&&it.parent&&(ot=it.bufferBase-it.parent.bufferBase,it=it.parent),ot>0&&it.buffer[ot-4]==0&&it.buffer[ot-1]>-1){if(et==tt)return;if(it.buffer[ot-2]>=et){it.buffer[ot-2]=tt;return}}}if(!rt||this.pos==tt)this.buffer.push($,et,tt,nt);else{let it=this.buffer.length;if(it>0&&this.buffer[it-4]!=0)for(;it>0&&this.buffer[it-2]>tt;)this.buffer[it]=this.buffer[it-4],this.buffer[it+1]=this.buffer[it-3],this.buffer[it+2]=this.buffer[it-2],this.buffer[it+3]=this.buffer[it-1],it-=4,nt>4&&(nt-=4);this.buffer[it]=$,this.buffer[it+1]=et,this.buffer[it+2]=tt,this.buffer[it+3]=nt}}shift($,et,tt,nt){if($&131072)this.pushState($&65535,this.pos);else if($&262144)this.pos=nt,this.shiftContext(et,tt),et<=this.p.parser.maxNode&&this.buffer.push(et,tt,nt,4);else{let rt=$,{parser:it}=this.p;(nt>this.pos||et<=it.maxNode)&&(this.pos=nt,it.stateFlag(rt,1)||(this.reducePos=nt)),this.pushState(rt,tt),this.shiftContext(et,tt),et<=it.maxNode&&this.buffer.push(et,tt,nt,4)}}apply($,et,tt,nt){$&65536?this.reduce($):this.shift($,et,tt,nt)}useNode($,et){let tt=this.p.reused.length-1;(tt<0||this.p.reused[tt]!=$)&&(this.p.reused.push($),tt++);let nt=this.pos;this.reducePos=this.pos=nt+$.length,this.pushState(et,nt),this.buffer.push(tt,nt,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,$,this,this.p.stream.reset(this.pos-$.length)))}split(){let $=this,et=$.buffer.length;for(;et>0&&$.buffer[et-2]>$.reducePos;)et-=4;let tt=$.buffer.slice(et),nt=$.bufferBase+et;for(;$&&nt==$.bufferBase;)$=$.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,tt,nt,this.curContext,this.lookAhead,$)}recoverByDelete($,et){let tt=$<=this.p.parser.maxNode;tt&&this.storeNode($,this.pos,et,4),this.storeNode(0,this.pos,et,tt?8:4),this.pos=this.reducePos=et,this.score-=190}canShift($){for(let et=new SimulatedStack(this);;){let tt=this.p.parser.stateSlot(et.state,4)||this.p.parser.hasAction(et.state,$);if(tt==0)return!1;if(!(tt&65536))return!0;et.reduce(tt)}}recoverByInsert($){if(this.stack.length>=300)return[];let et=this.p.parser.nextStates(this.state);if(et.length>8||this.stack.length>=120){let nt=[];for(let rt=0,it;rt<et.length;rt+=2)(it=et[rt+1])!=this.state&&this.p.parser.hasAction(it,$)&&nt.push(et[rt],it);if(this.stack.length<120)for(let rt=0;nt.length<8&&rt<et.length;rt+=2){let it=et[rt+1];nt.some((ot,lt)=>lt&1&&ot==it)||nt.push(et[rt],it)}et=nt}let tt=[];for(let nt=0;nt<et.length&&tt.length<4;nt+=2){let rt=et[nt+1];if(rt==this.state)continue;let it=this.split();it.pushState(rt,this.pos),it.storeNode(0,it.pos,it.pos,4,!0),it.shiftContext(et[nt],this.pos),it.reducePos=this.pos,it.score-=200,tt.push(it)}return tt}forceReduce(){let{parser:$}=this.p,et=$.stateSlot(this.state,5);if(!(et&65536))return!1;if(!$.validAction(this.state,et)){let tt=et>>19,nt=et&65535,rt=this.stack.length-tt*3;if(rt<0||$.getGoto(this.stack[rt],nt,!1)<0){let it=this.findForcedReduction();if(it==null)return!1;et=it}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(et),!0}findForcedReduction(){let{parser:$}=this.p,et=[],tt=(nt,rt)=>{if(!et.includes(nt))return et.push(nt),$.allActions(nt,it=>{if(!(it&393216))if(it&65536){let ot=(it>>19)-rt;if(ot>1){let lt=it&65535,ut=this.stack.length-ot*3;if(ut>=0&&$.getGoto(this.stack[ut],lt,!1)>=0)return ot<<19|65536|lt}}else{let ot=tt(it,rt+1);if(ot!=null)return ot}})};return tt(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:$}=this.p;return $.data[$.stateSlot(this.state,1)]==65535&&!$.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState($){if(this.state!=$.state||this.stack.length!=$.stack.length)return!1;for(let et=0;et<this.stack.length;et+=3)if(this.stack[et]!=$.stack[et])return!1;return!0}get parser(){return this.p.parser}dialectEnabled($){return this.p.parser.dialect.flags[$]}shiftContext($,et){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,$,this,this.p.stream.reset(et)))}reduceContext($,et){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,$,this,this.p.stream.reset(et)))}emitContext(){let $=this.buffer.length-1;($<0||this.buffer[$]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let $=this.buffer.length-1;($<0||this.buffer[$]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext($){if($!=this.curContext.context){let et=new StackContext(this.curContext.tracker,$);et.hash!=this.curContext.hash&&this.emitContext(),this.curContext=et}}setLookAhead($){$>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=$)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor($,et){this.tracker=$,this.context=et,this.hash=$.strict?$.hash(et):0}}class SimulatedStack{constructor($){this.start=$,this.state=$.state,this.stack=$.stack,this.base=this.stack.length}reduce($){let et=$&65535,tt=$>>19;tt==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(tt-1)*3;let nt=this.start.p.parser.getGoto(this.stack[this.base-3],et,!0);this.state=nt}}class StackBufferCursor{constructor($,et,tt){this.stack=$,this.pos=et,this.index=tt,this.buffer=$.buffer,this.index==0&&this.maybeNext()}static create($,et=$.bufferBase+$.buffer.length){return new StackBufferCursor($,et,et-$.bufferBase)}maybeNext(){let $=this.stack.parent;$!=null&&(this.index=this.stack.bufferBase-$.bufferBase,this.stack=$,this.buffer=$.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(_e,$=Uint16Array){if(typeof _e!="string")return _e;let et=null;for(let tt=0,nt=0;tt<_e.length;){let rt=0;for(;;){let it=_e.charCodeAt(tt++),ot=!1;if(it==126){rt=65535;break}it>=92&&it--,it>=34&&it--;let lt=it-32;if(lt>=46&&(lt-=46,ot=!0),rt+=lt,ot)break;rt*=46}et?et[nt++]=rt:et=new $(rt)}return et}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor($,et){this.input=$,this.ranges=et,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=et[0].from,this.range=et[0],this.end=et[et.length-1].to,this.readNext()}resolveOffset($,et){let tt=this.range,nt=this.rangeIndex,rt=this.pos+$;for(;rt<tt.from;){if(!nt)return null;let it=this.ranges[--nt];rt-=tt.from-it.to,tt=it}for(;et<0?rt>tt.to:rt>=tt.to;){if(nt==this.ranges.length-1)return null;let it=this.ranges[++nt];rt+=it.from-tt.to,tt=it}return rt}clipPos($){if($>=this.range.from&&$<this.range.to)return $;for(let et of this.ranges)if(et.to>$)return Math.max($,et.from);return this.end}peek($){let et=this.chunkOff+$,tt,nt;if(et>=0&&et<this.chunk.length)tt=this.pos+$,nt=this.chunk.charCodeAt(et);else{let rt=this.resolveOffset($,1);if(rt==null)return-1;if(tt=rt,tt>=this.chunk2Pos&&tt<this.chunk2Pos+this.chunk2.length)nt=this.chunk2.charCodeAt(tt-this.chunk2Pos);else{let it=this.rangeIndex,ot=this.range;for(;ot.to<=tt;)ot=this.ranges[++it];this.chunk2=this.input.chunk(this.chunk2Pos=tt),tt+this.chunk2.length>ot.to&&(this.chunk2=this.chunk2.slice(0,ot.to-tt)),nt=this.chunk2.charCodeAt(0)}}return tt>=this.token.lookAhead&&(this.token.lookAhead=tt+1),nt}acceptToken($,et=0){let tt=et?this.resolveOffset(et,-1):this.pos;if(tt==null||tt<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=$,this.token.end=tt}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:$,chunkPos:et}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=$,this.chunk2Pos=et,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let $=this.input.chunk(this.pos),et=this.pos+$.length;this.chunk=et>this.range.to?$.slice(0,this.range.to-this.pos):$,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance($=1){for(this.chunkOff+=$;this.pos+$>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();$-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=$,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset($,et){if(et?(this.token=et,et.start=$,et.lookAhead=$+1,et.value=et.extended=-1):this.token=nullToken,this.pos!=$){if(this.pos=$,$==this.end)return this.setDone(),this;for(;$<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;$>=this.range.to;)this.range=this.ranges[++this.rangeIndex];$>=this.chunkPos&&$<this.chunkPos+this.chunk.length?this.chunkOff=$-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read($,et){if($>=this.chunkPos&&et<=this.chunkPos+this.chunk.length)return this.chunk.slice($-this.chunkPos,et-this.chunkPos);if($>=this.chunk2Pos&&et<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice($-this.chunk2Pos,et-this.chunk2Pos);if($>=this.range.from&&et<=this.range.to)return this.input.read($,et);let tt="";for(let nt of this.ranges){if(nt.from>=et)break;nt.to>$&&(tt+=this.input.read(Math.max(nt.from,$),Math.min(nt.to,et)))}return tt}}class TokenGroup{constructor($,et){this.data=$,this.id=et}token($,et){let{parser:tt}=et.p;readToken(this.data,$,et,this.id,tt.data,tt.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor($,et={}){this.token=$,this.contextual=!!et.contextual,this.fallback=!!et.fallback,this.extend=!!et.extend}}function readToken(_e,$,et,tt,nt,rt){let it=0,ot=1<<tt,{dialect:lt}=et.p.parser;e:for(;ot&_e[it];){let ut=_e[it+1];for(let mt=it+3;mt<ut;mt+=2)if((_e[mt+1]&ot)>0){let gt=_e[mt];if(lt.allows(gt)&&($.token.value==-1||$.token.value==gt||overrides(gt,$.token.value,nt,rt))){$.acceptToken(gt);break}}let ct=$.next,ht=0,dt=_e[it+2];if($.next<0&&dt>ht&&_e[ut+dt*3-3]==65535){it=_e[ut+dt*3-1];continue e}for(;ht<dt;){let mt=ht+dt>>1,gt=ut+mt+(mt<<1),Ot=_e[gt],wt=_e[gt+1]||65536;if(ct<Ot)dt=mt;else if(ct>=wt)ht=mt+1;else{it=_e[gt+2],$.advance();continue e}}break}}function findOffset(_e,$,et){for(let tt=$,nt;(nt=_e[tt])!=65535;tt++)if(nt==et)return tt-$;return-1}function overrides(_e,$,et,tt){let nt=findOffset(et,tt,$);return nt<0||findOffset(et,tt,_e)<nt}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(_e,$,et){let tt=_e.cursor(IterMode.IncludeAnonymous);for(tt.moveTo($);;)if(!(et<0?tt.childBefore($):tt.childAfter($)))for(;;){if((et<0?tt.to<$:tt.from>$)&&!tt.type.isError)return et<0?Math.max(0,Math.min(tt.to-1,$-25)):Math.min(_e.length,Math.max(tt.from+1,$+25));if(et<0?tt.prevSibling():tt.nextSibling())break;if(!tt.parent())return et<0?0:_e.length}}class FragmentCursor{constructor($,et){this.fragments=$,this.nodeSet=et,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let $=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if($){for(this.safeFrom=$.openStart?cutAt($.tree,$.from+$.offset,1)-$.offset:$.from,this.safeTo=$.openEnd?cutAt($.tree,$.to+$.offset,-1)-$.offset:$.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push($.tree),this.start.push(-$.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt($){if($<this.nextStart)return null;for(;this.fragment&&this.safeTo<=$;)this.nextFragment();if(!this.fragment)return null;for(;;){let et=this.trees.length-1;if(et<0)return this.nextFragment(),null;let tt=this.trees[et],nt=this.index[et];if(nt==tt.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let rt=tt.children[nt],it=this.start[et]+tt.positions[nt];if(it>$)return this.nextStart=it,null;if(rt instanceof Tree){if(it==$){if(it<this.safeFrom)return null;let ot=it+rt.length;if(ot<=this.safeTo){let lt=rt.prop(NodeProp.lookAhead);if(!lt||ot+lt<this.fragment.to)return rt}}this.index[et]++,it+rt.length>=Math.max(this.safeFrom,$)&&(this.trees.push(rt),this.start.push(it),this.index.push(0))}else this.index[et]++,this.nextStart=it+rt.length}}}class TokenCache{constructor($,et){this.stream=et,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=$.tokenizers.map(tt=>new CachedToken)}getActions($){let et=0,tt=null,{parser:nt}=$.p,{tokenizers:rt}=nt,it=nt.stateSlot($.state,3),ot=$.curContext?$.curContext.hash:0,lt=0;for(let ut=0;ut<rt.length;ut++){if(!(1<<ut&it))continue;let ct=rt[ut],ht=this.tokens[ut];if(!(tt&&!ct.fallback)&&((ct.contextual||ht.start!=$.pos||ht.mask!=it||ht.context!=ot)&&(this.updateCachedToken(ht,ct,$),ht.mask=it,ht.context=ot),ht.lookAhead>ht.end+25&&(lt=Math.max(ht.lookAhead,lt)),ht.value!=0)){let dt=et;if(ht.extended>-1&&(et=this.addActions($,ht.extended,ht.end,et)),et=this.addActions($,ht.value,ht.end,et),!ct.extend&&(tt=ht,et>dt))break}}for(;this.actions.length>et;)this.actions.pop();return lt&&$.setLookAhead(lt),!tt&&$.pos==this.stream.end&&(tt=new CachedToken,tt.value=$.p.parser.eofTerm,tt.start=tt.end=$.pos,et=this.addActions($,tt.value,tt.end,et)),this.mainToken=tt,this.actions}getMainToken($){if(this.mainToken)return this.mainToken;let et=new CachedToken,{pos:tt,p:nt}=$;return et.start=tt,et.end=Math.min(tt+1,nt.stream.end),et.value=tt==nt.stream.end?nt.parser.eofTerm:0,et}updateCachedToken($,et,tt){let nt=this.stream.clipPos(tt.pos);if(et.token(this.stream.reset(nt,$),tt),$.value>-1){let{parser:rt}=tt.p;for(let it=0;it<rt.specialized.length;it++)if(rt.specialized[it]==$.value){let ot=rt.specializers[it](this.stream.read($.start,$.end),tt);if(ot>=0&&tt.p.parser.dialect.allows(ot>>1)){ot&1?$.extended=ot>>1:$.value=ot>>1;break}}}else $.value=0,$.end=this.stream.clipPos(nt+1)}putAction($,et,tt,nt){for(let rt=0;rt<nt;rt+=3)if(this.actions[rt]==$)return nt;return this.actions[nt++]=$,this.actions[nt++]=et,this.actions[nt++]=tt,nt}addActions($,et,tt,nt){let{state:rt}=$,{parser:it}=$.p,{data:ot}=it;for(let lt=0;lt<2;lt++)for(let ut=it.stateSlot(rt,lt?2:1);;ut+=3){if(ot[ut]==65535)if(ot[ut+1]==1)ut=pair(ot,ut+2);else{nt==0&&ot[ut+1]==2&&(nt=this.putAction(pair(ot,ut+2),et,tt,nt));break}ot[ut]==et&&(nt=this.putAction(pair(ot,ut+1),et,tt,nt))}return nt}}class Parse{constructor($,et,tt,nt){this.parser=$,this.input=et,this.ranges=nt,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(et,nt),this.tokens=new TokenCache($,this.stream),this.topTerm=$.top[1];let{from:rt}=nt[0];this.stacks=[Stack.start(this,$.top[0],rt)],this.fragments=tt.length&&this.stream.end-rt>$.bufferLength*4?new FragmentCursor(tt,$.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let $=this.stacks,et=this.minStackPos,tt=this.stacks=[],nt,rt;if(this.bigReductionCount>300&&$.length==1){let[it]=$;for(;it.forceReduce()&&it.stack.length&&it.stack[it.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let it=0;it<$.length;it++){let ot=$[it];for(;;){if(this.tokens.mainToken=null,ot.pos>et)tt.push(ot);else{if(this.advanceStack(ot,tt,$))continue;{nt||(nt=[],rt=[]),nt.push(ot);let lt=this.tokens.getMainToken(ot);rt.push(lt.value,lt.end)}}break}}if(!tt.length){let it=nt&&findFinished(nt);if(it)return verbose&&console.log("Finish with "+this.stackID(it)),this.stackToTree(it);if(this.parser.strict)throw verbose&&nt&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+et);this.recovering||(this.recovering=5)}if(this.recovering&&nt){let it=this.stoppedAt!=null&&nt[0].pos>this.stoppedAt?nt[0]:this.runRecovery(nt,rt,tt);if(it)return verbose&&console.log("Force-finish "+this.stackID(it)),this.stackToTree(it.forceAll())}if(this.recovering){let it=this.recovering==1?1:this.recovering*3;if(tt.length>it)for(tt.sort((ot,lt)=>lt.score-ot.score);tt.length>it;)tt.pop();tt.some(ot=>ot.reducePos>et)&&this.recovering--}else if(tt.length>1){e:for(let it=0;it<tt.length-1;it++){let ot=tt[it];for(let lt=it+1;lt<tt.length;lt++){let ut=tt[lt];if(ot.sameState(ut)||ot.buffer.length>500&&ut.buffer.length>500)if((ot.score-ut.score||ot.buffer.length-ut.buffer.length)>0)tt.splice(lt--,1);else{tt.splice(it--,1);continue e}}}tt.length>12&&tt.splice(12,tt.length-12)}this.minStackPos=tt[0].pos;for(let it=1;it<tt.length;it++)tt[it].pos<this.minStackPos&&(this.minStackPos=tt[it].pos);return null}stopAt($){if(this.stoppedAt!=null&&this.stoppedAt<$)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=$}advanceStack($,et,tt){let nt=$.pos,{parser:rt}=this,it=verbose?this.stackID($)+" -> ":"";if(this.stoppedAt!=null&&nt>this.stoppedAt)return $.forceReduce()?$:null;if(this.fragments){let ut=$.curContext&&$.curContext.tracker.strict,ct=ut?$.curContext.hash:0;for(let ht=this.fragments.nodeAt(nt);ht;){let dt=this.parser.nodeSet.types[ht.type.id]==ht.type?rt.getGoto($.state,ht.type.id):-1;if(dt>-1&&ht.length&&(!ut||(ht.prop(NodeProp.contextHash)||0)==ct))return $.useNode(ht,dt),verbose&&console.log(it+this.stackID($)+` (via reuse of ${rt.getName(ht.type.id)})`),!0;if(!(ht instanceof Tree)||ht.children.length==0||ht.positions[0]>0)break;let mt=ht.children[0];if(mt instanceof Tree&&ht.positions[0]==0)ht=mt;else break}}let ot=rt.stateSlot($.state,4);if(ot>0)return $.reduce(ot),verbose&&console.log(it+this.stackID($)+` (via always-reduce ${rt.getName(ot&65535)})`),!0;if($.stack.length>=8400)for(;$.stack.length>6e3&&$.forceReduce(););let lt=this.tokens.getActions($);for(let ut=0;ut<lt.length;){let ct=lt[ut++],ht=lt[ut++],dt=lt[ut++],mt=ut==lt.length||!tt,gt=mt?$:$.split(),Ot=this.tokens.mainToken;if(gt.apply(ct,ht,Ot?Ot.start:gt.pos,dt),verbose&&console.log(it+this.stackID(gt)+` (via ${ct&65536?`reduce of ${rt.getName(ct&65535)}`:"shift"} for ${rt.getName(ht)} @ ${nt}${gt==$?"":", split"})`),mt)return!0;gt.pos>nt?et.push(gt):tt.push(gt)}return!1}advanceFully($,et){let tt=$.pos;for(;;){if(!this.advanceStack($,null,null))return!1;if($.pos>tt)return pushStackDedup($,et),!0}}runRecovery($,et,tt){let nt=null,rt=!1;for(let it=0;it<$.length;it++){let ot=$[it],lt=et[it<<1],ut=et[(it<<1)+1],ct=verbose?this.stackID(ot)+" -> ":"";if(ot.deadEnd&&(rt||(rt=!0,ot.restart(),verbose&&console.log(ct+this.stackID(ot)+" (restarted)"),this.advanceFully(ot,tt))))continue;let ht=ot.split(),dt=ct;for(let mt=0;ht.forceReduce()&&mt<10&&(verbose&&console.log(dt+this.stackID(ht)+" (via force-reduce)"),!this.advanceFully(ht,tt));mt++)verbose&&(dt=this.stackID(ht)+" -> ");for(let mt of ot.recoverByInsert(lt))verbose&&console.log(ct+this.stackID(mt)+" (via recover-insert)"),this.advanceFully(mt,tt);this.stream.end>ot.pos?(ut==ot.pos&&(ut++,lt=0),ot.recoverByDelete(lt,ut),verbose&&console.log(ct+this.stackID(ot)+` (via recover-delete ${this.parser.getName(lt)})`),pushStackDedup(ot,tt)):(!nt||nt.score<ot.score)&&(nt=ot)}return nt}stackToTree($){return $.close(),Tree.build({buffer:StackBufferCursor.create($),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:$.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID($){let et=(stackIDs||(stackIDs=new WeakMap)).get($);return et||stackIDs.set($,et=String.fromCodePoint(this.nextStackID++)),et+$}}function pushStackDedup(_e,$){for(let et=0;et<$.length;et++){let tt=$[et];if(tt.pos==_e.pos&&tt.sameState(_e)){$[et].score<_e.score&&($[et]=_e);return}}$.push(_e)}class Dialect{constructor($,et,tt){this.source=$,this.flags=et,this.disabled=tt}allows($){return!this.disabled||this.disabled[$]==0}}const id=_e=>_e;class ContextTracker{constructor($){this.start=$.start,this.shift=$.shift||id,this.reduce=$.reduce||id,this.reuse=$.reuse||id,this.hash=$.hash||(()=>0),this.strict=$.strict!==!1}}class LRParser extends Parser{constructor($){if(super(),this.wrappers=[],$.version!=14)throw new RangeError(`Parser version (${$.version}) doesn't match runtime version (14)`);let et=$.nodeNames.split(" ");this.minRepeatTerm=et.length;for(let ot=0;ot<$.repeatNodeCount;ot++)et.push("");let tt=Object.keys($.topRules).map(ot=>$.topRules[ot][1]),nt=[];for(let ot=0;ot<et.length;ot++)nt.push([]);function rt(ot,lt,ut){nt[ot].push([lt,lt.deserialize(String(ut))])}if($.nodeProps)for(let ot of $.nodeProps){let lt=ot[0];typeof lt=="string"&&(lt=NodeProp[lt]);for(let ut=1;ut<ot.length;){let ct=ot[ut++];if(ct>=0)rt(ct,lt,ot[ut++]);else{let ht=ot[ut+-ct];for(let dt=-ct;dt>0;dt--)rt(ot[ut++],lt,ht);ut++}}}this.nodeSet=new NodeSet(et.map((ot,lt)=>NodeType.define({name:lt>=this.minRepeatTerm?void 0:ot,id:lt,props:nt[lt],top:tt.indexOf(lt)>-1,error:lt==0,skipped:$.skippedNodes&&$.skippedNodes.indexOf(lt)>-1}))),$.propSources&&(this.nodeSet=this.nodeSet.extend(...$.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let it=decodeArray($.tokenData);this.context=$.context,this.specializerSpecs=$.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let ot=0;ot<this.specializerSpecs.length;ot++)this.specialized[ot]=this.specializerSpecs[ot].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray($.states,Uint32Array),this.data=decodeArray($.stateData),this.goto=decodeArray($.goto),this.maxTerm=$.maxTerm,this.tokenizers=$.tokenizers.map(ot=>typeof ot=="number"?new TokenGroup(it,ot):ot),this.topRules=$.topRules,this.dialects=$.dialects||{},this.dynamicPrecedences=$.dynamicPrecedences||null,this.tokenPrecTable=$.tokenPrec,this.termNames=$.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse($,et,tt){let nt=new Parse(this,$,et,tt);for(let rt of this.wrappers)nt=rt(nt,$,et,tt);return nt}getGoto($,et,tt=!1){let nt=this.goto;if(et>=nt[0])return-1;for(let rt=nt[et+1];;){let it=nt[rt++],ot=it&1,lt=nt[rt++];if(ot&&tt)return lt;for(let ut=rt+(it>>1);rt<ut;rt++)if(nt[rt]==$)return lt;if(ot)return-1}}hasAction($,et){let tt=this.data;for(let nt=0;nt<2;nt++)for(let rt=this.stateSlot($,nt?2:1),it;;rt+=3){if((it=tt[rt])==65535)if(tt[rt+1]==1)it=tt[rt=pair(tt,rt+2)];else{if(tt[rt+1]==2)return pair(tt,rt+2);break}if(it==et||it==0)return pair(tt,rt+1)}return 0}stateSlot($,et){return this.states[$*6+et]}stateFlag($,et){return(this.stateSlot($,0)&et)>0}validAction($,et){return!!this.allActions($,tt=>tt==et?!0:null)}allActions($,et){let tt=this.stateSlot($,4),nt=tt?et(tt):void 0;for(let rt=this.stateSlot($,1);nt==null;rt+=3){if(this.data[rt]==65535)if(this.data[rt+1]==1)rt=pair(this.data,rt+2);else break;nt=et(pair(this.data,rt+1))}return nt}nextStates($){let et=[];for(let tt=this.stateSlot($,1);;tt+=3){if(this.data[tt]==65535)if(this.data[tt+1]==1)tt=pair(this.data,tt+2);else break;if(!(this.data[tt+2]&1)){let nt=this.data[tt+1];et.some((rt,it)=>it&1&&rt==nt)||et.push(this.data[tt],nt)}}return et}configure($){let et=Object.assign(Object.create(LRParser.prototype),this);if($.props&&(et.nodeSet=this.nodeSet.extend(...$.props)),$.top){let tt=this.topRules[$.top];if(!tt)throw new RangeError(`Invalid top rule name ${$.top}`);et.top=tt}return $.tokenizers&&(et.tokenizers=this.tokenizers.map(tt=>{let nt=$.tokenizers.find(rt=>rt.from==tt);return nt?nt.to:tt})),$.specializers&&(et.specializers=this.specializers.slice(),et.specializerSpecs=this.specializerSpecs.map((tt,nt)=>{let rt=$.specializers.find(ot=>ot.from==tt.external);if(!rt)return tt;let it=Object.assign(Object.assign({},tt),{external:rt.to});return et.specializers[nt]=getSpecializer(it),it})),$.contextTracker&&(et.context=$.contextTracker),$.dialect&&(et.dialect=this.parseDialect($.dialect)),$.strict!=null&&(et.strict=$.strict),$.wrap&&(et.wrappers=et.wrappers.concat($.wrap)),$.bufferLength!=null&&(et.bufferLength=$.bufferLength),et}hasWrappers(){return this.wrappers.length>0}getName($){return this.termNames?this.termNames[$]:String($<=this.maxNode&&this.nodeSet.types[$].name||$)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence($){let et=this.dynamicPrecedences;return et==null?0:et[$]||0}parseDialect($){let et=Object.keys(this.dialects),tt=et.map(()=>!1);if($)for(let rt of $.split(" ")){let it=et.indexOf(rt);it>=0&&(tt[it]=!0)}let nt=null;for(let rt=0;rt<et.length;rt++)if(!tt[rt])for(let it=this.dialects[et[rt]],ot;(ot=this.data[it++])!=65535;)(nt||(nt=new Uint8Array(this.maxTerm+1)))[ot]=1;return new Dialect($,tt,nt)}static deserialize($){return new LRParser($)}}function pair(_e,$){return _e[$]|_e[$+1]<<16}function findFinished(_e){let $=null;for(let et of _e){let tt=et.p.stoppedAt;(et.pos==et.p.stream.end||tt!=null&&et.pos>tt)&&et.p.parser.stateFlag(et.state,2)&&(!$||$.score<et.score)&&($=et)}return $}function getSpecializer(_e){if(_e.external){let $=_e.extend?1:0;return(et,tt)=>_e.external(et,tt)<<1|$}return _e.get}const printKeyword=1,indent=206,dedent=207,newline$1=208,blankLineStart=209,newlineBracketed=210,eof=211,formatString1Content=212,formatString1Brace=2,formatString1End=213,formatString2Content=214,formatString2Brace=3,formatString2End=215,formatString1lContent=216,formatString1lBrace=4,formatString1lEnd=217,formatString2lContent=218,formatString2lBrace=5,formatString2lEnd=219,ParenL=26,ParenthesizedExpression=27,TupleExpression=51,ComprehensionExpression=52,BracketL=57,ArrayExpression=58,ArrayComprehensionExpression=59,BraceL=61,DictionaryExpression=62,DictionaryComprehensionExpression=63,SetExpression=64,SetComprehensionExpression=65,ArgList=67,subscript=256,FormatString=74,importList=275,TypeParamList=120,ParamList=138,SequencePattern=159,MappingPattern=160,PatternArgList=163,newline=10,carriageReturn=13,space=32,tab=9,hash=35,parenOpen=40,dot=46,braceOpen=123,singleQuote=39,doubleQuote=34,backslash=92,bracketed=new Set([ParenthesizedExpression,TupleExpression,ComprehensionExpression,importList,ArgList,ParamList,ArrayExpression,ArrayComprehensionExpression,subscript,SetExpression,SetComprehensionExpression,FormatString,DictionaryExpression,DictionaryComprehensionExpression,SequencePattern,MappingPattern,PatternArgList,TypeParamList]);function isLineBreak(_e){return _e==newline||_e==carriageReturn}const newlines=new ExternalTokenizer((_e,$)=>{let et;if(_e.next<0)_e.acceptToken(eof);else if($.context.depth<0)isLineBreak(_e.next)&&_e.acceptToken(newlineBracketed,1);else if(((et=_e.peek(-1))<0||isLineBreak(et))&&$.canShift(blankLineStart)){let tt=0;for(;_e.next==space||_e.next==tab;)_e.advance(),tt++;(_e.next==newline||_e.next==carriageReturn||_e.next==hash)&&_e.acceptToken(blankLineStart,-tt)}else isLineBreak(_e.next)&&_e.acceptToken(newline$1,1)},{contextual:!0}),indentation=new ExternalTokenizer((_e,$)=>{let et=$.context.depth;if(et<0)return;let tt=_e.peek(-1);if(tt==newline||tt==carriageReturn){let nt=0,rt=0;for(;;){if(_e.next==space)nt++;else if(_e.next==tab)nt+=8-nt%8;else break;_e.advance(),rt++}nt!=et&&_e.next!=newline&&_e.next!=carriageReturn&&_e.next!=hash&&(nt<et?_e.acceptToken(dedent,-rt):_e.acceptToken(indent))}});function IndentLevel(_e,$){this.parent=_e,this.depth=$,this.hash=(_e?_e.hash+_e.hash<<8:0)+$+($<<4)}const topIndent=new IndentLevel(null,0);function countIndent(_e){let $=0;for(let et=0;et<_e.length;et++)$+=_e.charCodeAt(et)==tab?8-$%8:1;return $}const trackIndent=new ContextTracker({start:topIndent,reduce(_e,$){return _e.depth<0&&bracketed.has($)?_e.parent:_e},shift(_e,$,et,tt){return $==indent?new IndentLevel(_e,countIndent(tt.read(tt.pos,et.pos))):$==dedent?_e.parent:$==ParenL||$==BracketL||$==BraceL?new IndentLevel(_e,-1):_e},hash(_e){return _e.hash}}),legacyPrint=new ExternalTokenizer(_e=>{for(let $=0;$<5;$++){if(_e.next!="print".charCodeAt($))return;_e.advance()}if(!/\w/.test(String.fromCharCode(_e.next)))for(let $=0;;$++){let et=_e.peek($);if(!(et==space||et==tab)){et!=parenOpen&&et!=dot&&et!=newline&&et!=carriageReturn&&et!=hash&&_e.acceptToken(printKeyword);return}}});function formatString(_e,$,et,tt,nt){return new ExternalTokenizer(rt=>{let it=rt.pos;for(;!(rt.next<0);)if(rt.next==braceOpen)if(rt.peek(1)==braceOpen)rt.advance(2);else{if(rt.pos==it){rt.acceptToken(tt,1);return}break}else if(rt.next==backslash)rt.advance(),rt.next>=0&&rt.advance();else if(rt.next==_e&&($==1||rt.peek(1)==_e&&rt.peek(2)==_e)){if(rt.pos==it){rt.acceptToken(nt,$);return}break}else rt.advance();rt.pos>it&&rt.acceptToken(et)})}const formatString1=formatString(singleQuote,1,formatString1Content,formatString1Brace,formatString1End),formatString2=formatString(doubleQuote,1,formatString2Content,formatString2Brace,formatString2End),formatString1l=formatString(singleQuote,3,formatString1lContent,formatString1lBrace,formatString1lEnd),formatString2l=formatString(doubleQuote,3,formatString2lContent,formatString2lBrace,formatString2lEnd),pythonHighlighting=styleTags({'async "*" "**" FormatConversion FormatSpec':tags.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":tags.controlKeyword,"in not and or is del":tags.operatorKeyword,"from def class global nonlocal lambda":tags.definitionKeyword,import:tags.moduleKeyword,"with as print":tags.keyword,Boolean:tags.bool,None:tags.null,VariableName:tags.variableName,"CallExpression/VariableName":tags.function(tags.variableName),"FunctionDefinition/VariableName":tags.function(tags.definition(tags.variableName)),"ClassDefinition/VariableName":tags.definition(tags.className),PropertyName:tags.propertyName,"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),Comment:tags.lineComment,Number:tags.number,String:tags.string,FormatString:tags.special(tags.string),UpdateOp:tags.updateOperator,"ArithOp!":tags.arithmeticOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,AssignOp:tags.definitionOperator,Ellipsis:tags.punctuation,At:tags.meta,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,".":tags.derefOperator,", ;":tags.separator}),spec_identifier={__proto__:null,await:48,or:58,and:60,in:64,not:66,is:68,if:74,else:76,lambda:80,yield:98,from:100,async:106,for:108,None:178,True:180,False:180,del:194,pass:198,break:202,continue:206,return:210,raise:218,import:222,as:224,global:228,nonlocal:230,assert:234,type:239,elif:252,while:256,try:262,except:264,finally:266,with:270,def:274,class:284,match:295,case:301},parser=LRParser.deserialize({version:14,states:"#)WO`Q#yOOP$bOSOOO%kQ&nO'#HhOOQS'#Cq'#CqOOQS'#Cr'#CrO'ZQ#xO'#CpO(|Q&nO'#HgOOQS'#Hh'#HhOOQS'#DW'#DWOOQS'#Hg'#HgO)jQ#xO'#DaO)}Q#xO'#DhO*_Q#xO'#DlOOQS'#Dw'#DwO*rO,UO'#DwO*zO7[O'#DwO+SOWO'#DxO+_O`O'#DxO+jOpO'#DxO+uO!bO'#DxO-wQ&nO'#HXOOQS'#HX'#HXO'ZQ#xO'#HWO/ZQ&nO'#HWOOQS'#Ej'#EjO/rQ#xO'#EkOOQS'#HV'#HVO/|Q#xO'#HUOOQV'#HU'#HUO0XQ#xO'#FbOOQS'#Gj'#GjO0^Q#xO'#FaOOQV'#I_'#I_OOQV'#HT'#HTOOQV'#Fy'#FyQ`Q#yOOO'ZQ#xO'#CsO0lQ#xO'#DPO0sQ#xO'#DTO1RQ#xO'#HlO1cQ&nO'#E_O'ZQ#xO'#E`OOQS'#Eb'#EbOOQS'#Ed'#EdOOQS'#Ef'#EfO1wQ#xO'#EhO2_Q#xO'#ElO0XQ#xO'#EnO2rQ&nO'#EnO0XQ#xO'#EqO/rQ#xO'#EtO0XQ#xO'#EvO/rQ#xO'#E|O/rQ#xO'#FPO2}Q#xO'#FRO3UQ#xO'#FWO3aQ#xO'#FSO/rQ#xO'#FWO0XQ#xO'#FYO0XQ#xO'#F_O3fQ#xO'#FdP3mO#xO'#HSPOOO)CBv)CBvOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Ck'#CkOOQS'#Cl'#ClOOQS'#Cn'#CnO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO'ZQ#xO,59QO3xQ#xO'#DqOOQS,5:[,5:[O4]Q#xO'#HvOOQS,5:_,5:_O4jQMlO,5:_O4oQ&nO,59[O0lQ#xO,59dO0lQ#xO,59dO0lQ#xO,59dO7_Q#xO,59dO7dQ#xO,59dO7kQ#xO,59lO7rQ#xO'#HgO8xQ#xO'#HfOOQS'#Hf'#HfOOQS'#D^'#D^O9aQ#xO,59cO'ZQ#xO,59cO9oQ#xO,59cOOQS,59{,59{O9tQ#xO,5:TO'ZQ#xO,5:TOOQS,5:S,5:SO:SQ#xO,5:SO:XQ#xO,5:ZO'ZQ#xO,5:ZO'ZQ#xO,5:XOOQS,5:W,5:WO:jQ#xO,5:WO:oQ#xO,5:YOOOO'#GR'#GRO:tO,UO,5:cOOQS,5:c,5:cOOOO'#GS'#GSO:|O7[O,5:cO;UQ#xO'#DyOOOW'#GT'#GTO;fOWO,5:dOOQS,5:d,5:dO;UQ#xO'#EPOOO`'#GW'#GWO;qO`O,5:dO;UQ#xO'#EROOOp'#GX'#GXO;|OpO,5:dO;UQ#xO'#ETOOO!b'#GY'#GYO<XO!bO,5:dOOQS'#GZ'#GZO<dQ&nO,5:qO?UQ&nO,5=rO?oQ!LUO,5=rO@`Q&nO,5=rOOQS,5;V,5;VO@wQ#yO'#GdOBZQ#xO,5;fOOQV,5=p,5=pOBfQ&nO'#IYOB}Q#xO,5;|OOQS-E:h-E:hOOQV,5;{,5;{O3[Q#xO'#FYOOQV-E9w-E9wOCVQ&nO,59_OE^Q&nO,59kOEwQ#xO'#HiOFSQ#xO'#HiO0XQ#xO'#HiOF_Q#xO'#DVOFgQ#xO,59oOFlQ#xO'#HmO'ZQ#xO'#HmO/rQ#xO,5>WOOQS,5>W,5>WO/rQ#xO'#EZOOQS'#E['#E[OGZQ#xO'#G]OGkQ#xO,59OOGkQ#xO,59OO)pQ#xO,5:wOGyQ&nO'#HoOOQS,5:z,5:zOOQS,5;S,5;SOH^Q#xO,5;WOHoQ#xO,5;YOOQS'#G`'#G`OH}Q&nO,5;YOI]Q#xO,5;YOIbQ#xO'#I]OOQS,5;],5;]OIpQ#xO'#IXOOQS,5;`,5;`OJRQ#xO,5;bO3aQ#xO,5;hO3aQ#xO,5;kOJZQ&nO'#I`O'ZQ#xO'#I`OJeQ#xO,5;mO2}Q#xO,5;mO/rQ#xO,5;rO0XQ#xO,5;tOJjQ#yO'#E}OKvQ#{O,5;nO! [Q#xO'#IaO3aQ#xO,5;rO! gQ#xO,5;tO! oQ#xO,5;yO! zQ&nO,5<OO'ZQ#xO,5<OPOOO,5=n,5=nP!!ROSO,5=nP!!WO#xO,5=nO!${Q&nO1G.lO!%SQ&nO1G.lO!'sQ&nO1G.lO!'}Q&nO1G.lO!*hQ&nO1G.lO!*{Q&nO1G.lO!+`Q#xO'#HuO!+nQ&nO'#HXO/rQ#xO'#HuO!+xQ#xO'#HtOOQS,5:],5:]O!,QQ#xO,5:]O!,VQ#xO'#HwO!,bQ#xO'#HwO!,uQ#xO,5>bOOQS'#Du'#DuOOQS1G/y1G/yOOQS1G/O1G/OO!-uQ&nO1G/OO!-|Q&nO1G/OO0lQ#xO1G/OO!.iQ#xO1G/WOOQS'#D]'#D]O/rQ#xO,59vOOQS1G.}1G.}O!.pQ#xO1G/gO!/QQ#xO1G/gO!/YQ#xO1G/hO'ZQ#xO'#HnO!/_Q#xO'#HnO!/dQ&nO1G.}O!/tQ#xO,59kO!0zQ#xO,5>^O!1[Q#xO,5>^O!1dQ#xO1G/oO!1iQ&nO1G/oOOQS1G/n1G/nO!1yQ#xO,5>XO!2pQ#xO,5>XO/rQ#xO1G/sO!3_Q#xO1G/uO!3dQ&nO1G/uO!3tQ&nO1G/sOOQS1G/r1G/rOOQS1G/t1G/tOOOO-E:P-E:POOQS1G/}1G/}OOOO-E:Q-E:QO!4UQ#xO'#IRO/rQ#xO'#IRO!4gQ#xO,5:eOOOW-E:R-E:ROOQS1G0O1G0OO!4uQ#xO,5:kOOO`-E:U-E:UO!5TQ#xO,5:mOOOp-E:V-E:VO!5cQ#xO,5:oOOO!b-E:W-E:WOOQS-E:X-E:XO!5qQ!LUO1G3^O!6bQ&nO1G3^O'ZQ#xO,5<vOOQS,5<v,5<vOOQS-E:Y-E:YOOQS,5=O,5=OOOQS-E:b-E:bOOQV1G1Q1G1QO0XQ#xO'#G_O!6yQ&nO,5>tOOQS1G1h1G1hO!7bQ#xO1G1hOOQS'#DX'#DXO/rQ#xO,5>TOOQS,5>T,5>TO!7gQ#xO'#FzO!7rQ#xO,59qO!7zQ#xO1G/ZO!8UQ&nO,5>XOOQS1G3r1G3rOOQS,5:u,5:uO!8uQ#xO'#HWOOQS,5<w,5<wOOQS-E:Z-E:ZO!9WQ#xO1G.jOOQS1G0c1G0cO!9fQ#xO,5>ZO!9vQ#xO,5>ZO/rQ#xO1G0rO/rQ#xO1G0rO0XQ#xO1G0tOOQS-E:^-E:^O!:XQ#xO1G0tO!:dQ#xO1G0tO!:iQ#xO,5>wO!:wQ#xO,5>wO!;VQ#xO,5>sO!;mQ#xO,5>sO!<OQ#xO'#ExO/rQ#xO1G0|O!<ZQ#xO1G0|O!<`Q#{O1G1SO!?qQ#{O1G1VO!CPQ#xO,5>zO!CZQ#xO,5>zO!CcQ&nO,5>zO/rQ#xO1G1XO!CmQ#xO1G1XO3aQ#xO1G1^O! gQ#xO1G1`OOQV,5;i,5;iO!CrQ#zO,5;iO!CwQ#{O1G1YO!G]Q#xO'#GgO3aQ#xO1G1YO3aQ#xO1G1YO!GmQ#xO,5>{O!GzQ#xO,5>{O0XQ#xO,5>{OOQV1G1^1G1^O!HSQ#xO'#F[O!HeQMlO1G1`O!HmQ#xO1G1`OOQV1G1e1G1eO3aQ#xO1G1eO!HrQ#xO1G1eO!HzQ#xO'#FfOOQV1G1j1G1jO! zQ&nO1G1jPOOO1G3Y1G3YP!IPOSO1G3YOOQS,5>a,5>aOOQS'#Dr'#DrO/rQ#xO,5>aO!IUQ#xO,5>`O!IiQ#xO,5>`OOQS1G/w1G/wO!IqQ#xO,5>cO!JRQ#xO,5>cO!JZQ#xO,5>cO!JnQ#xO,5>cO!KOQ#xO,5>cOOQS1G3|1G3|OOQS7+$j7+$jO!7zQ#xO7+$rO!LqQ#xO1G/OO!LxQ#xO1G/OOOQS1G/b1G/bOOQS,5<h,5<hO'ZQ#xO,5<hOOQS7+%R7+%RO!MPQ#xO7+%ROOQS-E9z-E9zOOQS7+%S7+%SO!MaQ#xO,5>YO'ZQ#xO,5>YOOQS7+$i7+$iO!MfQ#xO7+%RO!MnQ#xO7+%SO!MsQ#xO1G3xOOQS7+%Z7+%ZO!NTQ#xO1G3xO!N]Q#xO7+%ZOOQS,5<g,5<gO'ZQ#xO,5<gO!NbQ#xO1G3sOOQS-E9y-E9yO# XQ#xO7+%_OOQS7+%a7+%aO# gQ#xO1G3sO#!UQ#xO7+%aO#!ZQ#xO1G3yO#!kQ#xO1G3yO#!sQ#xO7+%_O#!xQ#xO,5>mO##cQ#xO,5>mO##cQ#xO,5>mOOQS'#Dz'#DzO##tO$ISO'#D|O#$PO#tO'#ISOOOW1G0P1G0PO#$UQ#xO1G0PO#$^Q#xO1G0POOQS'#EQ'#EQOOO`1G0V1G0VO#$iQ#xO1G0VO#$qQ#xO1G0VOOQS'#ES'#ESOOOp1G0X1G0XO#$|Q#xO1G0XO#%UQ#xO1G0XOOQS'#EU'#EUOOO!b1G0Z1G0ZO#%aQ#xO1G0ZO#%iQ#xO1G0ZO#%tQ!LUO7+(xO#&eQ&nO1G2bP#'OQ#xO'#G[OOQS,5<y,5<yOOQS-E:]-E:]OOQS7+'S7+'SOOQS1G3o1G3oOOQS,5<f,5<fOOQS-E9x-E9xOOQS7+$u7+$uO#']Q#xO,5=rO#'vQ#xO,5=rO#(XQ&nO,5<iO#(lQ#xO1G3uOOQS-E9{-E9{OOQS7+&^7+&^O#(|Q#xO7+&^OOQS7+&`7+&`O#)[Q#xO'#I[O0XQ#xO'#IZO#)pQ#xO7+&`OOQS,5<|,5<|O#){Q#xO1G4cOOQS-E:`-E:`OOQS,5<x,5<xO#*ZQ#xO1G4_OOQS-E:[-E:[O0XQ#xO'#EyO#*qQ#xO'#EyO#*|Q#xO'#I^O#+UQ#xO,5;dOOQS7+&h7+&hO/rQ#xO7+&hO#+ZQ#{O7+&nO!G`Q#xO'#GeO3aQ#xO7+&nO3aQ#xO7+&qO#.lQ&nO,5=QO'ZQ#xO,5=QO#.vQ#xO1G4fOOQS-E:d-E:dO#/QQ#xO1G4fO3aQ#xO7+&sO/rQ#xO7+&sOOQV7+&x7+&xO!HeQMlO7+&zO!HmQ#xO7+&zO`Q#yO1G1TOOQV-E:e-E:eO3aQ#xO7+&tO3aQ#xO7+&tOOQV,5=R,5=RO#/YQ#xO,5=RO!G`Q#xO,5=ROOQV7+&t7+&tO#/eQ#{O7+&tO#2sQ#xO,5=SO#3OQ#xO1G4gOOQS-E:f-E:fO#3]Q#xO1G4gO#3eQ#xO'#IcO#3sQ#xO'#IcO0XQ#xO'#IcOOQS'#Ic'#IcO#4OQ#xO'#IbOOQS,5;v,5;vO#4WQ#xO,5;vO/rQ#xO'#F^OOQV7+&z7+&zO3aQ#xO7+&zOOQV7+'P7+'PO3aQ#xO7+'PO#4]Q#zO,5<QOOQV7+'U7+'UPOOO7+(t7+(tO#4bQ#xO1G3{OOQS,5<k,5<kO#4pQ#xO1G3zOOQS-E9}-E9}O#5TQ#xO,5<lO#5`Q#xO,5<lO#5sQ#xO1G3}OOQS-E:O-E:OO#6TQ#xO1G3}O#6]Q#xO1G3}O#6mQ#xO1G3}O#6TQ#xO1G3}OOQS<<H^<<H^O#6xQ&nO1G2SOOQS<<Hm<<HmP#7VQ#xO'#F|O7kQ#xO1G3tO#7dQ#xO1G3tO#7iQ#xO<<HmOOQS<<Hn<<HnO#7yQ#xO7+)dOOQS<<Hu<<HuO#8ZQ&nO1G2RP#8zQ#xO'#F{O#9XQ#xO7+)eO#9iQ#xO7+)eO#9qQ#xO<<HyO#9vQ#xO7+)_OOQS<<H{<<H{O#:mQ#xO,5<jO'ZQ#xO,5<jOOQS-E9|-E9|OOQS<<Hy<<HyOOQS,5<p,5<pO/rQ#xO,5<pO#:rQ#xO1G4XOOQS-E:S-E:SO#;]Q#xO1G4XO;UQ#xO'#D}OOOO'#GV'#GVO#;nO$ISO,5:hOOO#l,5>n,5>nOOOW7+%k7+%kO#;yQ#xO7+%kOOO`7+%q7+%qO#<RQ#xO7+%qOOOp7+%s7+%sO#<ZQ#xO7+%sOOO!b7+%u7+%uO#<cQ#xO7+%uO#<kQ#xO1G3^O#=UQ#xO1G3^P'ZQ#xO'#F}O/rQ#xO<<IxO#=gQ#xO,5>vO#=xQ#xO,5>vO0XQ#xO,5>vO#>ZQ#xO,5>uOOQS<<Iz<<IzP0XQ#xO'#GbP/rQ#xO'#G^OOQS,5;e,5;eO#>`Q#xO,5>xO#>nQ#xO,5>xOOQS1G1O1G1OOOQS<<JS<<JSOOQV-E:c-E:cO3aQ#xO<<JYOOQV,5=P,5=PO3aQ#xO,5=POOQV<<JY<<JYOOQV<<J]<<J]O#>vQ&nO1G2lP#?QQ#xO'#GfO#?XQ#xO7+*QO#?cQ#{O<<J_O3aQ#xO<<J_OOQV<<Jf<<JfO3aQ#xO<<JfO!HeQMlO<<JfO#BqQ#{O7+&oOOQV<<J`<<J`O#B{Q#{O<<J`OOQV1G2m1G2mO0XQ#xO1G2mO#FZQ#xO1G2mO3aQ#xO<<J`O0XQ#xO1G2nP/rQ#xO'#GhO#FfQ#xO7+*RO#FsQ#xO7+*ROOQS'#F]'#F]O/rQ#xO,5>}O#F{Q#xO,5>}OOQS,5>},5>}O#GWQ#xO,5>|O#GiQ#xO,5>|OOQS1G1b1G1bOOQS,5;x,5;xOOQV<<Jk<<JkO#GqQ#xO1G1lOOQS7+)g7+)gP#GvQ#xO'#GPO#HWQ#xO1G2WO#HkQ#xO1G2WO#H{Q#xO1G2WP#IWQ#xO'#GQO#IeQ#xO7+)iO#IuQ#xO7+)iO#IuQ#xO7+)iO#I}Q#xO7+)iO#J_Q#xO7+)`O7kQ#xO7+)`OOQSAN>XAN>XO#JxQ#xO<<MPOOQSAN>eAN>eO/rQ#xO1G2UO#KYQ&nO1G2UP#KdQ#xO'#GOOOQS1G2[1G2[P#KqQ#xO'#GUO#LOQ#xO7+)sO#LiQ#xO,5:iOOOO-E:T-E:TOOOW<<IV<<IVOOO`<<I]<<I]OOOp<<I_<<I_OOO!b<<Ia<<IaO#LwQ#xO7+(xOOQSAN?dAN?dO#MbQ#xO,5<{O#MvQ#xO1G4bOOQS-E:_-E:_O#NXQ#xO1G4bOOQS1G4a1G4aOOQS,5<},5<}O#NjQ#xO1G4dOOQS-E:a-E:aOOQVAN?tAN?tOOQV1G2k1G2kO3aQ#xOAN?yO#NxQ#{OAN?yOOQVAN@QAN@QO3aQ#xOAN@QOOQV<<JZ<<JZO3aQ#xOAN?zO3aQ#xO7+(XOOQV7+(X7+(XO0XQ#xO7+(XOOQVAN?zAN?zOOQS7+(Y7+(YO$$WQ#xO<<MmOOQS1G4i1G4iO/rQ#xO1G4iOOQS,5=T,5=TO$$eQ#xO1G4hOOQS-E:g-E:gOOQU'#Gk'#GkO$$vQ#zO7+'WO$%RQ#xO'#FgO$%yQ#xO7+'rO$&ZQ#xO7+'rOOQS7+'r7+'rO$&fQ#xO<<MTO$&vQ#xO<<MTO$&vQ#xO<<MTO$'OQ#xO'#HpOOQS<<Lz<<LzO$'YQ#xO<<LzOOQS7+'p7+'pOOQS'#EO'#EOOOOO1G0T1G0TO$'sQ#xO1G0TO$'{Q#xO1G0TO0XQ#xO1G2gP0XQ#xO'#GaO$(WQ#xO7+)|O$(iQ#xO7+)|P!<OQ#xO'#GcOOQVG25eG25eO3aQ#xOG25eOOQVG25lG25lOOQVG25fG25fOOQV<<Ks<<KsO3aQ#xO<<KsOOQS7+*T7+*TP$(zQ#xO'#GiOOQU-E:i-E:iOOQV<<Jr<<JrO$)nQ&nO'#FiOOQS'#Fk'#FkO$*OQ#xO'#FjO$*pQ#xO'#FjOOQS'#Fj'#FjO$*uQ#xO'#IeO$%RQ#xO'#FqO$%RQ#xO'#FqO$+^Q#xO'#FrO$%RQ#xO'#FsO$+eQ#xO'#IfOOQS'#If'#IfO$,SQ#xO,5<ROOQS<<K^<<K^O$,[Q#xO<<K^O$,lQ#xOANBoO$,|Q#xOANBoO$-UQ#xO'#HqOOQS'#Hq'#HqO0sQ#xO'#DeO$-oQ#xO,5>[OOQSANBfANBfOOOO7+%o7+%oO$.WQ#xO7+%oOOQS7+(R7+(RO$.`Q#xO<<MhOOQVLD+PLD+POOQVANA_ANA_O4jQMlO'#GmO$.qQ&nO,5<[O$%RQ#xO'#FuOOQS,5<`,5<`OOQS'#Fl'#FlO$/cQ#xO,5<UO$/hQ#xO,5<UOOQS'#Fo'#FoO$%RQ#xO'#GlO$0YQ#xO,5<YO$0tQ#xO,5?PO$1UQ#xO,5?PO0XQ#xO,5<XO$1gQ#xO,5<]O$1lQ#xO,5<]O$%RQ#xO'#IgO$1qQ#xO'#IgO$1vQ#xO,5<^OOQS,5<_,5<_O'ZQ#xO'#FxOOQU1G1m1G1mO3aQ#xO1G1mOOQSAN@xAN@xO$1{Q#xOG28ZO$2]Q#xO,5:POOQS1G3v1G3vOOOO<<IZ<<IZOOQS,5=X,5=XOOQS-E:k-E:kO$2bQ&nO'#FiO$2iQ#xO'#IhO$2wQ#xO'#IhO$3PQ#xO,5<aOOQS1G1p1G1pO$3UQ#xO1G1pO$3ZQ#xO,5=WOOQS-E:j-E:jO$3uQ#xO,5=[O$4^Q#xO1G4kOOQS-E:n-E:nOOQS1G1s1G1sOOQS1G1w1G1wO$4nQ#xO,5?RO$%RQ#xO,5?ROOQS1G1x1G1xO$4|Q&nO,5<dOOQU7+'X7+'XO$'OQ#xO1G/kO$%RQ#xO,5<bO$5TQ#xO,5?SO$5[Q#xO,5?SOOQS1G1{1G1{OOQS7+'[7+'[P$%RQ#xO'#GpO$5dQ#xO1G4mO$5nQ#xO1G4mO$5vQ#xO1G4mOOQS7+%V7+%VO$6UQ#xO1G1|O$6dQ&nO'#FiO$6kQ#xO,5=ZOOQS,5=Z,5=ZO$6yQ#xO1G4nOOQS-E:m-E:mO$%RQ#xO,5=YO$7QQ#xO,5=YO$7VQ#xO7+*XOOQS-E:l-E:lO$7aQ#xO7+*XO$%RQ#xO,5<cP$%RQ#xO'#GoO$7iQ#xO1G2tO$%RQ#xO1G2tP$7wQ#xO'#GnO$8OQ#xO<<MsO$8YQ#xO1G1}O$8hQ#xO7+(`O7kQ#xO'#DPO7kQ#xO,59dO7kQ#xO,59dO7kQ#xO,59dO$8vQ&nO,5=rO7kQ#xO1G/OO/rQ#xO1G/ZO/rQ#xO7+$rP$9ZQ#xO'#G[O'ZQ#xO'#HWO$9hQ#xO,59dO$9mQ#xO,59dO$9tQ#xO,59oO$9yQ#xO1G/WO0sQ#xO'#DTO7kQ#xO,59l",stateData:"$:[~O%uOS%jOSUOS%iPQ~OPiOXfOhtOjYOquOu!UOxvO!RwO!S!QO!V!XO!W!WO!ZZO!_[O!jeO!zeO!{eO!|eO#TyO#VzO#X{O#Z|O#]}O#a!OO#c!PO#f!RO#g!RO#i!SO#k!TO#t!VO#w!YO#{!ZO#}![O$S!]O$VmO$X!^O&RRO&SRO&WSO&XWO&m]O&n^O&q_O&t`O&xaO&ybO&zcO~O%i!_O~OX!fOa!fOc!gOj!nO!Z!pO!h!rO%|!aO%}!bO&O!cO&P!dO&Q!dO&R!eO&S!eO&T!fO&U!fO&V!fO~Om&[Xn&[Xo&[Xp&[Xq&[Xr&[Xu&[X|&[X}&[X#Q&[X#o&[X%h&[X%k&[X&^&[Xi&[X!V&[X!W&[X&_&[X!Y&[X!^&[X!S&[X#d&[Xv&[X!o&[X~P$gOhtOjYO!ZZO!_[O!jeO!zeO!{eO!|eO&RRO&SRO&WSO&XWO&m]O&n^O&q_O&t`O&xaO&ybO&zcO~O|&ZX}&ZX#o&ZX%h&ZX%k&ZX&^&ZX~Om!uOn!vOo!tOp!tOq!wOr!xOu!yO#Q&ZX~P(hOX#POi#ROq1`Ox1nO!RwO~P'ZOX#TOq1`Ox1nO!Y#UO~P'ZOX#XOc#YOq1`Ox1nO!^#ZO~P'ZO&o#^O&p#`O~O&r#aO&s#`O~OQ#cO%l#dO%m#fO~OR#gO%n#hO%o#fO~OS#jO%p#kO%q#fO~OT#mO%r#nO%s#fO~OX%{Xa%{Xc%{Xj%{Xm%{Xn%{Xo%{Xp%{Xq%{Xr%{Xu%{X|%{X!Z%{X!h%{X%|%{X%}%{X&O%{X&P%{X&Q%{X&R%{X&S%{X&T%{X&U%{X&V%{Xi%{X!V%{X!W%{X~O&m]O&n^O&q_O&t`O&xaO&ybO&zcO}%{X#Q%{X#o%{X%h%{X%k%{X&^%{X&_%{X!Y%{X!^%{X!S%{X#d%{Xv%{X!o%{X~P,QO|#sO}%zX#Q%zX#o%zX%h%zX%k%zX&^%zX~Oq1`Ox1nO~P'ZO#o#vO%h#xO%k#xO~O&XWO~O!V#}O#}![O$S!]O$VmO~OquO~P'ZOX$SOc$TO&XWO}yP~OX$XOq1`Ox1nO!S$YO~P'ZO}$[O#Q$aO&^$]O#o#RX%h#RX%k#RX~OX$XOq1`Ox1nO#o#[X%h#[X%k#[X~P'ZOq1`Ox1nO#o#`X%h#`X%k#`X~P'ZO!h$gO!z$gO&XWO~OX$rO~P'ZO!W$tO#{$uO#}$vO~O}$wO~OX%OO~P'ZOU%QO%h%PO%u%RO~OX%[Oc%[Oi%^Oq1`Ox1nO~P'ZOq1`Ox1nO}%aO~P'ZO&l%cO~Oc!gOj!nO!Z!pO!h!rOXdaadamdandaodapdaqdardauda|da}da#Qda#oda%hda%kda%|da%}da&Oda&Pda&Qda&Rda&Sda&Tda&Uda&Vda&^daida!Vda!Wda&_da!Yda!^da!Sda#ddavda!oda~Op%hO~Oq%hO~P'ZOq1`O~P'ZOm1bOn1cOo1aOp1aOq1jOr1kOu1oOi&ZX!V&ZX!W&ZX&_&ZX!Y&ZX!^&ZX!S&ZX#d&ZX!o&ZX~P(hO&_%jOi&YX|&YX!V&YX!W&YX!Y&YX}&YX~Oi%lO|%mO!V%qO!W%pO~Oi%lO~O|%tO!V%qO!W%pO!Y&fX~O!Y%xO~O|%yO}%{O!V%qO!W%pO!^&aX~O!^&PO~O!^&QO~O&o#^O&p&SO~O&r#aO&s&SO~OX&VOq1`Ox1nO!RwO~P'ZOQ#cO%l#dO%m&YO~OR#gO%n#hO%o&YO~OS#jO%p#kO%q&YO~OT#mO%r#nO%s&YO~OX!yaa!yac!yaj!yam!yan!yao!yap!yaq!yar!yau!ya|!ya}!ya!Z!ya!h!ya#Q!ya#o!ya%h!ya%k!ya%|!ya%}!ya&O!ya&P!ya&Q!ya&R!ya&S!ya&T!ya&U!ya&V!ya&^!yai!ya!V!ya!W!ya&_!ya!Y!ya!^!ya!S!ya#d!yav!ya!o!ya~P#yO|&bO}%za#Q%za#o%za%h%za%k%za&^%za~P$gOX&dOquOxvO}%za#Q%za#o%za%h%za%k%za&^%za~P'ZO|&bO}%za#Q%za#o%za%h%za%k%za&^%za~OPiOXfOquOxvO!RwO!S!QO#TyO#VzO#X{O#Z|O#]}O#a!OO#c!PO#f!RO#g!RO#i!SO#k!TO#o%WX%h%WX%k%WX~P'ZO#o#vO%h&iO%k&iO~O!h&jOj&|X%h&|X#d&|X#o&|X%k&|X#c&|X~Oj!nO%h&lO~Omgangaogapgaqgargauga|ga}ga#Qga#oga%hga%kga&^gaiga!Vga!Wga&_ga!Yga!^ga!Sga#dgavga!oga~P$gOusa|sa}sa#osa%hsa%ksa&^sa~Om!uOn!vOo!tOp!tOq!wOr!xO#Qsa~PDuO&^&nO|&]X}&]X~O&XWO|&]X}&]X~O|&qO}yX~O}&sO~O|%yO#o&aX%h&aX%k&aXi&aX}&aX!^&aX!o&aX&^&aX~OX1iOq1`Ox1nO!RwO~P'ZO&^$]O#oWa%hWa%kWa~O|&|O#o&cX%h&cX%k&cXp&cX~P$gO|'PO!S'OO#o#`a%h#`a%k#`a~O#d'QO#o#ba%h#ba%k#ba~O!h$gO!z$gO#c'SO&XWO~O#c'SO~O|'UO#o'PX%h'PX%k'PX~O|'WO#o&{X%h&{X%k&{X}&{X~O!Z'YO&^'ZO~O|'_Op'SX~P$gOp'bO~OPiOXfOquOxvO!RwO!S!QO#TyO#VzO#X{O#Z|O#]}O#a!OO#c!PO#f!RO#g!RO#i!SO#k!TO%h'gO~P'ZOv'kO#x'iO#y'jOP#vaX#vah#vaj#vaq#vau#vax#va!R#va!S#va!V#va!W#va!Z#va!_#va!j#va!z#va!{#va!|#va#T#va#V#va#X#va#Z#va#]#va#a#va#c#va#f#va#g#va#i#va#k#va#t#va#w#va#{#va#}#va$S#va$V#va$X#va%e#va&R#va&S#va&W#va&X#va&m#va&n#va&q#va&t#va&x#va&y#va&z#va%g#va%k#va~O|'lO#d'nO}'TX~Oj'pO!Z'YO~Oj!nO}$wO!Z'YO~O}'vO~P$gO%h'yO~OU'zO%h'yO~OX!fOa!fOc!gOj!nO!Z!pO!h!rO&O!cO&P!dO&Q!dO&R!eO&S!eO&T!fO&U!fO&V!fOmYinYioYipYiqYirYiuYi|Yi}Yi#QYi#oYi%hYi%kYi%|Yi&^YiiYi!VYi!WYi&_Yi!YYi!^Yi!SYi#dYivYi!oYi~O%}!bO~P!!`O%}Yi~P!!`OX!fOa!fOc!gOj!nO!Z!pO!h!rO&R!eO&S!eO&T!fO&U!fO&V!fOmYinYioYipYiqYirYiuYi|Yi}Yi#QYi#oYi%hYi%kYi%|Yi%}Yi&OYi&^YiiYi!VYi!WYi&_Yi!YYi!^Yi!SYi#dYivYi!oYi~O&P!dO&Q!dO~P!%ZO&PYi&QYi~P!%ZOc!gOj!nO!Z!pO!h!rOmYinYioYipYiqYirYiuYi|Yi}Yi#QYi#oYi%hYi%kYi%|Yi%}Yi&OYi&PYi&QYi&RYi&SYi&^YiiYi!VYi!WYi&_Yi!YYi!^Yi!SYi#dYivYi!oYi~OX!fOa!fO&T!fO&U!fO&V!fO~P!(XOXYiaYi&TYi&UYi&VYi~P!(XO!V%qO!W%pOi&iX|&iX~O&^'|O&_'|O~P,QO|(OOi&hX~Oi(QO~O|(RO}(TO!Y&kX~Oq1`Ox1nO|(RO}(UO!Y&kX~P'ZO!Y(WO~Oo!tOp!tOq!wOr!xOmliuli|li}li#Qli#oli%hli%kli&^li~On!vO~P!,zOnli~P!,zOm1bOn1cOo1aOp1aOq1jOr1kO~Ov(YO~P!.TOX(_Oi(`Oq1`Ox1nO~P'ZOi(`O|(aO~Oi(cO~O!W(eO~Oi(fO|(aO!V%qO!W%pO~P$gOm1bOn1cOo1aOp1aOq1jOr1kOisa!Vsa!Wsa&_sa!Ysa!^sa!Ssa#dsavsa!osa~PDuOX(_Oq1`Ox1nO!Y&fa~P'ZO|(iO!Y&fa~O!Y(jO~O|(iO!V%qO!W%pO!Y&fa~P$gOX(nOq1`Ox1nO!^&aa#o&aa%h&aa%k&aai&aa}&aa!o&aa&^&aa~P'ZO|(oO!^&aa#o&aa%h&aa%k&aai&aa}&aa!o&aa&^&aa~O!^(rO~O|(oO!V%qO!W%pO!^&aa~P$gO|(uO!V%qO!W%pO!^&ga~P$gO|(xO}&uX!^&uX!o&uX&^&uX~O}(|O!^)OO!o)PO&^({O~O}(|O!^)SO!o)TO&^)RO~O}(|O!^)WO!o)XO&^)VO~O}(|O!^)[O!o)]O&^)ZO~OX&dOquOxvO}%zi#Q%zi#o%zi%h%zi%k%zi&^%zi~P'ZO|)_O}%zi#Q%zi#o%zi%h%zi%k%zi&^%zi~O!h&jOj&|a%h&|a#d&|a#o&|a%k&|a#c&|a~O%h)dO~OX$SOc$TO&XWO~O|&qO}ya~OquOxvO~P'ZO|(oO#o&aa%h&aa%k&aai&aa}&aa!^&aa!o&aa&^&aa~P$gO|)iO#o%zX%h%zX%k%zX&^%zX~O&^$]O#oWi%hWi%kWi~O#o&ca%h&ca%k&cap&ca~P'ZO|)lO#o&ca%h&ca%k&cap&ca~OX)pOj)rO&XWO~O#c)sO~O&XWO#o'Pa%h'Pa%k'Pa~O|)uO#o'Pa%h'Pa%k'Pa~Oq1`Ox1nO#o&{a%h&{a%k&{a}&{a~P'ZO|)xO#o&{a%h&{a%k&{a}&{a~OX)zOc)zO&XWO~O&^*PO~Ov*SO#r*ROP#piX#pih#pij#piq#piu#pix#pi!R#pi!S#pi!V#pi!W#pi!Z#pi!_#pi!j#pi!z#pi!{#pi!|#pi#T#pi#V#pi#X#pi#Z#pi#]#pi#a#pi#c#pi#f#pi#g#pi#i#pi#k#pi#t#pi#w#pi#{#pi#}#pi$S#pi$V#pi$X#pi%e#pi&R#pi&S#pi&W#pi&X#pi&m#pi&n#pi&q#pi&t#pi&x#pi&y#pi&z#pi%g#pi%k#pi~Ov*TOP#siX#sih#sij#siq#siu#six#si!R#si!S#si!V#si!W#si!Z#si!_#si!j#si!z#si!{#si!|#si#T#si#V#si#X#si#Z#si#]#si#a#si#c#si#f#si#g#si#i#si#k#si#t#si#w#si#{#si#}#si$S#si$V#si$X#si%e#si&R#si&S#si&W#si&X#si&m#si&n#si&q#si&t#si&x#si&y#si&z#si%g#si%k#si~OX*VOp'Sa~P'ZO|*WOp'Sa~O|*WOp'Sa~P$gOp*[O~O%f*`O~Ov*cO#x'iO#y*bOP#viX#vih#vij#viq#viu#vix#vi!R#vi!S#vi!V#vi!W#vi!Z#vi!_#vi!j#vi!z#vi!{#vi!|#vi#T#vi#V#vi#X#vi#Z#vi#]#vi#a#vi#c#vi#f#vi#g#vi#i#vi#k#vi#t#vi#w#vi#{#vi#}#vi$S#vi$V#vi$X#vi%e#vi&R#vi&S#vi&W#vi&X#vi&m#vi&n#vi&q#vi&t#vi&x#vi&y#vi&z#vi%g#vi%k#vi~OX*fOq1`Ox1nO}$wO~P'ZOq1`Ox1nO}'Ta~P'ZO|*jO}'Ta~OX*nOc*oOi*rO&T*pO&XWO~O}$wO'W*tO~Oj'pO~Oj!nO}$wO~O%h*yO~O%h*{O~OX%[Oc%[Oq1`Ox1nOi&ha~P'ZO|+OOi&ha~Oq1`Ox1nO}+RO!Y&ka~P'ZO|+SO!Y&ka~Oq1`Ox1nO|+SO}+VO!Y&ka~P'ZOq1`Ox1nO|+SO!Y&ka~P'ZO|+SO}+VO!Y&ka~Oo1aOp1aOq1jOr1kOilimliuli|li!Vli!Wli&_li!Yli}li!^li#oli%hli%kli!Sli#dlivli!oli&^li~On1cO~P!KZOnli~P!KZOX(_Oi+[Oq1`Ox1nO~P'ZOp+^O~Oi+[O|+`O~Oi+aO~OX(_Oq1`Ox1nO!Y&fi~P'ZO|+bO!Y&fi~O!Y+cO~OX(nOq1`Ox1nO!^&ai#o&ai%h&ai%k&aii&ai}&ai!o&ai&^&ai~P'ZO|+fO!V%qO!W%pO!^&gi~O|+iO!^&ai#o&ai%h&ai%k&aii&ai}&ai!o&ai&^&ai~O!^+jO~Oc+lOq1`Ox1nO!^&gi~P'ZO|+fO!^&gi~O!^+nO~OX+pOq1`Ox1nO}&ua!^&ua!o&ua&^&ua~P'ZO|+qO}&ua!^&ua!o&ua&^&ua~O!_+tO&w+uO!^!pX~O!^+wO~O}(|O!^+xO~O}(|O!^+xO!o+yO~O}(|O!^+zO~O}(|O!^+zO!o+{O~O}(|O!^+|O~O}(|O!^+|O!o+}O~O}(|O!^,OO~O}(|O!^,OO!o,PO~OX&dOquOxvO}%zq#Q%zq#o%zq%h%zq%k%zq&^%zq~P'ZO|%Oi}%Oi#Q%Oi#o%Oi%h%Oi%k%Oi&^%Oi~P$gOX&dOquOxvO~P'ZOX&dOq1`Ox1nO#o%za%h%za%k%za&^%za~P'ZO|,QO#o%za%h%za%k%za&^%za~O|$qa#o$qa%h$qa%k$qap$qa~P$gO#o&ci%h&ci%k&cip&ci~P'ZO|,TO#o#`q%h#`q%k#`q~O|,UO#d,WO#o'OX%h'OX%k'OXi'OX~OX,YOj)rO&XWO~O&XWO#o'Pi%h'Pi%k'Pi~Oq1`Ox1nO#o&{i%h&{i%k&{i}&{i~P'ZO}$[O|#mX!Y#mX~O|,^O!Y'QX~O!Y,`O~Ov,cO#r*ROP#pqX#pqh#pqj#pqq#pqu#pqx#pq!R#pq!S#pq!V#pq!W#pq!Z#pq!_#pq!j#pq!z#pq!{#pq!|#pq#T#pq#V#pq#X#pq#Z#pq#]#pq#a#pq#c#pq#f#pq#g#pq#i#pq#k#pq#t#pq#w#pq#{#pq#}#pq$S#pq$V#pq$X#pq%e#pq&R#pq&S#pq&W#pq&X#pq&m#pq&n#pq&q#pq&t#pq&x#pq&y#pq&z#pq%g#pq%k#pq~Op%Ya|%Ya~P$gOX*VOp'Si~P'ZO|,jOp'Si~O|,tO}$wO#d,tO~O#y,vOP#vqX#vqh#vqj#vqq#vqu#vqx#vq!R#vq!S#vq!V#vq!W#vq!Z#vq!_#vq!j#vq!z#vq!{#vq!|#vq#T#vq#V#vq#X#vq#Z#vq#]#vq#a#vq#c#vq#f#vq#g#vq#i#vq#k#vq#t#vq#w#vq#{#vq#}#vq$S#vq$V#vq$X#vq%e#vq&R#vq&S#vq&W#vq&X#vq&m#vq&n#vq&q#vq&t#vq&x#vq&y#vq&z#vq%g#vq%k#vq~O#d,wO|%[a}%[a~Oq1`Ox1nO}'Ti~P'ZO|,yO}'Ti~O}$[O&^,{Oi'VX|'VX~O&XWOi'VX|'VX~O|-POi'UX~Oi-RO~O%f-UO~O!V%qO!W%pOi&ii|&ii~OX%[Oc%[Oq1`Ox1nOi&hi~P'ZO}-XO|$ta!Y$ta~Oq1`Ox1nO}-YO|$ta!Y$ta~P'ZOq1`Ox1nO}+RO!Y&ki~P'ZO|-]O!Y&ki~Oq1`Ox1nO|-]O!Y&ki~P'ZO|-]O}-`O!Y&ki~Oi$pi|$pi!Y$pi~P$gOX(_Oq1`Ox1nO~P'ZOp-bO~OX(_Oi-cOq1`Ox1nO~P'ZOX(_Oq1`Ox1nO!Y&fq~P'ZO|$oi!^$oi#o$oi%h$oi%k$oii$oi}$oi!o$oi&^$oi~P$gOX(nOq1`Ox1nO~P'ZOc+lOq1`Ox1nO!^&gq~P'ZO|-dO!^&gq~O!^-eO~OX(nOq1`Ox1nO!^&aq#o&aq%h&aq%k&aqi&aq}&aq!o&aq&^&aq~P'ZO}-fO~OX+pOq1`Ox1nO}&ui!^&ui!o&ui&^&ui~P'ZO|-kO}&ui!^&ui!o&ui&^&ui~O!_+tO&w+uO!^!pa~O}(|O!^-nO~O}(|O!^-oO~O}(|O!^-pO~O}(|O!^-qO~OX&dOq1`Ox1nO#o%zi%h%zi%k%zi&^%zi~P'ZO|-rO#o%zi%h%zi%k%zi&^%zi~O&XWO#o'Oa%h'Oa%k'Oai'Oa~O|-uO#o'Oa%h'Oa%k'Oai'Oa~Oi-xO~OX)zOc)zO&XWO!Y'Qa~O|-zO!Y'Qa~Op%Yi|%Yi~P$gOX*VO~P'ZOX*VOp'Sq~P'ZOv.OOP#uyX#uyh#uyj#uyq#uyu#uyx#uy!R#uy!S#uy!V#uy!W#uy!Z#uy!_#uy!j#uy!z#uy!{#uy!|#uy#T#uy#V#uy#X#uy#Z#uy#]#uy#a#uy#c#uy#f#uy#g#uy#i#uy#k#uy#t#uy#w#uy#{#uy#}#uy$S#uy$V#uy$X#uy%e#uy&R#uy&S#uy&W#uy&X#uy&m#uy&n#uy&q#uy&t#uy&x#uy&y#uy&z#uy%g#uy%k#uy~O%g.SO%k.SO~P`O#y.TOP#vyX#vyh#vyj#vyq#vyu#vyx#vy!R#vy!S#vy!V#vy!W#vy!Z#vy!_#vy!j#vy!z#vy!{#vy!|#vy#T#vy#V#vy#X#vy#Z#vy#]#vy#a#vy#c#vy#f#vy#g#vy#i#vy#k#vy#t#vy#w#vy#{#vy#}#vy$S#vy$V#vy$X#vy%e#vy&R#vy&S#vy&W#vy&X#vy&m#vy&n#vy&q#vy&t#vy&x#vy&y#vy&z#vy%g#vy%k#vy~O|.WO}$wO#d.WO~Oq1`Ox1nO}'Tq~P'ZO|.ZO}'Tq~O&^,{Oi'Va|'Va~OX*nOc*oO&T*pO&XWOi'Ua~O|._Oi'Ua~O$[.cO~OX%[Oc%[Oq1`Ox1nO~P'ZOq1`Ox1nO}.dO|$ti!Y$ti~P'ZOq1`Ox1nO|$ti!Y$ti~P'ZO}.dO|$ti!Y$ti~Oq1`Ox1nO}+RO~P'ZOq1`Ox1nO}+RO!Y&kq~P'ZO|.gO!Y&kq~Oq1`Ox1nO|.gO!Y&kq~P'ZOu.jO!V%qO!W%pOi&bq!Y&bq!^&bq|&bq~P!.TOc+lOq1`Ox1nO!^&gy~P'ZO|$ri!^$ri~P$gOc+lOq1`Ox1nO~P'ZOX+pOq1`Ox1nO~P'ZOX+pOq1`Ox1nO}&uq!^&uq!o&uq&^&uq~P'ZO}(|O!^.oO!o.pO&^.nO~OX&dOq1`Ox1nO#o%zq%h%zq%k%zq&^%zq~P'ZO#d.rO|%Ta#o%Ta%h%Ta%k%Tai%Ta~O&XWO#o'Oi%h'Oi%k'Oii'Oi~O|.tO#o'Oi%h'Oi%k'Oii'Oi~OX)zOc)zO&XWO!Y'Qi~Ov.xOP#u!RX#u!Rh#u!Rj#u!Rq#u!Ru#u!Rx#u!R!R#u!R!S#u!R!V#u!R!W#u!R!Z#u!R!_#u!R!j#u!R!z#u!R!{#u!R!|#u!R#T#u!R#V#u!R#X#u!R#Z#u!R#]#u!R#a#u!R#c#u!R#f#u!R#g#u!R#i#u!R#k#u!R#t#u!R#w#u!R#{#u!R#}#u!R$S#u!R$V#u!R$X#u!R%e#u!R&R#u!R&S#u!R&W#u!R&X#u!R&m#u!R&n#u!R&q#u!R&t#u!R&x#u!R&y#u!R&z#u!R%g#u!R%k#u!R~Oq1`Ox1nO}'Ty~P'ZOX*nOc*oO&T*pO&XWOi'Ui~O$[.cO%g/QO%k/QO~OX/[Oj/YO!Z/XO!_/ZO!j/TO!{/VO!|/VO&S/SO&XWO&m]O&n^O&q_O~Oq1`Ox1nO|$tq!Y$tq~P'ZO}/aO|$tq!Y$tq~Oq1`Ox1nO}+RO!Y&ky~P'ZO|/bO!Y&ky~Oq1`Ox/fO~P'ZOu.jO!V%qO!W%pOi&by!Y&by!^&by|&by~P!.TO}(|O!^/iO~O}(|O!^/iO!o/jO~O&XWO#o'Oq%h'Oq%k'Oqi'Oq~O|/lO#o'Oq%h'Oq%k'Oqi'Oq~OX*nOc*oO&T*pO&XWO~Oj/qO!h/oO|$]X#d$]X%|$]Xi$]X~Ou$]X}$]X!Y$]X!^$]X~P$)YO&R/sO&S/sOu$^X|$^X}$^X#d$^X%|$^X!Y$^Xi$^X!^$^X~O!j/uO~O|/yO#d/{O%|/vOu'XX}'XX!Y'XXi'XX~Oc0OO~P$%_Oj/qOu'YX|'YX}'YX#d'YX%|'YX!Y'YXi'YX!^'YX~Ou0SO}$wO~Oq1`Ox1nO|$ty!Y$ty~P'ZOq1`Ox1nO}+RO!Y&k!R~P'ZO|0WO!Y&k!R~Oi&eXu&eX!V&eX!W&eX!Y&eX!^&eX|&eX~P!.TOu.jO!V%qO!W%pOi&da!Y&da!^&da|&da~O}(|O!^0ZO~O&XWO#o'Oy%h'Oy%k'Oyi'Oy~O!h/oOj$dau$da|$da}$da#d$da%|$da!Y$dai$da!^$da~O!j0bO~O&R/sO&S/sOu$^a|$^a}$^a#d$^a%|$^a!Y$^ai$^a!^$^a~O%|/vOu$ba|$ba}$ba#d$ba!Y$bai$ba!^$ba~Ou'Xa}'Xa!Y'Xai'Xa~P$%RO|0gOu'Xa}'Xa!Y'Xai'Xa~O!Y0jO~Oi0jO~O}0lO~O!^0mO~Oq1`Ox1nO}+RO!Y&k!Z~P'ZO}0pO~O&^0qO~P$)YO|0rO#d/{O%|/vOi'[X~O|0rOi'[X~Oi0tO~O!j0uO~O#d/{Ou%`a|%`a}%`a%|%`a!Y%`ai%`a!^%`a~O#d/{O%|/vOu%da|%da}%da!Y%dai%da~Ou'Xi}'Xi!Y'Xii'Xi~P$%RO|0wO#d/{O%|/vO!^'Za~O}$la~P$gOi'[a~P$%RO|1POi'[a~Oc1RO!^'Zi~P$%_O|1TO!^'Zi~O|1TO#d/{O%|/vO!^'Zi~O#d/{O%|/vOi$ji|$ji~O&^1WO~P$)YO#d/{O%|/vOi%ca|%ca~Oi'[i~P$%RO}1ZO~Oc1RO!^'Zq~P$%_O|1]O!^'Zq~O#d/{O%|/vO|%bi!^%bi~Oc1RO~P$%_Oc1RO!^'Zy~P$%_O#d/{O%|/vOi$ki|$ki~O#d/{O%|/vO|%bq!^%bq~O|,QO#o%za%h%za%k%za&^%za~P$gOX&dOq1`Ox1nO~P'ZOp1eO~Oq1eO~P'ZO}1fO~Ov1gO~P!.TO&n&q&y&z&m&t&x&X&m~",goto:"!@f']PPPPPPPP'^P'f+R+k,U,p-]-yP.hP'f/X/X'fPPP'f2tPPPPPP2t5kPP5kP8O8X>kPP>n?`?cPP'f'fPP?{PP'f'fPP'f'f'f'f'f@P@y'fP@|PASE^H}IRPIUIlIpIsIwIzJOJRJV'fPPPJYJc'^P'^'^P'^P'^P'^P'^P'^'^'^P'^PP'^PP'^P'^PJiJuJ}PKUK[PKUPKUKUPPPKUPMjPMsM}NTMjPKUN^PKUPNeNkPNo! T! r!!]NoNo!!c!!pNoNoNoNo!#U!#[!#_!#d!#g!#q!#w!$T!$g!$m!$w!$}!%k!%q!%w!%}!&X!&_!&e!&k!&q!&w!'Z!'e!'k!'q!'w!(R!(X!(_!(e!(k!(u!({!)V!)]!)f!)l!){!*T!*_!*fPPPPPPPPPPPPPPPPP!*l!*o!*u!+O!+Y!+ePPPPPPPPPPPP!0[!1p!5s!9WPP!9`!9r!9{!:t!:k!:}!;T!;W!;Z!;^!;f!<VPPPPPPPPP!<Y!<iPPPP!=m!=y!>V!>]!>f!>i!>l!>r!>x!?O!?RP!?Z!?d!@`!@c]jOs#v$w*`,p(TeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)_)a)i)l)x*P*R*V*W*[*`*f*j*t+O+R+S+V+]+^+`+b+e+f+i+l+p+q+t,Q,S,T,[,i,j,p,x,y,|-W-X-Y-[-]-`-b-d-f-h-j-k-r.Z.].d.g.j/a/b0S0W0p1`1a1b1c1e1f1g1h1i1k1o}!hQ#r$P$b$q$}%r%w%}&O&t'a'x)`)k*U+Z+d,h-g0n1d!P!iQ#r$P$b$q$}%S%r%w%}&O&t'a'x)`)k*U+Z+d,h-g0n1d!R!jQ#r$P$b$q$}%S%T%r%w%}&O&t'a'x)`)k*U+Z+d,h-g0n1d!T!kQ#r$P$b$q$}%S%T%U%r%w%}&O&t'a'x)`)k*U+Z+d,h-g0n1d!V!lQ#r$P$b$q$}%S%T%U%V%r%w%}&O&t'a'x)`)k*U+Z+d,h-g0n1d!X!mQ#r$P$b$q$}%S%T%U%V%W%r%w%}&O&t'a'x)`)k*U+Z+d,h-g0n1d!]!mQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)`)k*U+Z+d,h-g0n1d(TTOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)_)a)i)l)x*P*R*V*W*[*`*f*j*t+O+R+S+V+]+^+`+b+e+f+i+l+p+q+t,Q,S,T,[,i,j,p,x,y,|-W-X-Y-[-]-`-b-d-f-h-j-k-r.Z.].d.g.j/a/b0S0W0p1`1a1b1c1e1f1g1h1i1k1o&iVOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)_)a)i)x*P*R*[*`*f*j*t+O+R+S+V+]+^+`+b+e+f+i+p+q+t,Q,T,[,p,x,y,|-W-X-Y-[-]-`-b-d-f-h-j-k-r.Z.].d.g.j/a/b0W0p1`1a1b1c1e1f1g1h1k1o%sXOYZ[isw}!O!S!U!V!Z!n!p#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)_)a)i)x*P*R*[*`*f*j*t+O+R+S+V+]+`+b+e+f+i+p+q+t,Q,T,[,p,x,y,|-W-X-Y-[-]-`-d-f-h-j-k-r.Z.].d.g/a/b0W1f1g1hQ$VvQ0X/fR1l1n'zeOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(R(T(U(Y(_(a(e(i(n(o(u(x)_)a)i)l)x*P*R*V*W*[*`*f*j*t+R+S+V+]+^+`+b+e+f+i+l+p+q+t,Q,S,T,[,i,j,p,x,y,|-X-Y-[-]-`-b-d-f-h-j-k-r.Z.].d.g.j/a/b0S0W0p1`1a1b1c1e1f1g1h1i1k1oW#ym!P!Q$hW$Rv&q/f1nQ$j!RQ$n!TQ${![Q$|!]W%Z!n(O+O-WS&p$S$TQ'e$vQ)b&jQ)p'QU)q'S)r)sU)t'U)u,ZW){'Y,^-z.vQ*l'nW*m'p-P._/OQ,])zS-O*n*oY-t,U-u.s.t/lQ-w,WQ.U,tQ.Y,wQ.|.Wl/R.c/X/Y/[/w/y0O0g0l0q0v1R1W1ZQ/k.rQ0P/ZQ0^/qQ0i/{U0|0r1P1XX1S0w1T1[1]R&o$R!_!|YZ!U!V!p%a%m%t(R(T(U(a(i*R+R+S+V+]+`+b-X-Y-[-]-`.d.g/a/b0WR%k!{Q#QYQ&W#cQ&Z#gQ&]#jQ&_#mQ&x$^Q&{$aR-l+tT/e.j0p![!oQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)`)k*U+Z+d,h-g0n1dQ&m#zQ't$|R*x'uR'}%ZQ%d!rR0[/o(SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)_)a)i)l)x*P*R*V*W*[*`*f*j*t+O+R+S+V+]+^+`+b+e+f+i+l+p+q+t,Q,S,T,[,i,j,p,x,y,|-W-X-Y-[-]-`-b-d-f-h-j-k-r.Z.].d.g.j/a/b0S0W0p1`1a1b1c1e1f1g1h1i1k1oS#pd#q!P/V.c/X/Y/Z/[/q/w/y0O0g0l0q0r0v0w1P1R1T1W1X1Z1[1](SdOTYZ[fistuwy}!O!S!U!V!W!Z!^!h!i!j!k!l!m!n!p!t!u!v!x!y#P#T#X#Y#c#g#j#m#s#v$X$Y$[$^$a$r$t$u$w%O%[%a%h%k%m%p%t%y%{&V&b&d&o&s&|'O'P'W'Z'_'b'i'l'}(O(R(T(U(Y(_(a(e(i(n(o(u(x)_)a)i)l)x*P*R*V*W*[*`*f*j*t+O+R+S+V+]+^+`+b+e+f+i+l+p+q+t,Q,S,T,[,i,j,p,x,y,|-W-X-Y-[-]-`-b-d-f-h-j-k-r.Z.].d.g.j/a/b0S0W0p1`1a1b1c1e1f1g1h1i1k1oT#pd#qT#d`#eR)Q&Wy(}&W&Z&]&_)P)Q)T)U)X)Y)])^+y+{+},P-l.p.q/jT+u(|+vR.q-lT#ha#iR)U&ZT#kb#lR)Y&]T#nc#oR)^&_Q$`xQ,]){R,}*mX$^x$_$`&zQ'[$nQ'r${Q'u$|R*_'eQ)|'YV-y,^-z.vZlOs$w*`,pXpOs*`,pQ$x!YQ']$oQ'^$pQ'o$zQ's$|Q*]'dQ*d'iQ*g'jQ*h'kQ*u'qS*w't'uQ,d*RQ,f*SQ,g*TQ,k*ZS,m*^*vQ,q*bQ,r*cS,s*e*fQ-T*xQ-|,cQ-},eQ.P,lS.Q,n,oQ.V,uQ.X,vQ.w.OQ.y.RQ.z.TQ.{.UQ/m.xQ/n.|Q0T/_R0o0UWpOs*`,pR#|oQ'q${S*^'e'rR,o*_Q,|*mR.],}Q*v'qQ,n*^R.R,oZnOos*`,pQ'w$}R*z'xT.a-U.bu/^.c/X/Y/[/q/w/y0O0g0l0q0r0v1P1R1W1X1Zt/^.c/X/Y/[/q/w/y0O0g0l0q0r0v1P1R1W1X1ZQ0P/ZX1S0w1T1[1]!P/U.c/X/Y/Z/[/q/w/y0O0g0l0q0r0v0w1P1R1T1W1X1Z1[1]Q/t/TR0c/ug/w/W/x0_0f0k0y0{0}1Y1^1_u/].c/X/Y/[/q/w/y0O0g0l0q0r0v1P1R1W1X1ZX/r/R/]0^0|R0`/qV1O0r1P1XR0U/_QsOS$Os,pR,p*`Q&r$UR)g&rS%z#W$WS(p%z(sT(s%}&tQ%n#OQ%u#SW(b%n%u(g(kQ(g%rR(k%wQ&}$bR)m&}Q(v&OQ+g(qT+m(v+gQ(P%]R+P(PS(S%`%aY+T(S+U-^.h/cU+U(T(U(VU-^+V+W+XS.h-_-`R/c.iQ#_^R&R#_Q#b_R&T#bQ#e`R&X#eQ(y&US+r(y+sR+s(zQ+v(|R-m+vQ#iaR&[#iQ#lbR&^#lQ#ocR&`#oQ#qdR&a#qQ#tgQ&c#rW&f#t&c)j,RQ)j&wR,R1dQ$_xS&y$_&zR&z$`Q'X$lR)y'XQ&k#yR)c&kQ$h!QR'R$hQ,V)qS-v,V.uR.u-wQ'V$jR)v'VQ,_)|R-{,_Q#wkR&h#wQ*Q']R,b*QQ'`$qS*X'`*YR*Y'aQ'h$xR*a'hQ'm$yS*k'm,zR,z*lQ-Q*qR.`-QWoOs*`,pR#{oQ.b-UR/P.bd/x/W0_0f0k0y0{0}1Y1^1_R0e/xU/p/R0^0|R0]/pQ0x0kS1U0x1VR1V0yS0s0_0`R1Q0sQ/z/WR0h/zR!`PXrOs*`,pWqOs*`,pR'f$wYkOs$w*`,pR&g#v[xOs#v$w*`,pR&x$^&hQOYZ[isuw}!O!S!U!V!Z!n!p!t!u!v!x!y#c#g#j#m#s#v$Y$[$^$a$u$w%[%a%h%k%m%t%y%{&V&b&o&s'O'P'W'Z'b'i'l'}(O(R(T(U(Y(a(i(o(u(x)_)a)i)x*P*R*[*`*f*j*t+O+R+S+V+]+^+`+b+e+f+i+p+q+t,Q,T,[,p,x,y,|-W-X-Y-[-]-`-b-d-f-h-j-k-r.Z.].d.g.j/a/b0W0p1`1a1b1c1e1f1g1h1k1oQ!sTQ#rfQ$PtU$by%p(eS$q!W$tQ$}!^Q%S!hQ%T!iQ%U!jQ%V!kQ%W!lQ%X!mQ%r#PQ%w#TQ%}#XQ&O#YQ&t$XQ'a$rQ'x%OQ)`&dU)k&|)l,SW*U'_*W,i,jQ+Z(_Q+d(nQ,h*VQ-g+lQ0n0SR1d1iQ#OYQ#SZQ$o!UQ$p!VQ%`!pQ(V%a^(^%m%t(a(i+]+`+b^+Q(R+S-[-].g/b0WQ+W(TQ+X(UQ,e*RQ-Z+RQ-_+VQ.e-XQ.f-YQ.i-`Q/`.dR0V/a[gOs#v$w*`,p!^!{YZ!U!V!p%a%m%t(R(T(U(a(i*R+R+S+V+]+`+b-X-Y-[-]-`.d.g/a/b0WQ#W[Q#uiS$Ww}Q$e!OW$l!S$a'b*[S$y!Z$uW%Y!n(O+O-WY&U#c#g#j#m+t`&e#s&b)_)a)i,Q-r1hQ&u$YQ&v$[Q&w$^Q'{%[Q(]%kW(m%y(o+e+iQ(q%{Q(z&VQ)e&oS)h&s1fQ)n'OQ)o'PU)w'W)x,[Q*O'ZQ*e'iY*i'l*j,x,y.ZQ*|'}S+Y(Y1gW+k(u+f-d-hW+o(x+q-j-kQ,a*PQ,u*fQ-S*tQ-i+pQ-s,TQ.[,|Q.m-fR.}.]hUOs#s#v$w&b&s(Y)_)a*`,p%Y!zYZ[iw}!O!S!U!V!Z!n!p#c#g#j#m$Y$[$^$a$u%[%a%k%m%t%y%{&V&o'O'P'W'Z'b'i'l'}(O(R(T(U(a(i(o(u(x)i)x*P*R*[*f*j*t+O+R+S+V+]+`+b+e+f+i+p+q+t,Q,T,[,x,y,|-W-X-Y-[-]-`-d-f-h-j-k-r.Z.].d.g/a/b0W1f1g1hQ$QuW%e!t!x1a1kQ%f!uQ%g!vQ%i!yQ%s1`S(X%h1eQ(Z1bQ([1cQ-a+^Q.l-bS/d.j0pR1m1oU$Uv/f1nR)f&q[hOs#v$w*`,pa!}Y#c#g#j#m$^$a+tQ#][Q$ZwR$d}Q%o#OQ%v#SQ%|#WQ'{%YQ(h%rQ(l%wQ(t%}Q(w&OQ+h(qQ-V*|Q.k-aQ/h.lR0Y/gQ$cyQ(d%pR+_(eQ/g.jR0z0pR#VZR#[[R%_!nQ%]!nV*}(O+O-W!]!qQ!s#r$P$b$q$}%S%T%U%V%W%X%r%w%}&O&t'a'x)`)k*U+Z+d,h-g0n1dR%b!pQ&W#cQ&Z#gQ&]#jQ&_#mR-l+tQ)O&WQ)S&ZQ)W&]Q)[&_S+x)P)QS+z)T)US+|)X)YS,O)])^Q-n+yQ-o+{Q-p+}Q-q,PQ.o-lS/i.p.qR0Z/jQ$m!SQ&{$aQ*Z'bR,l*[Q#zmQ$f!PQ$i!QR'T$hQ)p'SR,Y)sQ)p'SQ,X)rR,Y)sR$k!RR)}'YXqOs*`,pQ$s!WR'c$tQ$z!ZR'd$uR*s'pQ*q'pV.^-P._/OQ/_.cQ/|/XR/}/YU/W.c/X/YQ0R/[Q0_/qQ0d/wU0f/y0g0vQ0k0OQ0y0lQ0{0qU0}0r1P1XQ1Y1RQ1^1WR1_1ZR0Q/ZR0a/q",nodeNames:"⚠ print { { { { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatSelfDoc FormatConversion FormatSpec FormatReplacement FormatSelfDoc FormatReplacement FormatSelfDoc FormatReplacement FormatSelfDoc FormatReplacement FormatSelfDoc ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert TypeDefinition type TypeParamList TypeParam StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:288,context:trackIndent,nodeProps:[["isolate",-8,6,73,74,75,79,81,83,85,""],["group",-15,8,93,95,96,98,100,102,104,106,107,108,110,113,116,118,"Statement Statement",-22,10,20,23,27,42,51,52,58,59,62,63,64,65,66,69,72,73,74,87,88,89,90,"Expression",-10,122,124,127,129,130,134,136,141,143,146,"Statement",-9,151,152,155,156,158,159,160,161,162,"Pattern"],["openedBy",25,"(",56,"[",60,"{"],["closedBy",26,")",57,"]",61,"}"]],propSources:[pythonHighlighting],skippedNodes:[0,6],repeatNodeCount:38,tokenData:"%-W#sR!`OX%TXY=|Y[%T[]=|]p%Tpq=|qr@_rsDOst!+|tu%Tuv!Nnvw#!|wx#$Wxy#:Uyz#;Yz{#<^{|#>x|}#@S}!O#AW!O!P#Ci!P!Q#N_!Q!R$!y!R![$&w![!]$1e!]!^$3s!^!_$4w!_!`$7c!`!a$8m!a!b%T!b!c$;U!c!d$<b!d!e$>W!e!h$<b!h!i$H[!i!t$<b!t!u%#r!u!w$<b!w!x$Fl!x!}$<b!}#O%%z#O#P?d#P#Q%'O#Q#R%(S#R#S$<b#S#T%T#T#U$<b#U#V$>W#V#Y$<b#Y#Z$H[#Z#f$<b#f#g%#r#g#i$<b#i#j$Fl#j#o$<b#o#p%)^#p#q%*S#q#r%+^#r#s%,S#s$g%T$g;'S$<b;'S;=`$>Q<%lO$<b!n%^]&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n&^]&w!b&oSOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n'^]&w!b&oSOr%Trs(Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!f(^Z&w!b&oSOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)UZ&w!bOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)|Z&w!bOw(Vwx*ox#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!b*tT&w!bO#o*o#p#q*o#r;'S*o;'S;=`+T<%lO*o!b+WP;=`<%l*o!f+`W&w!bO#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`.d;=`<%l+x<%lO(VS+}V&oSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS,gVOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-PUOw+xx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-fRO;'S+x;'S;=`-o;=`O+xS-tW&oSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l+x<%lO+xS.aP;=`<%l+x!f.iW&oSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l(V<%lO+x!f/UP;=`<%l(V!n/`]&w!b&rWOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n0`]&w!b&rWOr%Trs&Vsw%Twx1Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!j1`Z&w!b&rWOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j2WZ&w!bOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3OZ&w!bOr1Xrs*os#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3vW&w!bO#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`6z;=`<%l4`<%lO1XW4eV&rWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W4}VOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5gUOr4`s#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5|RO;'S4`;'S;=`6V;=`O4`W6[W&rWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l4`<%lO4`W6wP;=`<%l4`!j7PW&rWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l1X<%lO4`!j7lP;=`<%l1X!n7tW&w!bO#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T[8eX&oS&rWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9VX&oSOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9wX&oSOr8^rs+xsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[:iX&rWOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;ZX&rWOr8^rs9Qsw8^wx4`x#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;yRO;'S8^;'S;=`<S;=`O8^[<ZY&oS&rWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l8^<%lO8^[<|P;=`<%l8^!n=WY&oS&rWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l%T<%lO8^!n=yP;=`<%l%T#s>Xc&w!b&oS&rW%u!TOX%TXY=|Y[%T[]=|]p%Tpq=|qr%Trs&Vsw%Twx/Xx#O%T#O#P?d#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s?i[&w!bOY%TYZ=|Z]%T]^=|^#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T!q@hd&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#T%T#T#UBz#U#f%T#f#gBz#g#hBz#h#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qBR]oR&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qCV]!oR&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cDXa&w!b&oS&msOYE^YZ%TZ]E^]^%T^rE^rs!)|swE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cEia&w!b&oS&rW&msOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cFw]&w!b&oS&msOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cGya&w!b&rW&msOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxIOx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cIXa&w!b&rW&msOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxJ^x#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#_Jg_&w!b&rW&msOYJ^YZ1XZ]J^]^1X^rJ^rsKfs#OJ^#O#PL`#P#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`!!o<%lOJ^#_KmZ&w!b&msOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#_LeW&w!bO#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`! r;=`<%lL}<%lOJ^{MUZ&rW&msOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l<%lOL}{M|V&msOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`{NfRO;'SL};'S;=`No;=`OL}{Nv[&rW&msOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lL}<%lOL}{! oP;=`<%lL}#_! y[&rW&msOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lJ^<%lOL}#_!!rP;=`<%lJ^#c!!zW&w!bO#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!(q;=`<%l!#d<%lOE^!P!#m]&oS&rW&msOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!$mX&oS&msOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P!%a]&rW&msOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!&Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!&a]&rW&msOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwxL}x#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!']RO;'S!#d;'S;=`!'f;=`O!#d!P!'o^&oS&rW&msOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%l!#d<%lO!#d!P!(nP;=`<%l!#d#c!(z^&oS&rW&msOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%lE^<%lO!#d#c!)yP;=`<%lE^#c!*V]&w!b&oS&msOr%Trs!+Osw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c!+ZZ&sW&w!b&oS&qsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#s!,XaU!T&w!b&oS&rWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!-gaU!T&w!b&oSOY!+|YZ%TZ]!+|]^%T^r!+|rs!.lsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!.uaU!T&w!b&oSOY!+|YZ%TZ]!+|]^%T^r!+|rs!/zsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#k!0T_U!T&w!b&oSOY!/zYZ(VZ]!/z]^(V^w!/zwx!1Sx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!1Z_U!T&w!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!2Yx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!2a_U!T&w!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!3`x#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#g!3gZU!T&w!bOY!3`YZ*oZ]!3`]^*o^#o!3`#o#p!4Y#p#q!3`#q#r!4Y#r;'S!3`;'S;=`!4t<%lO!3`!T!4_TU!TOY!4YZ]!4Y^;'S!4Y;'S;=`!4n<%lO!4Y!T!4qP;=`<%l!4Y#g!4wP;=`<%l!3`#k!5R[U!T&w!bOY!/zYZ(VZ]!/z]^(V^#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!9s;=`<%l+x<%lO!/z!X!6OZU!T&oSOY!5wYZ+xZ]!5w]^+x^w!5wwx!6qx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!6vZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!7ix#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!7nZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!4Yx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!8fWU!TOY!5wYZ+xZ]!5w]^+x^;'S!5w;'S;=`!9O;=`<%l+x<%lO!5w!X!9TW&oSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!5w<%lO+x!X!9pP;=`<%l!5w#k!9xW&oSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!/z<%lO+x#k!:eP;=`<%l!/z#s!:qaU!T&w!b&rWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!;vx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!<PaU!T&w!b&rWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!=Ux#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#o!=__U!T&w!b&rWOY!=UYZ1XZ]!=U]^1X^r!=Urs!>^s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!>e_U!T&w!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!?ds#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!?k_U!T&w!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!3`s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!@q[U!T&w!bOY!=UYZ1XZ]!=U]^1X^#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!Ec;=`<%l4`<%lO!=U!]!AnZU!T&rWOY!AgYZ4`Z]!Ag]^4`^r!Agrs!Bas#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!BfZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!CXs#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!C^ZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!4Ys#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!DUWU!TOY!AgYZ4`Z]!Ag]^4`^;'S!Ag;'S;=`!Dn;=`<%l4`<%lO!Ag!]!DsW&rWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!Ag<%lO4`!]!E`P;=`<%l!Ag#o!EhW&rWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!=U<%lO4`#o!FTP;=`<%l!=U#s!F_[U!T&w!bOY!+|YZ%TZ]!+|]^%T^#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Mq;=`<%l8^<%lO!+|!a!G^]U!T&oS&rWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!H^]U!T&oSOY!GTYZ8^Z]!GT]^8^^r!GTrs!IVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!I^]U!T&oSOY!GTYZ8^Z]!GT]^8^^r!GTrs!5wsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!J^]U!T&rWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!KVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!K^]U!T&rWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!Agx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!L[WU!TOY!GTYZ8^Z]!GT]^8^^;'S!GT;'S;=`!Lt;=`<%l8^<%lO!GT!a!L{Y&oS&rWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!GT<%lO8^!a!MnP;=`<%l!GT#s!MxY&oS&rWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!+|<%lO8^#s!NkP;=`<%l!+|#b!Ny_&UQ&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b#!T]#Qr&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b##X_&OQ&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#$aa&w!b&rW&msOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#8Ux#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#%qa&w!b&oS&rW&msOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#'Pa&w!b&oS&msOY#%fYZ%TZ]#%f]^%T^r#%frs#(Usw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#(_a&w!b&oS&msOY#%fYZ%TZ]#%f]^%T^r#%frs#)dsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#Z#)m_&w!b&oS&msOY#)dYZ(VZ]#)d]^(V^w#)dwx#*lx#O#)d#O#P#+f#P#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#/u<%lO#)d#Z#*sZ&w!b&msOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#Z#+kW&w!bO#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#.x;=`<%l#,T<%lO#)dw#,[Z&oS&msOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r<%lO#,Tw#-SV&msOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xw#-lRO;'S#,T;'S;=`#-u;=`O#,Tw#-|[&oS&msOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#,T<%lO#,Tw#.uP;=`<%l#,T#Z#/P[&oS&msOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#)d<%lO#,T#Z#/xP;=`<%l#)d#c#0U]&w!b&rW&msOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#1SW&w!bO#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#6y;=`<%l#1l<%lO#%f!P#1u]&oS&rW&msOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#2u]&oS&msOY#1lYZ8^Z]#1l]^8^^r#1lrs#3nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#3u]&oS&msOY#1lYZ8^Z]#1l]^8^^r#1lrs#,Tsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#4uX&rW&msOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P#5eRO;'S#1l;'S;=`#5n;=`O#1l!P#5w^&oS&rW&msOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#1l<%lO#1l!P#6vP;=`<%l#1l#c#7S^&oS&rW&msOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#%f<%lO#1l#c#8RP;=`<%l#%f#c#8_]&w!b&rW&msOr%Trs&Vsw%Twx#9Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#9cZ&pS&w!b&rW&nsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#c#:a]js&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#;e]iR&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#<iaXs&w!b&oS&rWOr%Trs&Vsw%Twx/Xxz%Tz{#=n{!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#=y_cR&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#?T_&Rs&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#@_]|R&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s#Ac`&Ss&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`!a#Be!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#O#Bp]'W`&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Cta!hQ&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!O%T!O!P#Dy!P!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#ES_&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!O%T!O!P#FR!P#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#F^]!zs&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Gbi!jq&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#GV#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#IYc&w!b&oS&rWOr%Trs&Vsw%Twx/Xx{%T{|#Je|}%T}!O#Je!O!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Jn_&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Kxe!jq&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#Km#S#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Mf]!jq&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Nja&TR&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!P%T!P!Q$ o!Q!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$ z_&VQ&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$#Uw!jq&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!d%T!d!e$(w!e!g%T!g!h#IP!h!l%T!l!m#MZ!m!q%T!q!r$+m!r!z%T!z!{$.]!{#O%T#O#P7o#P#R%T#R#S$&w#S#U%T#U#V$(w#V#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#c%T#c#d$+m#d#l%T#l#m$.]#m#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$%x_&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$'Sk!jq&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S$&w#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$)Qb&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$*eb!jq&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$+va&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$-Wa!jq&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$.fe&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$0Se!jq&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$1p_}!T&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`$2o!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q$2z]&_R&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$4O]#os&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$5SaoR&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!^%T!^!_$6X!_!`Av!`!aAv!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$6d_&PQ&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$7n_&^s&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$8x`oR&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`!a$9z!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$:V_&QQ&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$;c_aQ$VP&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$<oe&w!b&oS&rW&l`&XsOr%Trs&Vsw%Twx/Xx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$>TP;=`<%l$<b#s$>ei&w!b&oS&rW&l`&XsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g$Fl#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$@]a&w!b&oS&msOYE^YZ%TZ]E^]^%T^rE^rs$AbswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#c$Ak]&w!b&oS&msOr%Trs$Bdsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$BmZ&w!b&oS&qsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$Cia&w!b&rW&msOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx$Dnx#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c$Dw]&w!b&rW&msOr%Trs&Vsw%Twx$Epx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_$EyZ&w!b&rW&nsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s$Fye&w!b&oS&rW&l`&XsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$Hii&w!b&oS&rW&l`&XsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!t$<b!t!u%!S!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g%!S#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$Ja]&w!b&oS&xsOr%Trs$KYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$Ka]&w!b&oSOr%Trs$LYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$LcZ&w!b&oS&zsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$M_]&w!b&rW&tsOr%Trs&Vsw%Twx$NWx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$N_]&w!b&rWOr%Trs&Vsw%Twx% Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_% aZ&w!b&rW&ysOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s%!ae&w!b&oS&rW&l`&XsOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s%$Pm&w!b&oS&rW&l`&XsOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!h$<b!h!i%!S!i!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#U$<b#U#V$Fl#V#Y$<b#Y#Z%!S#Z#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c%&V]!Zs&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%'Z]!YR&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b%(__%}Q&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a%)gX!_#T&oS&rWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#c%*__%|R&w!b&oS&rWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%+gX!^!e&oS&rWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#a%,_]&Wq&w!b&oS&rWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T",tokenizers:[legacyPrint,indentation,newlines,formatString1,formatString2,formatString1l,formatString2l,0,1,2,3,4,5,6],topRules:{Script:[0,7]},specialized:[{term:239,get:_e=>spec_identifier[_e]||-1}],tokenPrec:7500}),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function defID(_e){return($,et,tt)=>{if(tt)return!1;let nt=$.node.getChild("VariableName");return nt&&et(nt,_e),!0}}const gatherCompletions={FunctionDefinition:defID("function"),ClassDefinition:defID("class"),ForStatement(_e,$,et){if(et){for(let tt=_e.node.firstChild;tt;tt=tt.nextSibling)if(tt.name=="VariableName")$(tt,"variable");else if(tt.name=="in")break}},ImportStatement(_e,$){var et,tt;let{node:nt}=_e,rt=((et=nt.firstChild)===null||et===void 0?void 0:et.name)=="from";for(let it=nt.getChild("import");it;it=it.nextSibling)it.name=="VariableName"&&((tt=it.nextSibling)===null||tt===void 0?void 0:tt.name)!="as"&&$(it,rt?"variable":"namespace")},AssignStatement(_e,$){for(let et=_e.node.firstChild;et;et=et.nextSibling)if(et.name=="VariableName")$(et,"variable");else if(et.name==":"||et.name=="AssignOp")break},ParamList(_e,$){for(let et=null,tt=_e.node.firstChild;tt;tt=tt.nextSibling)tt.name=="VariableName"&&(!et||!/\*|AssignOp/.test(et.name))&&$(tt,"variable"),et=tt},CapturePattern:defID("variable"),AsPattern:defID("variable"),__proto__:null};function getScope(_e,$){let et=cache.get($);if(et)return et;let tt=[],nt=!0;function rt(it,ot){let lt=_e.sliceString(it.from,it.to);tt.push({label:lt,type:ot})}return $.cursor(IterMode.IncludeAnonymous).iterate(it=>{if(it.name){let ot=gatherCompletions[it.name];if(ot&&ot(it,rt,nt)||!nt&&ScopeNodes.has(it.name))return!1;nt=!1}else if(it.to-it.from>8192){for(let ot of getScope(_e,it.node))tt.push(ot);return!1}}),cache.set($,tt),tt}const Identifier$1=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,dontComplete=["String","FormatString","Comment","PropertyName"];function localCompletionSource$1(_e){let $=syntaxTree(_e.state).resolveInner(_e.pos,-1);if(dontComplete.indexOf($.name)>-1)return null;let et=$.name=="VariableName"||$.to-$.from<20&&Identifier$1.test(_e.state.sliceDoc($.from,$.to));if(!et&&!_e.explicit)return null;let tt=[];for(let nt=$;nt;nt=nt.parent)ScopeNodes.has(nt.name)&&(tt=tt.concat(getScope(_e.state.doc,nt)));return{options:tt,from:et?$.from:_e.pos,validFor:Identifier$1}}const globals=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(_e=>({label:_e,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(_e=>({label:_e,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(_e=>({label:_e,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(_e=>({label:_e,type:"function"}))),snippets$1=[snippetCompletion("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),snippetCompletion("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),snippetCompletion(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),snippetCompletion("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),snippetCompletion("import ${module}",{label:"import",detail:"statement",type:"keyword"}),snippetCompletion("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],globalCompletion=ifNotIn(dontComplete,completeFromList(globals.concat(snippets$1)));function indentBody(_e,$){let et=_e.baseIndentFor($),tt=_e.lineAt(_e.pos,-1),nt=tt.from+tt.text.length;return/^\s*($|#)/.test(tt.text)&&_e.node.to<nt+100&&!/\S/.test(_e.state.sliceDoc(nt,_e.node.to))&&_e.lineIndent(_e.pos,-1)<=et||/^\s*(else:|elif |except |finally:)/.test(_e.textAfter)&&_e.lineIndent(_e.pos,-1)>et?null:et+_e.unit}const pythonLanguage=LRLanguage.define({name:"python",parser:parser.configure({props:[indentNodeProp.add({Body:_e=>{var $;return($=indentBody(_e,_e.node))!==null&&$!==void 0?$:_e.continue()},IfStatement:_e=>/^\s*(else:|elif )/.test(_e.textAfter)?_e.baseIndent:_e.continue(),TryStatement:_e=>/^\s*(except |finally:|else:)/.test(_e.textAfter)?_e.baseIndent:_e.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":delimitedIndent({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":delimitedIndent({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":delimitedIndent({closing:"]"}),"String FormatString":()=>null,Script:_e=>{if(_e.pos+/\s*/.exec(_e.textAfter)[0].length>=_e.node.to){let $=null;for(let et=_e.node,tt=et.to;et=et.lastChild,!(!et||et.to!=tt);)et.type.name=="Body"&&($=et);if($){let et=indentBody(_e,$);if(et!=null)return et}}return _e.continue()}}),foldNodeProp.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":foldInside,Body:(_e,$)=>({from:_e.from+1,to:_e.to-(_e.to==$.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function python(){return new LanguageSupport(pythonLanguage,[pythonLanguage.data.of({autocomplete:localCompletionSource$1}),pythonLanguage.data.of({autocomplete:globalCompletion})])}function hole(_e=""){return`_H${_e}H_`}function isSnippetCompletion(_e){return _e?.snip!==void 0}const snippets=[{label:"function",detail:"definition",type:NodeType$1.function_definition,snip:`def ${hole("func_name")}(${hole("params")}):
	#Placeholder -- to implement
	${hole("body")}`},{label:"class",detail:"definition",type:NodeType$1.class_definition,snip:`class ${hole("class_name")}:
	#Placeholder -- to implement
	${hole("body")}`},{label:"for",displayLabel:"for",detail:"loop",type:NodeType$1.for_statement,snip:`for ${hole("item")} in ${hole("collection")}:
	${hole("body")}`},{label:"while_loop",displayLabel:"while",detail:"loop",type:NodeType$1.while_statement,snip:`while ${hole("condition")}:
	${hole("body")}`},{label:"Flask server",type:NodeType$1.expression_statement,snip:`from flask import Flask

server = Flask()`},{label:"listen",info:"listen to request at path",displayLabel:"route",type:NodeType$1.decorated_definition,snip:`@${hole("server_name")}.route(${hole("args")})
def ${hole("handler")}():
	${hole("body")}`},{label:"if",detail:"block",type:NodeType$1.if_statement,snip:`
if ${hole("condition")}:
	${hole("body")}`},{label:"PyTorch module",type:NodeType$1.class_definition,detail:"definition",snip:`class MyModule(torch.nn.Module):
	def __init__(self, ${hole("args")}):
		#Placeholder -- to implement
		super().__init__()

	def forward(self, x):
		return x
`},{label:"PyTorch dataset",type:NodeType$1.class_definition,detail:"definition",snip:`class MyDataset(torch.utils.data.Dataset):
	def __init__(self, ${hole("args")}):
		#Placeholder -- to implement
		super().__init__()

	def __getitem__(self, index):
		return self[index]

	def __len__(self):
		return len(self)
`},{label:"Convolution2D layer",type:NodeType$1.expression_statement,snip:`nn.Conv2d(${hole("in")}, ${hole("out")}, kernel_size=${hole("k")})
`},{label:"Convolution1D layer",type:NodeType$1.expression_statement,snip:`nn.Conv1d(${hole("in")}, ${hole("out")}, kernel_size=${hole("k")})
`},{label:"LSTM layer",type:NodeType$1.expression_statement,snip:`nn.LSTM(${hole("in")}, ${hole("hidden")}, num_layers=${hole("n")})
`},{label:"Linear layer",type:NodeType$1.expression_statement,snip:`nn.Linear(${hole("in")}, ${hole("out")}, bias = True)
`},{label:"MNIST dataset",type:NodeType$1.expression_statement,snip:`dataset = torchvisio.datasets.MNIST(${hole("root")}})
`}],snipCompletions=_e=>{const $=_e.matchBefore(/\w*/);if($==null||$.from===$.to)return null;const et=snippets.map(tt=>({...tt,info(){const nt=document.createElement("pre");nt.style.backgroundColor="white",nt.style.marginTop="4px",nt.style.marginBottom="4px",nt.style.color="black",nt.style.border="1px solid #ddd",nt.style.padding="8px";function rt(ct,ht){ct=ct.replace("	","    ");let dt=document.createTextNode(ct);if(ht){const mt=document.createElement("span");mt.appendChild(dt),mt.className=ht,dt=mt}nt.appendChild(dt)}function it(){nt.appendChild(document.createTextNode(`
`))}const ot=tt.snip.replace(placeholderRegex(),(ct,ht,dt)=>dt?`{${ht}_${dt}}`:`{${ht}}`),lt=pythonLanguage.parser.parse(ot);highlightCode(ot,lt,defaultHighlightStyle,rt,it);const ut=document.createElement("div");return ut.insertAdjacentHTML("afterbegin",`<span style="color:blue;font-size:initial;">${tt.info??tt.label}</span><br/><span style="font-size:small">Insert the snippet below:<span>`),ut.appendChild(nt),ut},apply:(nt,rt,it,ot)=>{const lt=insertCompletionText(nt.state,`\`${rt.label}\``,it,ot);console.log("dispatch completion with backstick"),nt.dispatch({...lt,annotations:pickedCompletion.of(rt)})}}));return{from:$.from,options:et,validFor:/^\w*$/}};function mapWordToToken(_e,$){let et=-1,tt=0;for(let nt=0,rt=0;rt<$.length;){const it=$.slice(nt,rt+1).map(ot=>ot.text).join(" ");$[nt].start===_e.from&&_e.text.startsWith(it)?(et=nt,tt=rt+1,rt++):(nt++,rt++)}return console.log("wordToken:",$.slice(et,tt),"word:",_e),$.slice(et,tt)}function getBackStickId(_e){Array.isArray(_e)||(_e=[_e]);const $=Math.min(..._e.map(tt=>tt.id))-1,et=Math.max(..._e.map(tt=>tt.id))+1;return[$,et].map(tt=>tt.toString().padStart(4,"0")).join("_")}function longestNmodSequence(_e){let $=[],et=[];const tt=new Set(["amod","compound","nmod"]);for(let nt=0;nt<_e.length;nt++)tt.has(_e[nt].dep)?(et.push(_e[nt]),et.length>$.length&&($=et)):et=[];return $}function findDescendants(_e,$){const et=new Map;_e.forEach(nt=>{et.has(nt.id)||et.set(nt.id,[])}),_e.forEach(nt=>{nt.head_id!==null&&nt.id!==nt.head_id&&et.has(nt.head_id)&&et.get(nt.head_id).push(nt)});function tt(nt,rt=[]){const it=et.get(nt);return it&&it.forEach(ot=>{rt.push(ot),tt(ot.id,rt)}),rt}return tt($)}function findAncestors(_e,$){const et=new Map(_e.map(nt=>[nt.id,nt]));function tt(nt,rt=[]){const it=et.get(nt);if(it&&it.head_id!==null&&it.head_id!==nt){const ot=et.get(it.head_id);ot&&(rt.push(ot),tt(it.head_id,rt))}return rt}return tt($)}function findMinimalPath(_e,$,et){const tt=new Map;_e.forEach(it=>{tt.has(it.id)||tt.set(it.id,[]),it.head_id!==null&&it.head_id!==-1&&(tt.has(it.head_id)||tt.set(it.head_id,[]),tt.get(it.head_id).push(it.id),tt.get(it.id).push(it.head_id))});const nt=[{id:$,path:[$]}],rt=new Set;for(;nt.length>0;){const{id:it,path:ot}=nt.shift();if(it===et)return ot.map(ut=>_e.find(ct=>ct.id===ut)).reverse();rt.add(it),(tt.get(it)||[]).forEach(ut=>{rt.has(ut)||nt.push({id:ut,path:[...ot,ut]})})}return null}function offsetToPos(_e,$){const et=_e.lineAt($);return{row:et.number-1,column:$-et.from}}function MyNodeFactor(_e,$,et){const{repeatNum:tt=1,tokenToWrap:nt=!1}=et??{};if(tt>1){const ot=$;$+=`

`,$=lodashExports.repeat($,tt).trim();const lt=new RegExp(hole(FiledName.name),"g");let ut,ct=0;for(;(ut=lt.exec($))!==null;)ct++,$=$.replace(ut[0],hole(`${FiledName.name}_${ct}`));ct===0&&($=$.replace(new RegExp(`${ot}[^_]?`,"g"),()=>(ct++,`${ot}_${ct}`)))}const[,rt]=conertToTree(astParser.parse($).rootNode);processAstNode(rt);const it=convertAstNode2MyNode(rt).filter(ot=>ot.type!==NodeType$1.module);return getLocalRoots(it).forEach(ot=>{if(ot.parent=void 0,ot.type===NodeType$1.expression_statement){const lt=idToNode(ot.children[0],it);lt&&(lt.backStickIds.push(getBackStickId(_e)),lt.tokenToWrap=nt)}else ot.backStickIds.push(getBackStickId(_e)),ot.tokenToWrap=nt}),it}function applyIndentation(_e,$){return(_e.match(/[^\n]+\n?|\n/g)??[]).map(tt=>$+tt).join("")}function convertMyNodeToCode(_e){const $={},et={};for(const it of _e)$[it.id]=it;function tt(it,ot=0,lt=""){const ut=$[it];let ct=ut.content?.length?ut.content:ut.defaultContent;ct=applyIndentation(ct,lt),ot-=lt.length;let ht=ot;for(let dt=0,mt=ut.children.length;dt<mt;dt++){const gt=ut.children[dt],Ot=$[gt],wt=ct.indexOf(createPlaceholder(Ot));wt===-1&&console.warn("holeIndex should not be -1",ut,Ot,createPlaceholder(Ot)),ht=ot+wt;const St=ct.substring(0,wt).lastIndexOf(`
`)+1,vt=ct.substring(St,wt).match(/^(\s*)/),Tt=vt?vt[1]:"";let[Et]=tt(gt,ht,Tt);Et.startsWith(Tt)&&(Et=Et.substring(Tt.length)),ct=ct.replace(createPlaceholder(Ot),Et??Ot.defaultContent)}return et[it]={from:ot,to:ot+ct.length},[ct,ot+ct.length]}const[nt,rt]=tt(getTreeRoot(_e).id);return{code:nt,ranges:et}}function updateNodeContent(_e,$){return _e.type===NodeType$1.argument_list?updateArgumentListContent(_e,$):_e.type===NodeType$1.parameters?updateParametersContent(_e,$):_e.type===NodeType$1.return_statement?updateReturnStatementContent(_e,$):_e.type===NodeType$1.assignment?updateAssignmentContent(_e,$):_e.type===NodeType$1.block?updateBlockContent(_e,$):_e.type===NodeType$1.module?updateModuleContent(_e,$):_e.content}function updateArgumentListContent(_e,$){return`(${$.map(et=>createPlaceholder(et)).join(", ")})`}function updateParametersContent(_e,$){return`(${$.map(et=>createPlaceholder(et)).join(", ")})`}function updateReturnStatementContent(_e,$){return $.length===1?`return ${createPlaceholder($[0])}`:"return"}function updateAssignmentContent(_e,$){return`${$.map(et=>createPlaceholder(et)).join(" = ")}`}function updateBlockContent(_e,$){return $.map(et=>createPlaceholder(et)).join(getHoleSeperator(_e.type))}function updateModuleContent(_e,$){return $.map(et=>createPlaceholder(et)).join(getHoleSeperator(_e.type))}const urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let nanoid=(_e=21)=>{let $="",et=crypto.getRandomValues(new Uint8Array(_e));for(;_e--;)$+=urlAlphabet[et[_e]&63];return $};function newReturnNode(_e){return{parent:_e,id:nanoid(4),type:NodeType$1.return_statement,defaultContent:"return",content:"",children:[],backStickIds:[]}}function newExpressionPlaceholder(_e){return{parent:_e,id:nanoid(4),type:NodeType$1.expression_statement,defaultContent:hole("body"),content:"",children:[],backStickIds:[]}}function newIdentifierPlaceholder(_e,$=NodeType$1.parameters){return{parent:_e,id:nanoid(4),type:NodeType$1.identifier,defaultContent:hole($===NodeType$1.parameters?"params":"args"),content:"",children:[],backStickIds:[]}}function newIdentifierVariable(_e,$,et=!1){return{parent:void 0,id:nanoid(4),type:NodeType$1.identifier,defaultContent:"variable",content:_e,tokenToWrap:et,children:[],backStickIds:$}}const selectPrompt=_e=>_e.prompt,selectSelectedNode=_e=>_e.selectedMyNode,selectAskingGPT=_e=>_e.askingGPT,selectEdits=_e=>_e.edits,selectMyTree=_e=>_e.myTree,prompt="implement a http server.",promptAnalysis=await SpacyDep(prompt),initialState={askingGPT:!1,prompt,selectedMyNode:{},suggestedInlineCodes:{},edits:[],promptAnalysis,ast:astParser.parse(""),myTree:[{id:"0",type:"module",backStickIds:[],content:"",defaultContent:"",children:[]}]},analyzePrompt=createAsyncThunk("app/analyzePrompt",async _e=>await SpacyDep(_e)),tokenizePrompt=createAsyncThunk("app/tokenizePrompt",async _e=>await SpacyToken(_e)),submitPrompt=createAsyncThunk("app/submitPrompt",async _e=>{const{myTree:$}=store.getState(),{code:et}=convertMyNodeToCode($),tt=await GPTFillCode(_e,et),nt=diffWordsWithSpace(et,tt);let rt=0;const it=[];for(const ot of nt){const{added:lt,removed:ut,value:ct}=ot;lt?it.push({from:rt,insert:ct}):(ut&&it.push({from:rt,to:rt+ct.length}),rt+=ct.length)}return it});function verifyMyTree(_e){for(const $ of _e)$.backStickIds=lodashExports.uniq($.backStickIds),delete $.tokenToWrap;_e=_e.filter($=>!($.type===NodeType$1.expression_statement&&$.children.length===0&&!placeholderRegex().test($.defaultContent)));for(const $ of _e)$.children=$.children.filter(et=>idToNode(et,_e));for(const $ of _e)$.parent&&!idToNode($.parent,_e)&&($.parent=void 0);_e=_e.filter($=>$.parent||$.type===NodeType$1.module);for(const $ of _e)if($.type===NodeType$1.block&&($.name===FiledName.body||$.name===FiledName.consequence)){if($.children=$.children.map(et=>idToNode(et,_e)).filter(et=>et).filter(et=>!(et?.type===NodeType$1.expression_statement&&et?.children.length===0)).map(et=>et.id),$.children.length===0){const et=newExpressionPlaceholder($.id);$.defaultContent=createPlaceholder(et),$.children.push(et.id),_e.push(et)}}else if($.type===NodeType$1.parameters||$.type===NodeType$1.argument_list){let et=$.children.map(tt=>idToNode(tt,_e)).filter(tt=>tt).filter(tt=>isPlaceholderIdentifier(tt));$.children=$.children.map(tt=>idToNode(tt,_e)).filter(tt=>tt).filter(tt=>!isPlaceholderIdentifier(tt)).map(tt=>tt.id),$.children.length===0&&(et.length||(et=[newIdentifierPlaceholder($.id,$.type)],_e.push(...et)),$.defaultContent=et.map(createPlaceholder).join(getHoleSeperator($.type)),$.children.push(...et.map(tt=>tt.id)))}for(const $ of _e){const et=$.children.map(tt=>idToNode(tt,_e)).filter(tt=>tt);$.content=updateNodeContent($,et)}return _e=_e.filter($=>$.type===NodeType$1.module?!0:idToNode($.parent,_e)?.children.includes($.id)),_e}const codeSlice=createSlice({name:"app",initialState,reducers:{resetMytree:(_e,{payload:$})=>{_e.myTree=verifyMyTree($)},changePrompt:(_e,{payload:$})=>{_e.prompt=$},changeSelectedNode:(_e,{payload:$})=>{const{id:et,node:tt}=$,{selectedMyNode:nt}=_e;if(tt===null&&nt[et]===null)return;const rt=nt[et]?.map(it=>it.id)??[];tt?.every(it=>rt.includes(it.id))||(_e.selectedMyNode[et]=tt)},changeSuggestedInlineCodes:(_e,{payload:$})=>{_e.suggestedInlineCodes={..._e.suggestedInlineCodes,[$.key]:$.suggestions}},addChildrenToMyTree:(_e,{payload:$})=>{const{myTree:et}=_e,tt=$.filter(nt=>!et.find(rt=>rt.id===nt.id));tt.forEach(nt=>{nt.children.map(rt=>idToNode(rt,et)).filter(rt=>rt).forEach(rt=>{const it=idToNode(rt.parent,et);it&&(it.children=it.children.filter(ot=>ot!==rt.id)),rt.parent=nt.id})}),et.push(...tt),tt.forEach(nt=>{if(nt.parent){const rt=idToNode(nt.parent,et);if(rt&&!rt.children.includes(nt.id)){rt.type===NodeType$1.block&&rt.name===FiledName.body&&rt.children.length&&idToNode(lodashExports.last(rt.children),et)?.type===NodeType$1.return_statement?rt.children.splice(rt.children.length-1,0,nt.id):rt.children.push(nt.id);const it=rt.children.map(ot=>idToNode(ot,et)).filter(ot=>ot);rt.content=updateNodeContent(rt,it)}}}),_e.myTree=verifyMyTree(et)},removeMyNodes:(_e,{payload:$})=>{let{myTree:et}=_e;for(const tt of $)et=removeNodeFromTree(tt,_e.myTree);_e.myTree=verifyMyTree(et)},updateMyNodes:(_e,{payload:$})=>{const{myTree:et}=_e;Object.entries($).forEach(([tt,nt])=>{const rt=idToNode(tt,et),it=idToNode(rt?.parent,et),ot=et.filter(lt=>lt.parent===tt);if(rt&&it){const lt=it.children.findIndex(ut=>ut===tt);if(it.children.splice(lt,1),ot.forEach(ut=>{ut.parent=void 0}),nt){const ut=Object.assign(rt,nt),ct=idToNode(ut.parent,et);ct?.id===it.id?ct?.children.splice(lt,0,rt.id):ct?.children.push(rt.id),ut.children.map(ht=>idToNode(ht,et)).filter(ht=>ht).forEach(ht=>{ht.parent=ut.id})}}}),Object.keys($).length>0&&(_e.myTree=verifyMyTree(et))},cleanBackStickId:(_e,{payload:$})=>{let{myTree:et}=_e;const tt=[];for(const nt of et)nt.backStickIds.includes($)&&(nt.backStickIds=nt.backStickIds.filter(rt=>rt!==$),nt.backStickIds.length===0&&!isPlaceholderIdentifier(nt)&&tt.push(nt.id));for(const nt of tt)et=removeNodeFromTree(nt,et);_e.myTree=verifyMyTree(et)},updateAST:(_e,{payload:$})=>{_e.ast=$},changeAskingGPT:(_e,{payload:$})=>{_e.askingGPT=$},cleanEdits:_e=>{_e.edits=[]}},extraReducers:_e=>{_e.addCase(submitPrompt.fulfilled,($,{payload:et})=>{$.edits=et}).addCase(analyzePrompt.fulfilled,($,{payload:et})=>{$.promptAnalysis=et})}}),{resetMytree,changeSuggestedInlineCodes,cleanBackStickId,updateAST,changeAskingGPT,cleanEdits,changePrompt,changeSelectedNode,addChildrenToMyTree,removeMyNodes,updateMyNodes}=codeSlice.actions,store=configureStore({reducer:codeSlice.reducer,middleware:_e=>_e({serializableCheck:!1})}),useAppDispatch=useDispatch,useAppSelector=useSelector;function Toolbar(){const _e=useAppSelector(selectAskingGPT);return jsxRuntimeExports.jsx("div",{className:"Toolbar",children:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"AskingGPT:"})," ",`${_e}`]})})}const toggleComment=_e=>{let{state:$}=_e,et=$.doc.lineAt($.selection.main.from),tt=getConfig(_e.state,et.from);return tt.line?toggleLineComment(_e):tt.block?toggleBlockCommentByLine(_e):!1};function command(_e,$){return({state:et,dispatch:tt})=>{if(et.readOnly)return!1;let nt=_e($,et);return nt?(tt(et.update(nt)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((_e,$)=>changeBlockComment(_e,$,selectedLineRanges($)),0);function getConfig(_e,$){let et=_e.languageDataAt("commentTokens",$);return et.length?et[0]:{}}const SearchMargin=50;function findBlockComment(_e,{open:$,close:et},tt,nt){let rt=_e.sliceDoc(tt-SearchMargin,tt),it=_e.sliceDoc(nt,nt+SearchMargin),ot=/\s*$/.exec(rt)[0].length,lt=/^\s*/.exec(it)[0].length,ut=rt.length-ot;if(rt.slice(ut-$.length,ut)==$&&it.slice(lt,lt+et.length)==et)return{open:{pos:tt-ot,margin:ot&&1},close:{pos:nt+lt,margin:lt&&1}};let ct,ht;nt-tt<=2*SearchMargin?ct=ht=_e.sliceDoc(tt,nt):(ct=_e.sliceDoc(tt,tt+SearchMargin),ht=_e.sliceDoc(nt-SearchMargin,nt));let dt=/^\s*/.exec(ct)[0].length,mt=/\s*$/.exec(ht)[0].length,gt=ht.length-mt-et.length;return ct.slice(dt,dt+$.length)==$&&ht.slice(gt,gt+et.length)==et?{open:{pos:tt+dt+$.length,margin:/\s/.test(ct.charAt(dt+$.length))?1:0},close:{pos:nt-mt-et.length,margin:/\s/.test(ht.charAt(gt-1))?1:0}}:null}function selectedLineRanges(_e){let $=[];for(let et of _e.selection.ranges){let tt=_e.doc.lineAt(et.from),nt=et.to<=tt.to?tt:_e.doc.lineAt(et.to),rt=$.length-1;rt>=0&&$[rt].to>tt.from?$[rt].to=nt.to:$.push({from:tt.from+/^\s*/.exec(tt.text)[0].length,to:nt.to})}return $}function changeBlockComment(_e,$,et=$.selection.ranges){let tt=et.map(rt=>getConfig($,rt.from).block);if(!tt.every(rt=>rt))return null;let nt=et.map((rt,it)=>findBlockComment($,tt[it],rt.from,rt.to));if(_e!=2&&!nt.every(rt=>rt))return{changes:$.changes(et.map((rt,it)=>nt[it]?[]:[{from:rt.from,insert:tt[it].open+" "},{from:rt.to,insert:" "+tt[it].close}]))};if(_e!=1&&nt.some(rt=>rt)){let rt=[];for(let it=0,ot;it<nt.length;it++)if(ot=nt[it]){let lt=tt[it],{open:ut,close:ct}=ot;rt.push({from:ut.pos-lt.open.length,to:ut.pos+ut.margin},{from:ct.pos-ct.margin,to:ct.pos+lt.close.length})}return{changes:rt}}return null}function changeLineComment(_e,$,et=$.selection.ranges){let tt=[],nt=-1;for(let{from:rt,to:it}of et){let ot=tt.length,lt=1e9,ut=getConfig($,rt).line;if(ut){for(let ct=rt;ct<=it;){let ht=$.doc.lineAt(ct);if(ht.from>nt&&(rt==it||it>ht.from)){nt=ht.from;let dt=/^\s*/.exec(ht.text)[0].length,mt=dt==ht.length,gt=ht.text.slice(dt,dt+ut.length)==ut?dt:-1;dt<ht.text.length&&dt<lt&&(lt=dt),tt.push({line:ht,comment:gt,token:ut,indent:dt,empty:mt,single:!1})}ct=ht.to+1}if(lt<1e9)for(let ct=ot;ct<tt.length;ct++)tt[ct].indent<tt[ct].line.text.length&&(tt[ct].indent=lt);tt.length==ot+1&&(tt[ot].single=!0)}}if(_e!=2&&tt.some(rt=>rt.comment<0&&(!rt.empty||rt.single))){let rt=[];for(let{line:ot,token:lt,indent:ut,empty:ct,single:ht}of tt)(ht||!ct)&&rt.push({from:ot.from+ut,insert:lt+" "});let it=$.changes(rt);return{changes:it,selection:$.selection.map(it,1)}}else if(_e!=1&&tt.some(rt=>rt.comment>=0)){let rt=[];for(let{line:it,comment:ot,token:lt}of tt)if(ot>=0){let ut=it.from+ot,ct=ut+lt.length;it.text[ct-it.from]==" "&&ct++,rt.push({from:ut,to:ct})}return{changes:rt}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(_e){return combineConfig(_e,{minDepth:100,newGroupDelay:500,joinToEvent:($,et)=>et},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:($,et)=>(tt,nt)=>$(tt,nt)||et(tt,nt)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(_e,$){let et=$.state.facet(historyConfig),tt=$.annotation(fromHistory);if(tt){let lt=HistEvent.fromTransaction($,tt.selection),ut=tt.side,ct=ut==0?_e.undone:_e.done;return lt?ct=updateBranch(ct,ct.length,et.minDepth,lt):ct=addSelection(ct,$.startState.selection),new HistoryState(ut==0?tt.rest:ct,ut==0?ct:tt.rest)}let nt=$.annotation(isolateHistory);if((nt=="full"||nt=="before")&&(_e=_e.isolate()),$.annotation(Transaction.addToHistory)===!1)return $.changes.empty?_e:_e.addMapping($.changes.desc);let rt=HistEvent.fromTransaction($),it=$.annotation(Transaction.time),ot=$.annotation(Transaction.userEvent);return rt?_e=_e.addChanges(rt,it,ot,et,$):$.selection&&(_e=_e.addSelection($.startState.selection,it,ot,et.newGroupDelay)),(nt=="full"||nt=="after")&&(_e=_e.isolate()),_e},toJSON(_e){return{done:_e.done.map($=>$.toJSON()),undone:_e.undone.map($=>$.toJSON())}},fromJSON(_e){return new HistoryState(_e.done.map(HistEvent.fromJSON),_e.undone.map(HistEvent.fromJSON))}});function history(_e={}){return[historyField_,historyConfig.of(_e),EditorView.domEventHandlers({beforeinput($,et){let tt=$.inputType=="historyUndo"?undo:$.inputType=="historyRedo"?redo:null;return tt?($.preventDefault(),tt(et)):!1}})]}function cmd(_e,$){return function({state:et,dispatch:tt}){if(!$&&et.readOnly)return!1;let nt=et.field(historyField_,!1);if(!nt)return!1;let rt=nt.pop(_e,et,$);return rt?(tt(rt),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor($,et,tt,nt,rt){this.changes=$,this.effects=et,this.mapped=tt,this.startSelection=nt,this.selectionsAfter=rt}setSelAfter($){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,$)}toJSON(){var $,et,tt;return{changes:($=this.changes)===null||$===void 0?void 0:$.toJSON(),mapped:(et=this.mapped)===null||et===void 0?void 0:et.toJSON(),startSelection:(tt=this.startSelection)===null||tt===void 0?void 0:tt.toJSON(),selectionsAfter:this.selectionsAfter.map(nt=>nt.toJSON())}}static fromJSON($){return new HistEvent($.changes&&ChangeSet.fromJSON($.changes),[],$.mapped&&ChangeDesc.fromJSON($.mapped),$.startSelection&&EditorSelection.fromJSON($.startSelection),$.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction($,et){let tt=none;for(let nt of $.startState.facet(invertedEffects)){let rt=nt($);rt.length&&(tt=tt.concat(rt))}return!tt.length&&$.changes.empty?null:new HistEvent($.changes.invert($.startState.doc),tt,void 0,et||$.startState.selection,none)}static selection($){return new HistEvent(void 0,none,void 0,void 0,$)}}function updateBranch(_e,$,et,tt){let nt=$+1>et+20?$-et-1:0,rt=_e.slice(nt,$);return rt.push(tt),rt}function isAdjacent(_e,$){let et=[],tt=!1;return _e.iterChangedRanges((nt,rt)=>et.push(nt,rt)),$.iterChangedRanges((nt,rt,it,ot)=>{for(let lt=0;lt<et.length;){let ut=et[lt++],ct=et[lt++];ot>=ut&&it<=ct&&(tt=!0)}}),tt}function eqSelectionShape(_e,$){return _e.ranges.length==$.ranges.length&&_e.ranges.filter((et,tt)=>et.empty!=$.ranges[tt].empty).length===0}function conc(_e,$){return _e.length?$.length?_e.concat($):_e:$}const none=[],MaxSelectionsPerEvent=200;function addSelection(_e,$){if(_e.length){let et=_e[_e.length-1],tt=et.selectionsAfter.slice(Math.max(0,et.selectionsAfter.length-MaxSelectionsPerEvent));return tt.length&&tt[tt.length-1].eq($)?_e:(tt.push($),updateBranch(_e,_e.length-1,1e9,et.setSelAfter(tt)))}else return[HistEvent.selection([$])]}function popSelection(_e){let $=_e[_e.length-1],et=_e.slice();return et[_e.length-1]=$.setSelAfter($.selectionsAfter.slice(0,$.selectionsAfter.length-1)),et}function addMappingToBranch(_e,$){if(!_e.length)return _e;let et=_e.length,tt=none;for(;et;){let nt=mapEvent(_e[et-1],$,tt);if(nt.changes&&!nt.changes.empty||nt.effects.length){let rt=_e.slice(0,et);return rt[et-1]=nt,rt}else $=nt.mapped,et--,tt=nt.selectionsAfter}return tt.length?[HistEvent.selection(tt)]:none}function mapEvent(_e,$,et){let tt=conc(_e.selectionsAfter.length?_e.selectionsAfter.map(ot=>ot.map($)):none,et);if(!_e.changes)return HistEvent.selection(tt);let nt=_e.changes.map($),rt=$.mapDesc(_e.changes,!0),it=_e.mapped?_e.mapped.composeDesc(rt):rt;return new HistEvent(nt,StateEffect.mapEffects(_e.effects,$),it,_e.startSelection.map(rt),tt)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor($,et,tt=0,nt=void 0){this.done=$,this.undone=et,this.prevTime=tt,this.prevUserEvent=nt}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges($,et,tt,nt,rt){let it=this.done,ot=it[it.length-1];return ot&&ot.changes&&!ot.changes.empty&&$.changes&&(!tt||joinableUserEvent.test(tt))&&(!ot.selectionsAfter.length&&et-this.prevTime<nt.newGroupDelay&&nt.joinToEvent(rt,isAdjacent(ot.changes,$.changes))||tt=="input.type.compose")?it=updateBranch(it,it.length-1,nt.minDepth,new HistEvent($.changes.compose(ot.changes),conc($.effects,ot.effects),ot.mapped,ot.startSelection,none)):it=updateBranch(it,it.length,nt.minDepth,$),new HistoryState(it,none,et,tt)}addSelection($,et,tt,nt){let rt=this.done.length?this.done[this.done.length-1].selectionsAfter:none;return rt.length>0&&et-this.prevTime<nt&&tt==this.prevUserEvent&&tt&&/^select($|\.)/.test(tt)&&eqSelectionShape(rt[rt.length-1],$)?this:new HistoryState(addSelection(this.done,$),this.undone,et,tt)}addMapping($){return new HistoryState(addMappingToBranch(this.done,$),addMappingToBranch(this.undone,$),this.prevTime,this.prevUserEvent)}pop($,et,tt){let nt=$==0?this.done:this.undone;if(nt.length==0)return null;let rt=nt[nt.length-1],it=rt.selectionsAfter[0]||et.selection;if(tt&&rt.selectionsAfter.length)return et.update({selection:rt.selectionsAfter[rt.selectionsAfter.length-1],annotations:fromHistory.of({side:$,rest:popSelection(nt),selection:it}),userEvent:$==0?"select.undo":"select.redo",scrollIntoView:!0});if(rt.changes){let ot=nt.length==1?none:nt.slice(0,nt.length-1);return rt.mapped&&(ot=addMappingToBranch(ot,rt.mapped)),et.update({changes:rt.changes,selection:rt.startSelection,effects:rt.effects,annotations:fromHistory.of({side:$,rest:ot,selection:it}),filter:!1,userEvent:$==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none,none);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(_e,$){return EditorSelection.create(_e.ranges.map($),_e.mainIndex)}function setSel(_e,$){return _e.update({selection:$,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:_e,dispatch:$},et){let tt=updateSel(_e.selection,et);return tt.eq(_e.selection,!0)?!1:($(setSel(_e,tt)),!0)}function rangeEnd(_e,$){return EditorSelection.cursor($?_e.to:_e.from)}function cursorByChar(_e,$){return moveSel(_e,et=>et.empty?_e.moveByChar(et,$):rangeEnd(et,$))}function ltrAtCursor(_e){return _e.textDirectionAt(_e.state.selection.main.head)==Direction.LTR}const cursorCharLeft=_e=>cursorByChar(_e,!ltrAtCursor(_e)),cursorCharRight=_e=>cursorByChar(_e,ltrAtCursor(_e));function cursorByGroup(_e,$){return moveSel(_e,et=>et.empty?_e.moveByGroup(et,$):rangeEnd(et,$))}const cursorGroupLeft=_e=>cursorByGroup(_e,!ltrAtCursor(_e)),cursorGroupRight=_e=>cursorByGroup(_e,ltrAtCursor(_e));function interestingNode(_e,$,et){if($.type.prop(et))return!0;let tt=$.to-$.from;return tt&&(tt>2||/[^\s,.;:]/.test(_e.sliceDoc($.from,$.to)))||$.firstChild}function moveBySyntax(_e,$,et){let tt=syntaxTree(_e).resolveInner($.head),nt=et?NodeProp.closedBy:NodeProp.openedBy;for(let lt=$.head;;){let ut=et?tt.childAfter(lt):tt.childBefore(lt);if(!ut)break;interestingNode(_e,ut,nt)?tt=ut:lt=et?ut.to:ut.from}let rt=tt.type.prop(nt),it,ot;return rt&&(it=et?matchBrackets(_e,tt.from,1):matchBrackets(_e,tt.to,-1))&&it.matched?ot=et?it.end.to:it.end.from:ot=et?tt.to:tt.from,EditorSelection.cursor(ot,et?-1:1)}const cursorSyntaxLeft=_e=>moveSel(_e,$=>moveBySyntax(_e.state,$,!ltrAtCursor(_e))),cursorSyntaxRight=_e=>moveSel(_e,$=>moveBySyntax(_e.state,$,ltrAtCursor(_e)));function cursorByLine(_e,$){return moveSel(_e,et=>{if(!et.empty)return rangeEnd(et,$);let tt=_e.moveVertically(et,$);return tt.head!=et.head?tt:_e.moveToLineBoundary(et,$)})}const cursorLineUp=_e=>cursorByLine(_e,!1),cursorLineDown=_e=>cursorByLine(_e,!0);function pageInfo(_e){let $=_e.scrollDOM.clientHeight<_e.scrollDOM.scrollHeight-2,et=0,tt=0,nt;if($){for(let rt of _e.state.facet(EditorView.scrollMargins)){let it=rt(_e);it?.top&&(et=Math.max(it?.top,et)),it?.bottom&&(tt=Math.max(it?.bottom,tt))}nt=_e.scrollDOM.clientHeight-et-tt}else nt=(_e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:et,marginBottom:tt,selfScroll:$,height:Math.max(_e.defaultLineHeight,nt-5)}}function cursorByPage(_e,$){let et=pageInfo(_e),{state:tt}=_e,nt=updateSel(tt.selection,it=>it.empty?_e.moveVertically(it,$,et.height):rangeEnd(it,$));if(nt.eq(tt.selection))return!1;let rt;if(et.selfScroll){let it=_e.coordsAtPos(tt.selection.main.head),ot=_e.scrollDOM.getBoundingClientRect(),lt=ot.top+et.marginTop,ut=ot.bottom-et.marginBottom;it&&it.top>lt&&it.bottom<ut&&(rt=EditorView.scrollIntoView(nt.main.head,{y:"start",yMargin:it.top-lt}))}return _e.dispatch(setSel(tt,nt),{effects:rt}),!0}const cursorPageUp=_e=>cursorByPage(_e,!1),cursorPageDown=_e=>cursorByPage(_e,!0);function moveByLineBoundary(_e,$,et){let tt=_e.lineBlockAt($.head),nt=_e.moveToLineBoundary($,et);if(nt.head==$.head&&nt.head!=(et?tt.to:tt.from)&&(nt=_e.moveToLineBoundary($,et,!1)),!et&&nt.head==tt.from&&tt.length){let rt=/^\s*/.exec(_e.state.sliceDoc(tt.from,Math.min(tt.from+100,tt.to)))[0].length;rt&&$.head!=tt.from+rt&&(nt=EditorSelection.cursor(tt.from+rt))}return nt}const cursorLineBoundaryForward=_e=>moveSel(_e,$=>moveByLineBoundary(_e,$,!0)),cursorLineBoundaryBackward=_e=>moveSel(_e,$=>moveByLineBoundary(_e,$,!1)),cursorLineBoundaryLeft=_e=>moveSel(_e,$=>moveByLineBoundary(_e,$,!ltrAtCursor(_e))),cursorLineBoundaryRight=_e=>moveSel(_e,$=>moveByLineBoundary(_e,$,ltrAtCursor(_e))),cursorLineStart=_e=>moveSel(_e,$=>EditorSelection.cursor(_e.lineBlockAt($.head).from,1)),cursorLineEnd=_e=>moveSel(_e,$=>EditorSelection.cursor(_e.lineBlockAt($.head).to,-1));function toMatchingBracket(_e,$,et){let tt=!1,nt=updateSel(_e.selection,rt=>{let it=matchBrackets(_e,rt.head,-1)||matchBrackets(_e,rt.head,1)||rt.head>0&&matchBrackets(_e,rt.head-1,1)||rt.head<_e.doc.length&&matchBrackets(_e,rt.head+1,-1);if(!it||!it.end)return rt;tt=!0;let ot=it.start.from==rt.head?it.end.to:it.end.from;return et?EditorSelection.range(rt.anchor,ot):EditorSelection.cursor(ot)});return tt?($(setSel(_e,nt)),!0):!1}const cursorMatchingBracket=({state:_e,dispatch:$})=>toMatchingBracket(_e,$,!1);function extendSel(_e,$){let et=updateSel(_e.state.selection,tt=>{let nt=$(tt);return EditorSelection.range(tt.anchor,nt.head,nt.goalColumn,nt.bidiLevel||void 0)});return et.eq(_e.state.selection)?!1:(_e.dispatch(setSel(_e.state,et)),!0)}function selectByChar(_e,$){return extendSel(_e,et=>_e.moveByChar(et,$))}const selectCharLeft=_e=>selectByChar(_e,!ltrAtCursor(_e)),selectCharRight=_e=>selectByChar(_e,ltrAtCursor(_e));function selectByGroup(_e,$){return extendSel(_e,et=>_e.moveByGroup(et,$))}const selectGroupLeft=_e=>selectByGroup(_e,!ltrAtCursor(_e)),selectGroupRight=_e=>selectByGroup(_e,ltrAtCursor(_e)),selectSyntaxLeft=_e=>extendSel(_e,$=>moveBySyntax(_e.state,$,!ltrAtCursor(_e))),selectSyntaxRight=_e=>extendSel(_e,$=>moveBySyntax(_e.state,$,ltrAtCursor(_e)));function selectByLine(_e,$){return extendSel(_e,et=>_e.moveVertically(et,$))}const selectLineUp=_e=>selectByLine(_e,!1),selectLineDown=_e=>selectByLine(_e,!0);function selectByPage(_e,$){return extendSel(_e,et=>_e.moveVertically(et,$,pageInfo(_e).height))}const selectPageUp=_e=>selectByPage(_e,!1),selectPageDown=_e=>selectByPage(_e,!0),selectLineBoundaryForward=_e=>extendSel(_e,$=>moveByLineBoundary(_e,$,!0)),selectLineBoundaryBackward=_e=>extendSel(_e,$=>moveByLineBoundary(_e,$,!1)),selectLineBoundaryLeft=_e=>extendSel(_e,$=>moveByLineBoundary(_e,$,!ltrAtCursor(_e))),selectLineBoundaryRight=_e=>extendSel(_e,$=>moveByLineBoundary(_e,$,ltrAtCursor(_e))),selectLineStart=_e=>extendSel(_e,$=>EditorSelection.cursor(_e.lineBlockAt($.head).from)),selectLineEnd=_e=>extendSel(_e,$=>EditorSelection.cursor(_e.lineBlockAt($.head).to)),cursorDocStart=({state:_e,dispatch:$})=>($(setSel(_e,{anchor:0})),!0),cursorDocEnd=({state:_e,dispatch:$})=>($(setSel(_e,{anchor:_e.doc.length})),!0),selectDocStart=({state:_e,dispatch:$})=>($(setSel(_e,{anchor:_e.selection.main.anchor,head:0})),!0),selectDocEnd=({state:_e,dispatch:$})=>($(setSel(_e,{anchor:_e.selection.main.anchor,head:_e.doc.length})),!0),selectAll=({state:_e,dispatch:$})=>($(_e.update({selection:{anchor:0,head:_e.doc.length},userEvent:"select"})),!0),selectLine=({state:_e,dispatch:$})=>{let et=selectedLineBlocks(_e).map(({from:tt,to:nt})=>EditorSelection.range(tt,Math.min(nt+1,_e.doc.length)));return $(_e.update({selection:EditorSelection.create(et),userEvent:"select"})),!0},selectParentSyntax=({state:_e,dispatch:$})=>{let et=updateSel(_e.selection,tt=>{var nt;let rt=syntaxTree(_e).resolveStack(tt.from,1);for(let it=rt;it;it=it.next){let{node:ot}=it;if((ot.from<tt.from&&ot.to>=tt.to||ot.to>tt.to&&ot.from<=tt.from)&&(!((nt=ot.parent)===null||nt===void 0)&&nt.parent))return EditorSelection.range(ot.to,ot.from)}return tt});return $(setSel(_e,et)),!0},simplifySelection=({state:_e,dispatch:$})=>{let et=_e.selection,tt=null;return et.ranges.length>1?tt=EditorSelection.create([et.main]):et.main.empty||(tt=EditorSelection.create([EditorSelection.cursor(et.main.head)])),tt?($(setSel(_e,tt)),!0):!1};function deleteBy(_e,$){if(_e.state.readOnly)return!1;let et="delete.selection",{state:tt}=_e,nt=tt.changeByRange(rt=>{let{from:it,to:ot}=rt;if(it==ot){let lt=$(rt);lt<it?(et="delete.backward",lt=skipAtomic(_e,lt,!1)):lt>it&&(et="delete.forward",lt=skipAtomic(_e,lt,!0)),it=Math.min(it,lt),ot=Math.max(ot,lt)}else it=skipAtomic(_e,it,!1),ot=skipAtomic(_e,ot,!0);return it==ot?{range:rt}:{changes:{from:it,to:ot},range:EditorSelection.cursor(it,it<rt.head?-1:1)}});return nt.changes.empty?!1:(_e.dispatch(tt.update(nt,{scrollIntoView:!0,userEvent:et,effects:et=="delete.selection"?EditorView.announce.of(tt.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(_e,$,et){if(_e instanceof EditorView)for(let tt of _e.state.facet(EditorView.atomicRanges).map(nt=>nt(_e)))tt.between($,$,(nt,rt)=>{nt<$&&rt>$&&($=et?rt:nt)});return $}const deleteByChar=(_e,$)=>deleteBy(_e,et=>{let tt=et.from,{state:nt}=_e,rt=nt.doc.lineAt(tt),it,ot;if(!$&&tt>rt.from&&tt<rt.from+200&&!/[^ \t]/.test(it=rt.text.slice(0,tt-rt.from))){if(it[it.length-1]=="	")return tt-1;let lt=countColumn(it,nt.tabSize),ut=lt%getIndentUnit(nt)||getIndentUnit(nt);for(let ct=0;ct<ut&&it[it.length-1-ct]==" ";ct++)tt--;ot=tt}else ot=findClusterBreak(rt.text,tt-rt.from,$,$)+rt.from,ot==tt&&rt.number!=($?nt.doc.lines:1)?ot+=$?1:-1:!$&&/[\ufe00-\ufe0f]/.test(rt.text.slice(ot-rt.from,tt-rt.from))&&(ot=findClusterBreak(rt.text,ot-rt.from,!1,!1)+rt.from);return ot}),deleteCharBackward=_e=>deleteByChar(_e,!1),deleteCharForward=_e=>deleteByChar(_e,!0),deleteByGroup=(_e,$)=>deleteBy(_e,et=>{let tt=et.head,{state:nt}=_e,rt=nt.doc.lineAt(tt),it=nt.charCategorizer(tt);for(let ot=null;;){if(tt==($?rt.to:rt.from)){tt==et.head&&rt.number!=($?nt.doc.lines:1)&&(tt+=$?1:-1);break}let lt=findClusterBreak(rt.text,tt-rt.from,$)+rt.from,ut=rt.text.slice(Math.min(tt,lt)-rt.from,Math.max(tt,lt)-rt.from),ct=it(ut);if(ot!=null&&ct!=ot)break;(ut!=" "||tt!=et.head)&&(ot=ct),tt=lt}return tt}),deleteGroupBackward=_e=>deleteByGroup(_e,!1),deleteGroupForward=_e=>deleteByGroup(_e,!0),deleteToLineEnd=_e=>deleteBy(_e,$=>{let et=_e.lineBlockAt($.head).to;return $.head<et?et:Math.min(_e.state.doc.length,$.head+1)}),deleteLineBoundaryBackward=_e=>deleteBy(_e,$=>{let et=_e.moveToLineBoundary($,!1).head;return $.head>et?et:Math.max(0,$.head-1)}),deleteLineBoundaryForward=_e=>deleteBy(_e,$=>{let et=_e.moveToLineBoundary($,!0).head;return $.head<et?et:Math.min(_e.state.doc.length,$.head+1)}),splitLine=({state:_e,dispatch:$})=>{if(_e.readOnly)return!1;let et=_e.changeByRange(tt=>({changes:{from:tt.from,to:tt.to,insert:Text.of(["",""])},range:EditorSelection.cursor(tt.from)}));return $(_e.update(et,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:_e,dispatch:$})=>{if(_e.readOnly)return!1;let et=_e.changeByRange(tt=>{if(!tt.empty||tt.from==0||tt.from==_e.doc.length)return{range:tt};let nt=tt.from,rt=_e.doc.lineAt(nt),it=nt==rt.from?nt-1:findClusterBreak(rt.text,nt-rt.from,!1)+rt.from,ot=nt==rt.to?nt+1:findClusterBreak(rt.text,nt-rt.from,!0)+rt.from;return{changes:{from:it,to:ot,insert:_e.doc.slice(nt,ot).append(_e.doc.slice(it,nt))},range:EditorSelection.cursor(ot)}});return et.changes.empty?!1:($(_e.update(et,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(_e){let $=[],et=-1;for(let tt of _e.selection.ranges){let nt=_e.doc.lineAt(tt.from),rt=_e.doc.lineAt(tt.to);if(!tt.empty&&tt.to==rt.from&&(rt=_e.doc.lineAt(tt.to-1)),et>=nt.number){let it=$[$.length-1];it.to=rt.to,it.ranges.push(tt)}else $.push({from:nt.from,to:rt.to,ranges:[tt]});et=rt.number+1}return $}function moveLine(_e,$,et){if(_e.readOnly)return!1;let tt=[],nt=[];for(let rt of selectedLineBlocks(_e)){if(et?rt.to==_e.doc.length:rt.from==0)continue;let it=_e.doc.lineAt(et?rt.to+1:rt.from-1),ot=it.length+1;if(et){tt.push({from:rt.to,to:it.to},{from:rt.from,insert:it.text+_e.lineBreak});for(let lt of rt.ranges)nt.push(EditorSelection.range(Math.min(_e.doc.length,lt.anchor+ot),Math.min(_e.doc.length,lt.head+ot)))}else{tt.push({from:it.from,to:rt.from},{from:rt.to,insert:_e.lineBreak+it.text});for(let lt of rt.ranges)nt.push(EditorSelection.range(lt.anchor-ot,lt.head-ot))}}return tt.length?($(_e.update({changes:tt,scrollIntoView:!0,selection:EditorSelection.create(nt,_e.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:_e,dispatch:$})=>moveLine(_e,$,!1),moveLineDown=({state:_e,dispatch:$})=>moveLine(_e,$,!0);function copyLine(_e,$,et){if(_e.readOnly)return!1;let tt=[];for(let nt of selectedLineBlocks(_e))et?tt.push({from:nt.from,insert:_e.doc.slice(nt.from,nt.to)+_e.lineBreak}):tt.push({from:nt.to,insert:_e.lineBreak+_e.doc.slice(nt.from,nt.to)});return $(_e.update({changes:tt,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:_e,dispatch:$})=>copyLine(_e,$,!1),copyLineDown=({state:_e,dispatch:$})=>copyLine(_e,$,!0),deleteLine=_e=>{if(_e.state.readOnly)return!1;let{state:$}=_e,et=$.changes(selectedLineBlocks($).map(({from:nt,to:rt})=>(nt>0?nt--:rt<$.doc.length&&rt++,{from:nt,to:rt}))),tt=updateSel($.selection,nt=>_e.moveVertically(nt,!0)).map(et);return _e.dispatch({changes:et,selection:tt,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(_e,$){if(/\(\)|\[\]|\{\}/.test(_e.sliceDoc($-1,$+1)))return{from:$,to:$};let et=syntaxTree(_e).resolveInner($),tt=et.childBefore($),nt=et.childAfter($),rt;return tt&&nt&&tt.to<=$&&nt.from>=$&&(rt=tt.type.prop(NodeProp.closedBy))&&rt.indexOf(nt.name)>-1&&_e.doc.lineAt(tt.to).from==_e.doc.lineAt(nt.from).from&&!/\S/.test(_e.sliceDoc(tt.to,nt.from))?{from:tt.to,to:nt.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(_e){return({state:$,dispatch:et})=>{if($.readOnly)return!1;let tt=$.changeByRange(nt=>{let{from:rt,to:it}=nt,ot=$.doc.lineAt(rt),lt=!_e&&rt==it&&isBetweenBrackets($,rt);_e&&(rt=it=(it<=ot.to?ot:$.doc.lineAt(it)).to);let ut=new IndentContext($,{simulateBreak:rt,simulateDoubleBreak:!!lt}),ct=getIndentation(ut,rt);for(ct==null&&(ct=countColumn(/^\s*/.exec($.doc.lineAt(rt).text)[0],$.tabSize));it<ot.to&&/\s/.test(ot.text[it-ot.from]);)it++;lt?{from:rt,to:it}=lt:rt>ot.from&&rt<ot.from+100&&!/\S/.test(ot.text.slice(0,rt))&&(rt=ot.from);let ht=["",indentString($,ct)];return lt&&ht.push(indentString($,ut.lineIndent(ot.from,-1))),{changes:{from:rt,to:it,insert:Text.of(ht)},range:EditorSelection.cursor(rt+1+ht[1].length)}});return et($.update(tt,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(_e,$){let et=-1;return _e.changeByRange(tt=>{let nt=[];for(let it=tt.from;it<=tt.to;){let ot=_e.doc.lineAt(it);ot.number>et&&(tt.empty||tt.to>ot.from)&&($(ot,nt,tt),et=ot.number),it=ot.to+1}let rt=_e.changes(nt);return{changes:nt,range:EditorSelection.range(rt.mapPos(tt.anchor,1),rt.mapPos(tt.head,1))}})}const indentSelection=({state:_e,dispatch:$})=>{if(_e.readOnly)return!1;let et=Object.create(null),tt=new IndentContext(_e,{overrideIndentation:rt=>{let it=et[rt];return it??-1}}),nt=changeBySelectedLine(_e,(rt,it,ot)=>{let lt=getIndentation(tt,rt.from);if(lt==null)return;/\S/.test(rt.text)||(lt=0);let ut=/^\s*/.exec(rt.text)[0],ct=indentString(_e,lt);(ut!=ct||ot.from<rt.from+ut.length)&&(et[rt.from]=lt,it.push({from:rt.from,to:rt.from+ut.length,insert:ct}))});return nt.changes.empty||$(_e.update(nt,{userEvent:"indent"})),!0},indentMore=({state:_e,dispatch:$})=>_e.readOnly?!1:($(_e.update(changeBySelectedLine(_e,(et,tt)=>{tt.push({from:et.from,insert:_e.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:_e,dispatch:$})=>_e.readOnly?!1:($(_e.update(changeBySelectedLine(_e,(et,tt)=>{let nt=/^\s*/.exec(et.text)[0];if(!nt)return;let rt=countColumn(nt,_e.tabSize),it=0,ot=indentString(_e,Math.max(0,rt-getIndentUnit(_e)));for(;it<nt.length&&it<ot.length&&nt.charCodeAt(it)==ot.charCodeAt(it);)it++;tt.push({from:et.from+it,to:et.from+nt.length,insert:ot.slice(it)})}),{userEvent:"delete.dedent"})),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward},{mac:"Mod-Delete",run:deleteLineBoundaryForward}].concat(emacsStyleKeymap.map(_e=>({mac:_e.key,run:_e.run,shift:_e.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess},minimalSetup=[highlightSpecialChars(),history(),drawSelection(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),keymap.of([...defaultKeymap,...historyKeymap])];function useCodeMirror({initialDoc:_e="",extensions:$=[],onChange:et}){const tt=reactExports.useRef(),[nt,rt]=reactExports.useState(),it=reactExports.useMemo(()=>[minimalSetup,highlightActiveLine(),indentUnit.of("	"),EditorView.lineWrapping,EditorView.updateListener.of(ot=>{ot.docChanged&&et(ot.state.doc.toString(),ot)}),...$],[$,et]);return reactExports.useEffect(()=>{console.log("create Editor",tt);const ot=new EditorView({doc:_e,extensions:it,parent:tt.current});return rt(ot),()=>{ot.destroy(),rt(void 0)}},[]),reactExports.useEffect(()=>{nt&&nt.dispatch({effects:StateEffect.reconfigure.of(it)})},[it,nt]),{ref:tt,view:nt}}const promptGutterMarker=new class extends GutterMarker{toDOM(){const _e=document.createTextNode("#"),$=document.createElement("span");return $.appendChild(_e),$.style.backgroundColor="#fff",$}},promptGutterExt=gutter({class:"prompt-gutter",lineMarker(){return promptGutterMarker},initialSpacer:()=>promptGutterMarker}),promptGutterTheme=EditorView.baseTheme({".prompt-gutter":{minWidth:"20px",color:"rgb(0, 116, 0)",backgroundColor:"#fff",display:"flex",justifyContent:"center",alignItems:"end","& .cm-gutterElement":{margin:"0!important"}}}),promptGutter=[promptGutterExt,promptGutterTheme],backTickRegexp=/`([^`]*)`/gs,emptyBackTickRegexp=/``/gs,addFiller=StateEffect.define({map:({prompt:_e,nodes:$},et)=>({prompt:{..._e,from:et.mapPos(_e.from),to:et.mapPos(_e.to)},nodes:$})}),removeFiller=StateEffect.define({map:({prompt:_e,nodes:$},et)=>({prompt:{..._e,from:et.mapPos(_e.from),to:et.mapPos(_e.to)},nodes:$})}),FillerField=StateField.define({create(){return Decoration.none},update(_e,$){if($.docChanged&&(_e=_e.map($.changes)),!$.effects.filter(tt=>tt.is(removeFiller)||tt.is(addFiller)).length)return _e;console.log("##Ext## update fillerField===>","do effects"),_e=_e.update({filter(tt,nt){const rt=$.effects.filter(ot=>ot.is(removeFiller)),it=$.effects.filter(ot=>ot.is(addFiller));return rt.every(ot=>ot.value.prompt.from!==tt&&ot.value.prompt.to!==nt)&&it.every(ot=>ot.value.prompt.from!==tt&&ot.value.prompt.to!==nt)}}),_e=_e.update({add:$.effects.filter(tt=>tt.is(addFiller)).map(tt=>{const{prompt:nt,nodes:rt}=tt.value;return Decoration.mark({class:`cm-code cm-code-${rt?.[0]?.parentType} cm-code-${rt?.[0]?.type}`,attributes:{backstickId:nt.backstickId}}).range(nt.from,nt.to)})});const et={};return $.effects.filter(tt=>tt.is(removeFiller)).forEach(tt=>{const{prompt:nt,nodes:rt}=tt.value;rt?.forEach(({parentType:it,...ot})=>{const lt=(et[ot.id]??ot).backStickIds??[];et[ot.id]={...ot,backStickIds:lt.filter(ut=>ut!==nt.backstickId)}})}),$.effects.filter(tt=>tt.is(addFiller)).filter(tt=>tt.value.nodes).forEach(tt=>{const{prompt:nt,nodes:rt}=tt.value;rt?.forEach(({parentType:it,...ot})=>{const lt=(et[ot.id]??ot).backStickIds??[];et[ot.id]={...ot,backStickIds:[...lt,nt.backstickId]}})}),console.log("%c update correspondence from update fillerField","color:blue;background-color:lightyellow"),store.dispatch(updateMyNodes(et)),_e},provide:_e=>EditorView.decorations.from(_e)});function updateFillerFieldIDs(_e,$,et){console.groupCollapsed("updateFillerFieldIDs");const tt=[];_e.state.field(FillerField).between(0,_e.state.doc.length,(ct,ht,dt)=>{const{backstickId:mt}=dt.spec.attributes;tt.push({field:{from:ct,to:ht,backstickId:mt},match:void 0})});const rt=_e.state.doc.sliceString(0).matchAll(backTickRegexp);for(const ct of rt){if(ct.index===void 0)continue;const ht=ct.index,dt=ht+ct[0].length,mt=mapWordToToken({from:ht+1,to:dt-1,text:ct[1]},$);console.log("match token",mt);let gt=!1;for(const Ot of tt)if(Ot.field?.from===ht&&Ot.field?.to===dt){Ot.match={from:ht,to:dt,tokens:mt},gt=!0;break}else if(Ot.field&&Ot.field.from===Math.min(...mt.map(wt=>wt.start))&&Ot.field?.backstickId===getBackStickId(mt)){Ot.match={from:ht,to:dt,tokens:mt},gt=!0;break}else if(Ot.field&&Ot.field.to-Ot.field.from===mt.reduce((wt,St)=>wt+St.text.length,0)&&Ot.field?.backstickId===getBackStickId(mt)){Ot.match={from:ht,to:dt,tokens:mt},gt=!0;break}gt||tt.push({field:void 0,match:{from:ht,to:dt,tokens:mt}})}console.log("joint",tt);const it=[],ot=[],{myTree:lt}=store.getState();for(const{field:ct,match:ht}of tt)if(ct&&!ht){console.log("toDel");const dt=lt.filter(mt=>mt.backStickIds.includes(ct.backstickId));ot.push({prompt:ct,nodes:dt})}else if(ht&&!ct)console.log("toAdd"),it.push({prompt:{...ht,backstickId:getBackStickId(ht.tokens)},nodes:et?[{...et,parentType:idToNode(et?.parent,lt)?.type}]:void 0});else if(ht&&ct&&(ct.backstickId!==getBackStickId(ht.tokens)||ct.from!==ht.from||ct.to!==ht.to)){if(ht.tokens.length===0&&ct.from===ht.from&&ct.to&&ht.to)continue;console.log("update id",ct,`changeId: ${ct.backstickId} --> ${getBackStickId(ht.tokens)}`);const dt=lt.filter(mt=>mt.backStickIds.includes(ct.backstickId));console.log("update nodes",dt),ot.push({prompt:ct,nodes:dt}),it.push({prompt:{...ct,...ht,backstickId:getBackStickId(ht.tokens)},nodes:dt.map(mt=>({...mt,parentType:idToNode(mt.parent,lt)?.type}))})}const ut=[...it.sort((ct,ht)=>ct.prompt.from-ht.prompt.from).map(ct=>addFiller.of(ct)),...ot.map(ct=>removeFiller.of(ct))];console.log("effects",ut),_e.dispatch({effects:ut}),console.groupEnd()}const codeTheme=EditorView.baseTheme({".cm-code":{backgroundColor:"#f1e1e1",color:"#000",borderRadius:"3px 3px 0 0",padding:"1px 1px",cursor:"pointer",[`&.cm-code-${NodeType$1.identifier}`]:{color:"#00f",[`&.cm-code-${NodeType$1.class_definition}`]:{color:"#167"},[`&.cm-code-${NodeType$1.function_definition}`]:{color:"#00f"}},[`&.cm-code-${NodeType$1.class_definition}`]:{color:"#708"},[`&.cm-code-${NodeType$1.function_definition}`]:{color:"#708"}}}),codeOnClick=EditorView.domEventHandlers({click:(_e,$)=>{const et=$.posAtCoords({x:_e.clientX,y:_e.clientY});if(et!==null){let{node:tt}=$.domAtPos(et);tt.nodeType===3&&(tt=tt.parentNode)}},mouseover:_e=>{if(!(_e.target instanceof HTMLSpanElement))return;const $=_e.target.getAttribute("backstickId");if(!$)return;const tt=store.getState().myTree.filter(nt=>nt.backStickIds.includes($));console.log("mouseover",$,tt),tt&&store.dispatch(changeSelectedNode({id:"mouse",node:tt}))},mouseout:_e=>{!(_e.target instanceof HTMLSpanElement)||!_e.target.getAttribute("backstickId")||store.dispatch(changeSelectedNode({id:"mouse",node:null}))}}),filterDelFieldBoundary=EditorState.changeFilter.of(_e=>{if(_e.isUserEvent("delete")){console.log("##Ext## changeFilter",_e);const et=_e.startState.field(FillerField).iter(),tt={from:[],to:[]};for(;et.value;)tt.from.push(et.from),tt.to.push(et.to),et.next();let nt=!1;return _e.changes.iterChanges((rt,it)=>{const ot=tt.from.includes(rt)?tt.from.findIndex(lt=>lt===rt):tt.to.findIndex(lt=>lt===it);ot!==-1&&(console.log(tt.to[ot],tt.from[ot]),tt.to[ot]-tt.from[ot]>2&&(nt=!0))}),!nt}return!0}),emptyBackTrFilter=EditorState.transactionFilter.of(_e=>{if(!_e.isUserEvent("delete"))return _e;console.log("##Ext## transactionFilter",_e);const et=_e.startState.field(FillerField).iter(),tt={from:[],to:[],backstickIds:[]};for(;et.value;)tt.from.push(et.from),tt.to.push(et.to),tt.backstickIds.push(et.value.spec.attributes.backstickId),et.next();let nt=null;return _e.changes.iterChanges((rt,it)=>{const ot=tt.from.includes(rt)?tt.from.findIndex(lt=>lt===rt):tt.to.findIndex(lt=>lt===it);if(ot!==-1&&tt.to[ot]-tt.from[ot]<=2){nt={changes:{from:tt.from[ot],to:tt.to[ot],insert:""}};const ut=tt.backstickIds[ot];store.dispatch(cleanBackStickId(ut))}}),nt||_e}),emptybacktickMatcher=new MatchDecorator({regexp:emptyBackTickRegexp,decoration:_e=>Decoration.replace({widget:new EmptyBackTickWidget(_e.index,_e.index+2)})});ViewPlugin.fromClass(class{placeholders;constructor(_e){this.placeholders=emptybacktickMatcher.createDeco(_e)}update(_e){this.placeholders=emptybacktickMatcher.updateDeco(_e,this.placeholders)}},{decorations:_e=>_e.placeholders,provide:_e=>EditorView.atomicRanges.of($=>$.plugin(_e)?.placeholders||Decoration.none)});class EmptyBackTickWidget extends WidgetType{constructor($,et){super(),this.from=$,this.to=et}eq($){return this.from==$.from&&this.to==$.to}toDOM(){const $=document.createElement("span");return $.style.cssText=`
      border: 1px dashed #2196F3;
      border-radius: 4px;
      padding: 0 3px;
      background: #E3F2FD;`,$.textContent="``",$}ignoreEvent(){return!1}}const inlineCode=()=>[FillerField,codeTheme,emptyBackTrFilter,filterDelFieldBoundary,codeOnClick];function useAppKeymapExt(){const _e=useAppDispatch(),$=useAppSelector(selectPrompt),et=reactExports.useCallback(()=>($&&_e(submitPrompt($)),!0),[_e,$]),tt=reactExports.useCallback(()=>!0,[_e,$]);return reactExports.useMemo(()=>Prec.highest(keymap.of([{key:"Cmd-Enter",run:et},{key:"Ctrl-Enter",run:tt}])),[et,tt])}function getCurrentFillerField(_e){const $=_e.state.selection.main.head,tt=_e.state.field(FillerField).iter();for(;tt.value;){if(tt.from<$&&tt.to>$)return{from:tt.from,to:tt.to,backstickId:tt.value.spec.attributes.backstickId,text:_e.state.doc.sliceString(tt.from,tt.to)};tt.next()}}function getCurrentToken(_e,$,et){console.groupCollapsed("#1_getCurrentToken");const tt=_e.state.selection.main.head,nt=_e.state.doc.sliceString(0,tt).match(/`([a-zA-Z0-9_/ ]*)`$|([\w/]*)([\s,.;!?:])?$/);if(!nt){console.groupEnd();return}const rt=nt[2]!==void 0&&nt[3]===void 0;console.log("typing?",rt),console.log(nt);const it=mapWordToToken({from:nt[1]?nt.index+1:nt.index,to:nt.index+(nt[1]??nt[2]).length,text:nt[1]??nt[2]},$);if(it.length===0){console.warn("cannot find a currentToken"),console.groupEnd();return}console.debug("token:",it),console.debug("word:",nt);const ot=et.find(lt=>lt.backStickIds.includes(getBackStickId(it)));return ot&&console.log("the token has been connected to a node:",ot),console.groupEnd(),it.map((lt,ut)=>ut===it.length-1?{...lt,typing:rt}:lt)}const highlightId="cursor";function useCursorHighlightExt(){const _e=useAppDispatch(),$=useAppSelector(et=>et.myTree);return reactExports.useMemo(()=>EditorView.updateListener.of(et=>{if(et.selectionSet){const tt=getCurrentFillerField(et.view);if(tt){const nt=$.filter(rt=>rt.backStickIds.includes(tt.backstickId));nt.length&&_e(changeSelectedNode({id:highlightId,node:nt}))}else _e(changeSelectedNode({id:highlightId,node:null}))}}),[_e,$])}const addKeyword=StateEffect.define({map:({from:_e,to:$},et)=>({from:et.mapPos(_e),to:et.mapPos($)})}),keywordField=StateField.define({create(){return Decoration.none},update(_e,$){_e=_e.map($.changes);for(const et of $.effects)et.is(addKeyword)&&(_e=_e.update({add:[keywordMark.range(et.value.from,et.value.to)]}));return _e},provide:_e=>EditorView.decorations.from(_e)}),keywordMark=Decoration.mark({class:"cm-keyword"}),keywordTheme=EditorView.baseTheme({".cm-keyword":{textDecoration:"underline 1px",color:"#212121"}}),keywordHL=[keywordField,keywordTheme],wordHover=hoverTooltip((_e,$,et)=>{const{from:tt,to:nt,text:rt}=_e.state.doc.lineAt($);let it=$,ot=$;for(;it>tt&&/\w/.test(rt[it-tt-1]);)it--;for(;ot<nt&&/\w/.test(rt[ot-tt]);)ot++;return it==$&&et<0||ot==$&&et>0?null:{pos:it,end:ot,above:!0,create(){const lt=document.createElement("div");return lt.textContent=rt.slice(it-tt,ot-tt),{dom:lt,mount(){},destroy(){}}}}},{hoverTime:10}),ruleItem=(_e,{predicate:$=!1,pos:et,quant:tt,toDown:nt=!0}={})=>({dep:Array.isArray(_e)?_e:[_e],predicate:$,pos:et?Array.isArray(et)?et:[et]:void 0,quant:tt,toDown:nt}),tokensToPathStr=_e=>{if(_e.length===0)return"";let $=_e[0],et=`${$.dep}_${$.pos}`;for(let tt=1,nt=_e.length;tt<nt;++tt){$=_e[tt];const rt=_e[tt-1].id===$.head_id;et+=`${rt?"-":"+"}${$.dep}_${$.pos}`}return et},makeRule=({name:_e="",items:$,compose:et})=>({name:_e,regex:new RegExp(`^${ruleItemToRegexStr($)}$`),test:tt=>{const nt=new RegExp(`^${ruleItemToRegexStr($)}$`),rt=tokensToPathStr(tt),it=nt.test(rt);return it&&console.debug("%c ====> bingo! match rule:","color:blue;background-color:lightyellow",ruleItemToRegexStr($),"path:",rt),it},getPredicateIdx:tt=>findTheLastPredicate(tt,$),compose:et}),ruleItemToRegexStr=_e=>_e.map(({dep:et,pos:tt,quant:nt,toDown:rt},it)=>{const ot=`(${et.join("|")})`,lt=tt?.join("|")??"[A-Za-z0-9]*";return`(${it===0?"":rt?"-":"\\+"}${ot}_(${lt}))`+(nt??"")}).join("");function findTheLastPredicate(_e,$){const et=lodashExports.findLastIndex($,it=>it.predicate),tt=$.slice(0,et+1),nt=new RegExp(`^${ruleItemToRegexStr(tt)}$`);let rt=-1;for(let it=0,ot=_e.length;it<ot;++it){const lt=_e.slice(0,it+1),ut=tokensToPathStr(lt);nt.test(ut)&&(rt=it)}return rt}function getHoleCandidates(_e,$,et){return _e.map(tt=>{const nt=tt.type,rt=getHoles(tt.id,et);console.log("parentTye:",nt,", holeCandidates:",rt);const it=rt.filter(ot=>holeTypeConstraints[ot.type]?.test($[0].type,ot,nt,et));return console.log("hole after filter",it),it.map(ot=>({parent:tt,hole:ot}))}).flat()}const HoleTypes=new Set([NodeType$1.module,NodeType$1.block,NodeType$1.parameters,NodeType$1.argument_list,NodeType$1.return_statement,NodeType$1.expression_list,NodeType$1.expression_statement]);function getHoles(_e,$){const et=nt=>isPlaceholderIdentifier(nt)&&nt?.name===FiledName.name||isPlaceholderIdentifier(nt)&&nt?.name===FiledName.object||isPlaceholderIdentifier(nt)&&nt.name===FiledName.left||isPlaceholderIdentifier(nt)&&nt.name===FiledName.right||nt&&HoleTypes.has(nt.type),tt=idToNode(_e,$);return tt?.type===NodeType$1.class_definition?getHolesFromClassDef(tt,$):tt?.type===NodeType$1.function_definition?getHolesFromFuncDef(tt,$):tt?.type===NodeType$1.decorated_definition?getHolesFromDecDef(tt,$):tt?traverse(tt,$,et):[]}function getHolesFromFuncDef(_e,$){const et=ot=>isPlaceholderIdentifier(ot)&&ot?.name===FiledName.name||[NodeType$1.block,NodeType$1.parameters].includes(ot?.type),tt=[],nt=_e.children.map(ot=>idToNode(ot,$)).filter(ot=>ot);tt.push(...nt.filter(et));const rt=nt.find(ot=>ot?.type===NodeType$1.block),it=rt?.children.map(ot=>idToNode(ot,$)).find(ot=>ot?.type===NodeType$1.return_statement);if(it)if(it.children.length===1&&idToNode(it.children[0],$)?.type===NodeType$1.identifier){const ot={id:nanoid(4),parent:it.id,type:NodeType$1.expression_list,defaultContent:"",content:"",children:it.children,backStickIds:[]};tt.push(ot)}else it.children.length===0&&tt.push(it);else if(rt){const ot=newReturnNode(rt?.id);tt.push(ot)}return tt}function getHolesFromClassDef(_e,$){const et=[],tt=it=>isPlaceholderIdentifier(it)&&it?.name===FiledName.name||[NodeType$1.block,NodeType$1.argument_list].includes(it?.type),nt=_e.children.map(it=>idToNode(it,$)).filter(it=>it);et.push(...nt.filter(tt));const rt=nt.find(it=>it.type===NodeType$1.block)?.children.map(it=>idToNode(it,$)).filter(it=>it?.type===NodeType$1.function_definition).find(it=>it?.children.map(lt=>idToNode(lt,$)).find(lt=>lt?.type===NodeType$1.identifier)?.defaultContent==="__init__");return rt&&(console.log("initFuncNode",rt),et.push(...getHolesFromFuncDef(rt,$))),et}function getHolesFromDecDef(_e,$){return _e.children.map(tt=>idToNode(tt,$)).filter(tt=>tt).flatMap(tt=>tt.type===NodeType$1.decorator?getHolesFromDecorator(tt,$):[])}function getHolesFromDecorator(_e,$){return traverse(_e,$,nt=>isPlaceholderIdentifier(nt)&&nt?.name===FiledName.object||nt?.type===NodeType$1.argument_list)}function traverse(_e,$,et){return[...et(_e)?[_e]:[],..._e.children.map(tt=>idToNode(tt,$)).filter(tt=>tt).flatMap(tt=>traverse(tt,$,et))]}const chainRules=[{items:[ruleItem("nsubj"),ruleItem("ROOT",{predicate:!0,toDown:!1}),ruleItem("conj",{predicate:!0,pos:"VERB",quant:"*"}),ruleItem("dobj",{pos:["NOUN","ADP"]}),ruleItem("appos",{pos:["NOUN","ADP"],quant:"?"}),ruleItem("conj",{pos:"NOUN",quant:"*"})],compose(_e,$,et,tt,nt){if(!nt)return;const rt=getLocalRoots(_e);console.log("localRoots:",rt);const it=getHoleCandidates(rt,$,et),ot=Object.entries(Keyword2Hole).filter(([,ut])=>ut.includes(nt.lemma)).map(([ut])=>ut);let lt=it.find(({hole:ut})=>ot.includes(`${ut.name??""}_${ut.type}`));return console.log("holeTargetKey:",ot,"holeTarget:",lt),!lt&&rt.some(ut=>[NodeType$1.function_definition,NodeType$1.class_definition,NodeType$1.if_statement].includes(ut.type))&&(lt=it.find(({hole:ut})=>ut.type===NodeType$1.block)),{hoe:lt?.hole,filler:$}}},{items:[ruleItem(["dobj","nsubj","ROOT"]),ruleItem("relcl",{predicate:!0,pos:"VERB"}),ruleItem("conj",{predicate:!0,pos:"VERB",quant:"*"}),ruleItem("dobj",{pos:"NOUN"}),ruleItem("appos",{pos:["NOUN","ADP"],quant:"?"}),ruleItem("conj",{pos:"NOUN",quant:"*"})],compose(_e,$,et,tt,nt){if(!nt)return;const rt=getLocalRoots(_e);console.log("localRoots:",rt);const it=getHoleCandidates(rt,$,et),ot=Object.entries(Keyword2Hole).filter(([,ut])=>ut.includes(nt.lemma)).map(([ut])=>ut);let lt=it.find(({hole:ut})=>ot.includes(`${ut.name??""}_${ut.type}`));return console.log("holeTargetKey:",ot,"holeTarget:",lt),!lt&&rt.some(ut=>[NodeType$1.function_definition,NodeType$1.class_definition,NodeType$1.if_statement].includes(ut.type))&&(lt=it.find(({hole:ut})=>ut.type===NodeType$1.block)),{hoe:lt?.hole,filler:$}}},{name:"sibiling_func",items:[ruleItem("ROOT",{predicate:!0,pos:"VERB"}),ruleItem("conj",{predicate:!0,pos:"VERB"})],compose(_e,$,et){console.log("sibiling_func rule"),console.log("nodeA:",_e,"nodeB:",$,"myTree:",et);let tt=et.find(nt=>nt.id===getLocalRoots(_e)[0]?.parent);if(tt?.type===NodeType$1.expression_statement&&(tt=et.find(nt=>nt.id===tt?.parent)),!!tt)return{hoe:tt,filler:$}}},{items:[ruleItem("dobj"),ruleItem("appos"),ruleItem("conj",{quant:"*"})],compose(_e,$,et){console.log("no predicate, should match based on the dep");const tt=getLocalRoots(_e);return console.log("localRoots:",tt),{hoe:getHoleCandidates(tt,$,et).find(({hole:it})=>it.name===FiledName.name&&it.type===NodeType$1.identifier)?.hole,filler:$}}},{items:[ruleItem("ROOT",{predicate:!0}),ruleItem("prep"),ruleItem("pobj",{pos:["NOUN","X"]})],compose(_e,$,et,tt,nt){if(!nt)return;console.log("Root prep pobj pattern");const rt=getLocalRoots(_e);console.log("localRoots:",rt);const it=getHoleCandidates(rt,$,et);return console.log("holeCandidates",it),{hoe:it.find(({parent:lt,hole:ut})=>lt.backStickIds.includes(getBackStickId(nt))&&ut.type===NodeType$1.argument_list)?.hole,filler:$}}},{name:"foreach",items:[ruleItem("ROOT"),ruleItem("pobj",{pos:["NOUN","X"]}),ruleItem("appos",{pos:["NOUN"],quant:"?"})],compose(_e,$,et){const tt=getLocalRoots(_e);console.log("localRoots:",tt);const nt=getHoleCandidates(tt,$,et);return console.log(nt),{hoe:nt.find(({hole:it})=>it.type===NodeType$1.identifier&&it.name===FiledName.left)?.hole,filler:$}}},{name:"foreach",items:[ruleItem("prep",{pos:"ADP"}),ruleItem("ROOT",{pos:["NOUN","PROPN","VERB"],toDown:!1})],compose(_e,$,et){if($.every(tt=>tt.type===NodeType$1.function_definition)){[_e,$]=[$,_e];const tt=getLocalRoots(_e);console.log("localRoots:",tt),console.log("nodeB",$);const nt=getHoleCandidates(tt,$,et),rt=getLocalRoots($).map(lt=>lt.id),it=rt.map(lt=>getSubTree(lt,et)).flat(),ot=JSON.parse(JSON.stringify(it));return store.dispatch(removeMyNodes(rt)),getLocalRoots(ot).forEach(lt=>{lt.parent=void 0}),{hoe:nt.map(({hole:lt})=>lt).find(lt=>lt.type===NodeType$1.block&&lt.name===FiledName.body),filler:ot}}}},{name:"foreach-in",items:[ruleItem(["ROOT","prep"]),ruleItem("pobj",{pos:["NOUN","X"]}),ruleItem("prep",{pos:"ADP"}),ruleItem("pobj",{pos:["NOUN","X"]})],compose(_e,$,et){const tt=getLocalRoots(_e);console.log("localRoots:",tt);const nt=getHoleCandidates(tt,$,et);return console.log(nt),{hoe:nt.find(({hole:it})=>it.type===NodeType$1.identifier&&it.name===FiledName.right)?.hole,filler:$}}},{name:"if_block",items:[ruleItem("mark",{pos:"SCONJ"}),ruleItem("advcl",{toDown:!1}),ruleItem("ROOT",{toDown:!1,pos:["NOUN"]})],compose(_e,$,et){if(console.log("if_block w/o predicate rule"),$.every(tt=>tt.type===NodeType$1.function_definition)){[_e,$]=[$,_e];const tt=getLocalRoots(_e);console.log("localRoots:",tt),console.log("nodeB",$);const nt=getHoleCandidates(tt,$,et),rt=getLocalRoots($).map(lt=>lt.id),it=rt.map(lt=>getSubTree(lt,et)).flat(),ot=JSON.parse(JSON.stringify(it));return store.dispatch(removeMyNodes(rt)),getLocalRoots(ot).forEach(lt=>{lt.parent=void 0}),{hoe:nt.map(({hole:lt})=>lt).find(lt=>lt.type===NodeType$1.block&&lt.name===FiledName.body),filler:ot}}}},{name:"if_block",items:[ruleItem("mark",{pos:"SCONJ"}),ruleItem("ROOT",{toDown:!1}),ruleItem("dep",{pos:["NOUN"]})],compose(_e,$,et){if(console.log("if_block w/o predicate rule"),$.every(tt=>tt.type===NodeType$1.function_definition)){[_e,$]=[$,_e];const tt=getLocalRoots(_e);console.log("localRoots:",tt),console.log("nodeB",$);const nt=getHoleCandidates(tt,$,et),rt=getLocalRoots($).map(lt=>lt.id),it=rt.map(lt=>getSubTree(lt,et)).flat(),ot=JSON.parse(JSON.stringify(it));return store.dispatch(removeMyNodes(rt)),getLocalRoots(ot).forEach(lt=>{lt.parent=void 0}),{hoe:nt.map(({hole:lt})=>lt).find(lt=>lt.type===NodeType$1.block&&lt.name===FiledName.body),filler:ot}}}},{name:"if_block",items:[ruleItem("mark",{pos:"SCONJ"}),ruleItem("advcl",{toDown:!1}),ruleItem("ROOT",{predicate:!0,toDown:!1,pos:["VERB"]})],compose(_e,$,et,tt,nt){console.log("if_block rule"),console.log("nodeA:",_e,"nodeB:",$,"myTree:",et,"matchRule:",tt,"predicate:",nt)}},{name:"nsubj-ROOT",items:[ruleItem("nsubj"),ruleItem("ROOT",{predicate:!0,toDown:!1,pos:"VERB"}),ruleItem("conj",{predicate:!0,pos:"VERB",quant:"*"})],compose(_e,$,et,tt,nt){if(console.log("nsubj-Root rule"),!nt)return;const rt=getLocalRoots(_e);console.log("localRoots:",rt);const it=rt[0];if(it.type===NodeType$1.identifier)return{hoe:getTreeRoot(et),filler:$};if([NodeType$1.function_definition].includes(it.type)){const ot=getHoleCandidates([it],$,et);return console.log("hole after filter",ot),{hoe:ot.find(({hole:lt})=>lt.type===NodeType$1.block&&lt.name===FiledName.body)?.hole,filler:$}}}},{items:[ruleItem(["ROOT","conj"],{predicate:!0,pos:"VERB"}),ruleItem("dobj",{pos:"NOUN"})],compose(_e,$,et,tt,nt){if(!nt)return;console.log("Root dobj pattern");const rt=getLocalRoots(_e);console.log("localRoots:",rt);const it=getHoleCandidates(rt,$,et);return console.log("holeCandidates",it),{hoe:it.find(({parent:lt,hole:ut})=>lt.backStickIds.includes(getBackStickId(nt))&&ut.type===NodeType$1.argument_list)?.hole,filler:$}}},{items:[ruleItem("nsubj",{pos:"NOUN"}),ruleItem("ROOT",{predicate:!0,toDown:!1,pos:"VERB"}),ruleItem(["prep","mark"],{pos:"SCONJ"})]},{items:[ruleItem("dobj"),ruleItem("acl",{pos:"VERB"}),ruleItem("oprd")],compose(_e,$,et){console.log("no predicate, should match based on the dep");const tt=getLocalRoots(_e);return console.log("localRoots:",tt),{hoe:getHoleCandidates(tt,$,et).find(({hole:it})=>it.name===FiledName.name&&it.type===NodeType$1.identifier)?.hole,filler:$}}}].map(makeRule),exclude=[_e=>_e.text.length<15];NodeType$1.module,NodeType$1.block,NodeType$1.expression_statement;makeRule({name:"if_block",items:[ruleItem("mark",{pos:"SCONJ"}),ruleItem("advcl",{toDown:!1}),ruleItem("ROOT",{toDown:!1,pos:["NOUN"]})]}),makeRule({name:"foreach",items:[ruleItem("ROOT"),ruleItem("pobj",{pos:["NOUN","X"]})]}),makeRule({name:"foreach",items:[ruleItem("ROOT"),ruleItem("pobj",{pos:["NOUN","X"]}),ruleItem("appos",{pos:["NOUN"],quant:"?"})]}),makeRule({name:"foreach",items:[ruleItem("prep",{pos:"ADP"}),ruleItem("ROOT",{pos:["NOUN","PROPN"],toDown:!1})]}),makeRule({name:"foreach-in",items:[ruleItem(["ROOT","prep"]),ruleItem("pobj",{pos:["NOUN","X"]}),ruleItem("prep",{pos:"ADP"}),ruleItem("pobj",{pos:["NOUN","X"]})]});const holeTypeConstraints={[NodeType$1.block]:{test(_e,$,et){return et===NodeType$1.class_definition?$.name===FiledName.body_init?[NodeType$1.identifier,NodeType$1.expression_statement,NodeType$1.if_statement,NodeType$1.for_statement].includes(_e):[NodeType$1.class_definition,NodeType$1.function_definition].includes(_e):[NodeType$1.class_definition,NodeType$1.function_definition,NodeType$1.identifier,NodeType$1.expression_statement,NodeType$1.if_statement,NodeType$1.for_statement].includes(_e)}},[NodeType$1.return_statement]:{test:(_e,$,et,tt)=>[NodeType$1.identifier].includes(_e)&&$.children.length===0||$.children.map(nt=>idToNode(nt,tt)).every(nt=>nt?.type===NodeType$1.identifier)},[NodeType$1.module]:{test(_e){return Object.values(NodeType$1).includes(_e)}},[NodeType$1.parameters]:{test(_e){return[NodeType$1.identifier].includes(_e)}},[NodeType$1.argument_list]:{test(_e){return[NodeType$1.identifier].includes(_e)}},[NodeType$1.expression_list]:{test(_e){return[NodeType$1.identifier].includes(_e)}},[NodeType$1.identifier]:{test(_e,$){return[NodeType$1.identifier].includes(_e)&&!$.content}}},Keyword2Hole={[`${FiledName.parameters}_${NodeType$1.parameters}`]:["input","intake"],[`${FiledName.parameters_init}_${NodeType$1.parameters}`]:["input","intake"],[`${FiledName.body}_${NodeType$1.block}`]:["contain","include"],[`${FiledName.body_init}_${NodeType$1.block}`]:["contain","include"],[`_${NodeType$1.return_statement}`]:["return","output","respond"],[`_${NodeType$1.expression_list}`]:["return","output","respond"]},CompletionHilightID="completion",Identifier=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,typeMap={[NodeType$1.function_definition]:"function",[NodeType$1.class_definition]:"class",[NodeType$1.identifier]:"variable"},mapTypeForIcon=_e=>typeMap[_e]??_e;function isRefCompletion(_e){return _e?.nodeId!==void 0}function makeCompletion(_e,$){return $=$||_e.content||_e.defaultContent,{label:extractPlaceholderContent($),type:mapTypeForIcon(_e.type),nodeId:_e?.id,info(){store.dispatch(changeSelectedNode({id:CompletionHilightID,node:[_e]}));const et=document.createElement("div");return et.textContent="ref to existing code",et.style.zIndex="1000",{dom:et,destroy(){store.dispatch(changeSelectedNode({id:CompletionHilightID,node:null}))}}},apply(et,tt,nt,rt){const it=insertCompletionText(et.state,`\`${tt.label}\``,nt,rt);et.dispatch({...it,annotations:[pickedCompletion.of(tt),Transaction.userEvent.of("input.ref")]})}}}function localCompletionSource(_e){console.log("localCompletionSource");const $=_e.matchBefore(/\w*/);if(!$||$.from==$.to)return null;const et=[],{myTree:tt}=store.getState();for(const nt of tt)if(nt.type===NodeType$1.function_definition||nt.type===NodeType$1.class_definition){const rt=nt.children.map(it=>tt.find(ot=>ot.id===it)).find(it=>it?.type===NodeType$1.identifier&&it.name===FiledName.name);et.push(makeCompletion(nt,rt?.content||rt?.defaultContent))}else if(nt.type===NodeType$1.parameters){const rt=nt.children.map(it=>tt.find(ot=>ot.id===it)).map(it=>it?.type===NodeType$1.identifier?it:it?.children.map(ot=>tt.find(lt=>lt.id===ot)).find(ot=>ot?.type===NodeType$1.identifier)).filter(it=>it);et.push(...rt.map(it=>makeCompletion(it)))}else if(nt.type===NodeType$1.assignment){const rt=nt.children.map(it=>tt.find(ot=>ot.id===it)).find(it=>it?.type===NodeType$1.identifier&&it.name===FiledName.left);rt?et.push(makeCompletion(rt)):console.log("cannot find left:identifier",nt.children.map(it=>tt.find(ot=>ot.id===it)))}return console.log("local options",et),{options:et,from:$.from,validFor:Identifier}}function getNodeA(_e,$){const{rule:et,chain:tt}=$;if(!et||tt.length===0)return[getTreeRoot(_e)];const nt=tt[0];return _e.filter(rt=>rt.backStickIds.includes(getBackStickId(nt)))}function processExistingNode(_e,$,et){return et.filter(tt=>tt.id===_e).map(tt=>(console.log("refer to existing node:",tt),tt.type===NodeType$1.identifier?newIdentifierVariable(tt.content.length?tt.content:extractPlaceholderContent(tt.defaultContent),[getBackStickId($)]):tt))}function getNodeB(_e,$,et,tt,nt){const{rule:rt,predicate:it}=tt;return console.log("isRefCompletion(completion)",isRefCompletion(nt)),isRefCompletion(nt)?processExistingNode(nt.nodeId,_e,et):isSnippetCompletion(nt)?processSnippet(nt.snip,_e,$,et):rt?processCurToken(_e,$,et,it):void 0}function processSnippet(_e,$,et,tt){if(!_e)return;const nt=findDescendants(et,$[$.length-1].id),rt=nt.find(lt=>lt.dep==="nummod"),it=MyNodeFactor($,_e,{repeatNum:+(rt?.num??1)});return getLocalRoots(it).forEach(lt=>{console.log("rootNode",lt);const ut=getHoles(lt.id,it);console.log("snippet holes",ut),ut.forEach(ct=>{if(ct.name===FiledName.object){const ht=nt.find(dt=>dt.dep==="nsubj"&&dt.head_id===$[$.length-1].id);console.log("replacedChild",nt),ht&&(ct.content=ht.text,ct.backStickIds.push(getBackStickId([ht])),ct.tokenToWrap=!0)}else if(ct.name===FiledName.name){const ht=longestNmodSequence(nt),dt=ht.sort((mt,gt)=>mt.id-gt.id).map(mt=>mt.text).join("_");ht.length>0&&(ct.content=dt,ct.backStickIds.push(getBackStickId(ht)),ct.tokenToWrap=!0)}else if(ct.name===FiledName.consequence){console.log("should find the consequence token");const ht=findAncestors(et,$[$.length-1].id).map(dt=>tt.filter(mt=>mt.backStickIds.includes(getBackStickId(dt))));if(console.log("parents:",ht),ht.length>0){const dt=ht[0].map(gt=>gt.id),mt=dt.map(gt=>getSubTree(gt,tt));store.dispatch(removeMyNodes(dt)),mt.forEach(gt=>{const Ot=JSON.parse(JSON.stringify(gt));Ot[0].parent=ct.id,ct.children=removePlaceholder(ct,it),ct.children.push(Ot[0].id),it.push(...Ot)})}}})}),it}function processCurToken(_e,$,et,tt){if(et.some(ot=>ot.backStickIds.includes(getBackStickId(_e)))||["parameter"].includes(_e[_e.length-1].lemma))return;if(_e[_e.length-1].compound!==null){console.log("====!!!!!!! a compound token");const ot=$[_e[_e.length-1].compound];if(console.log("compoundToken",ot),console.log("curTokens",_e),et.some(lt=>lt.backStickIds.includes(getBackStickId(ot)))){console.log("compoundToken is already connected to the tree");return}}const nt=findDescendants($,_e[_e.length-1].id),rt=nt.find(ot=>ot.dep==="nummod");let it;if(tt?.id===_e[_e.length-1].id){if(Object.values(Keyword2Hole).flat().includes(tt.lemma))return;const ot=_e.map(ct=>ct.lemma).join("_"),lt=MyNodeFactor(_e,`${ot}(${hole("args")})
`,{tokenToWrap:!0}),ut=MyNodeFactor(_e,`def ${ot}(${hole("params")}):
	# Placeholder -- to be implemented
	pass`);ut[0].parent=getTreeRoot(et).id,it=[...lt,...ut]}else{const ot=+(rt?.num??1);it=Array(ot).fill(0).map((lt,ut)=>newIdentifierVariable(ot>1?`${_e[_e.length-1].lemma}_${ut}`:_e[_e.length-1].lemma,[getBackStickId(_e)],!0))}if(console.log("childrenTokens",nt),nt.some(ot=>ot.text==="if")){const ot=nt.find(ct=>ct.text==="if"),lt=findMinimalPath($,_e[_e.length-1].id,ot.id),ut=chainRules.filter(ct=>ct.name==="if_block");for(const ct of ut)if(ct.test(lt)){console.log("find if mark, should be put under a if-block");const ht=et.find(dt=>dt.backStickIds.includes(getBackStickId(ot)));if(ht){const dt=JSON.parse(JSON.stringify(getSubTree(ht.id,et)));dt[0].parent=void 0;const mt=dt.find(gt=>gt.type===NodeType$1.block);mt.children.push(it[0].id),it[0].parent=mt.id,it.unshift(...dt)}}}else if(nt.some(ot=>ot.text==="for")){const ot=nt.find(ct=>ct.text==="for"),lt=findMinimalPath($,_e[_e.length-1].id,ot.id),ut=chainRules.filter(ct=>ct.name==="foreach");console.log("pathToFor",lt);for(const ct of ut)if(ct.test(lt)){console.log("find for mark, should be put under a for-block");const ht=et.find(dt=>dt.backStickIds.includes(getBackStickId(ot)));if(ht){const dt=getSubTree(ht.id,et),mt=JSON.parse(JSON.stringify(dt)),gt=getLocalRoots(mt)[0];gt.parent=void 0;const Ot=mt.find(wt=>wt.type===NodeType$1.block);Ot.children.push(it[0].id),it[0].parent=Ot.id,it.unshift(...mt)}}}return it}const getPredicate=(_e,$)=>$!==void 0?_e?.[$]:void 0,isAscending=_e=>{for(let $=0,et=_e.length;$<et-1;++$)if(_e[$].id>_e[$+1].id)return!1;return!0};function getPathsToNodes(_e,$,et){return $.filter(nt=>nt.sent_id===_e[_e.length-1].sent_id).filter(nt=>et.some(rt=>rt.backStickIds.includes(getBackStickId(nt)))).sort((nt,rt)=>rt.id-nt.id).map(nt=>findMinimalPath($,_e[_e.length-1].id,nt.id)).filter(nt=>nt&&isAscending(nt))}function testPaths(_e){for(const $ of _e){const et=tokensToPathStr($);console.log("pathStr",et);for(const tt of chainRules)if(tt.test($))return{rule:tt,chain:$}}}function getABNodes(_e,$,et){const tt=getPathsToNodes(_e,$,et);console.log("===> pathsToNode",tt);const nt=testPaths(tt);if(!nt)return{chain:[],predicate:void 0};const{rule:rt,chain:it}=nt,ot=rt.getPredicateIdx(it);return{rule:rt,chain:it,predicate:getPredicate(it,ot)}}function insertToHole(_e,$){if(_e)if(store.dispatch(addChildrenToMyTree([_e])),_e.type===NodeType$1.identifier){const et=Array.from(new Set([..._e.backStickIds??[],...$[0].backStickIds]));store.dispatch(updateMyNodes({[_e.id]:{content:$[0].content.length?$[0].content:extractPlaceholderContent($[0].defaultContent),backStickIds:et}}));const tt={};return et.forEach(nt=>{tt[nt]||(tt[nt]={id:_e.id,tokenToWrap:$[0].tokenToWrap})}),tt}else{const et=[],tt=JSON.parse(JSON.stringify($));getLocalRoots(tt).filter(rt=>rt.parent!==_e.id).forEach(rt=>{rt.parent===void 0&&(rt.parent=_e.id);const it=getSubTree(rt.id,tt);et.push(...it)});const nt={};return et.forEach(rt=>{rt.backStickIds.forEach(it=>{nt[it]||(nt[it]={id:rt.id,tokenToWrap:rt.tokenToWrap})})}),store.dispatch(addChildrenToMyTree(et)),nt}}function updatePromptToken(_e,$,et){const{myTree:tt}=store.getState(),nt=_e.state.changes(Object.entries(et).filter(([,{tokenToWrap:it}])=>it).map(([it])=>{const[ot,lt]=it.split("_"),ut=$.find(gt=>gt.id===+ot),ct=$.find(gt=>gt.id===+lt);if(ut?.text==="`"&&ct?.text==="`")return null;const ht=$.filter(gt=>gt.id>+ot&&gt.id<+lt).sort((gt,Ot)=>gt.start-Ot.start),dt=Math.min(...ht.map(gt=>gt.start)),mt=Math.max(...ht.map(gt=>gt.end));return{from:dt,to:mt,insert:`\`${ht.map(gt=>gt.text).join(" ")}\``}}).filter(it=>it).sort((it,ot)=>it.from-ot.from)),rt=Object.entries(et).map(([it,{tokenToWrap:ot=!1,id:lt}])=>{const[ut,ct]=it.split("_"),ht=$.filter(wt=>wt.id>+ut&&wt.id<+ct).sort((wt,St)=>wt.start-St.start),dt=Math.min(...ht.map(wt=>wt.start)),mt=Math.max(...ht.map(wt=>wt.end)),gt=tt.find(wt=>wt.id===lt),Ot=tt.find(wt=>wt.id===gt.parent);return addFiller.of({prompt:{backstickId:it,from:ot?nt.mapPos(dt,-1):nt.mapPos(dt,-1)-1,to:ot?nt.mapPos(mt,1):nt.mapPos(mt,1)+1},nodes:[{...gt,parentType:Ot?.type}]})}).filter(it=>it).sort((it,ot)=>it.value.prompt.from-ot.value.prompt.from);_e.dispatch({changes:nt,effects:rt,annotations:Transaction.userEvent.of("input.fillHole")})}function editPipeline(_e,$,et,tt){console.log("in field",_e);const{myTree:nt}=store.getState(),{backstickId:rt,text:it}=_e,ot=nt.filter(ut=>ut.backStickIds.includes(rt));console.log("editing existing node",ot);const lt=ot.reduce((ut,ct)=>{let ht;ct?.type===NodeType$1.identifier?ht=ct:ct.type===NodeType$1.call&&(ht=ct.children.map(mt=>idToNode(mt,nt)).find(mt=>mt?.type===NodeType$1.identifier&&mt.name===FiledName.function));const dt=/`([^`]*)`/s.exec(it);if(dt&&ht){const mt=dt[1].split(" ").join("_");ut[ht.id]={content:mt}}return ut},{});Object.keys(lt).length!==0&&(store.dispatch(updateMyNodes(lt)),updatePromptToken($,tt,{}))}function appendPipeline(_e,$,et){const tt=_e.view,{myTree:nt}=store.getState(),rt=_e.transactions[0].annotation(pickedCompletion),it=getCurrentToken(tt,et,nt);if(console.log("curTokens",it),!it||it[it.length-1].typing&&exclude.some(Ot=>Ot(it[it.length-1])))return;const ot=getABNodes(it,et,nt),{rule:lt,predicate:ut,chain:ct}=ot;console.group("===> getABNodes"),console.log("rule",lt,", predicate:",ut,", chain:",ct);const ht=getNodeA(nt,ot);console.log("nodeA",ht,ht.map(Ot=>Ot.parent));const dt=getNodeB(it,et,nt,ot,rt);if(console.log("nodeB",dt),!dt){console.groupEnd();return}let mt,gt;if(lt){const{filler:Ot,hoe:wt}=lt?.compose?.(ht,dt,nt,ot,ut)??{};mt=wt,gt=Ot}else gt=getLocalRoots(dt).filter(Ot=>Ot.parent===void 0).flatMap(Ot=>getSubTree(Ot.id,dt)),mt=ht[0];if(gt){console.log("hole to insert:",mt,", newFiller:",gt);const Ot=insertToHole(mt,gt);console.log("tokenToHandle",Ot),Ot&&updatePromptToken(tt,et,Ot)}console.groupEnd()}function refPipeline(_e,$){const et=_e.view,{myTree:tt}=store.getState(),nt=getCurrentToken(et,$,tt);if(console.log("refPipeline","curTokens",nt),!nt)return;const rt=_e.transactions[0].annotation(pickedCompletion),it=tt.find(ot=>ot.id===rt.nodeId);if(it){if(isDefinition(it)){const ot=getBackStickId(nt);store.dispatch(updateMyNodes({[it.id]:{backStickIds:[...it.backStickIds,ot]}}))}return it}}const addUnderline=StateEffect.define({map:({from:_e,to:$},et)=>({from:et.mapPos(_e),to:et.mapPos($)})}),removeUnderline=StateEffect.define({}),underlineField=StateField.define({create(){return Decoration.none},update(_e,$){_e=_e.map($.changes);for(const et of $.effects)if(et.is(addUnderline)){if(et.value.from>$.state.doc.length||et.value.to>$.state.doc.length||et.value.from<0||et.value.to<0)continue;if(et.value.from<et.value.to){const tt=$.newDoc.lineAt(et.value.from).number,nt=$.newDoc.lineAt(et.value.to).number;let rt;if(tt===nt){const ot=$.newDoc.sliceString(et.value.from,et.value.to).match(/^(\s*)/),lt=ot?ot[1]:"";rt=inlineUnderlineMark.range(et.value.from+lt.length,et.value.to)}else rt=underlineMark.range(et.value.from,et.value.to);_e=_e.update({add:[rt]})}}else et.is(removeUnderline)&&(_e=_e.update({filter:()=>!1}));return _e},provide:_e=>EditorView.decorations.from(_e)}),inlineUnderlineMark=Decoration.mark({class:"cm-underline cm-underline-inline"}),underlineMark=Decoration.mark({class:"cm-underline"}),underlineTheme=EditorView.baseTheme({".cm-underline":{backgroundColor:"#00996622",borderBottom:"1px #009966 solid","&:nth-child(1 of .cm-underline)":{},"&.cm-underline-inline":{border:"2px #009966 solid",borderRadius:"3px"}}}),emptyMarker=new class extends GutterMarker{toDOM(){return document.createTextNode("")}},emptyLineGutter=gutter({class:"cm-highlight-gutter",lineMarker(_e,$){const et=_e.state.field(underlineField);let tt=!1;return et.between($.from,$.to,()=>{tt=!0}),tt?emptyMarker:null},lineMarkerChange(_e){return _e.transactions.some($=>$.effects.some(et=>et.is(addUnderline)||et.is(removeUnderline)))},initialSpacer:()=>emptyMarker}),underlines=[underlineField,underlineTheme,emptyLineGutter,EditorView.baseTheme({".cm-highlight-gutter .cm-gutterElement":{color:"red",cursor:"default",width:"2px",boxSizing:"border-box",borderRight:"2px solid #009966"}})];async function wait(_e){return new Promise($=>setTimeout($,_e))}function useCodeEditor(){const{view:_e,ref:$}=useCodeMirror({initialDoc:"",extensions:[lineNumbers(),python(),autocompletion(),keymap.of([indentWithTab]),placeholders,underlines,EditorView.updateListener.of(it=>{if(it.docChanged){const ot=store.getState().ast,lt=it.changes,ut=it.state.doc.sliceString(0);if(ot){lt.iterChanges((ht,dt,mt,gt)=>{const Ot={startIndex:ht,oldEndIndex:dt,newEndIndex:gt,startPosition:offsetToPos(it.startState.doc,ht),oldEndPosition:offsetToPos(it.startState.doc,dt),newEndPosition:offsetToPos(it.state.doc,gt)};ot.edit(Ot)});const ct=astParser.parse(ut,ot);store.dispatch(updateAST(ct))}else{const ct=astParser.parse(ut);store.dispatch(updateAST(ct))}}})],onChange:()=>{}}),et=useDispatch(),tt=useAppSelector(selectSelectedNode),nt=useAppSelector(selectEdits),rt=useAppSelector(selectMyTree);return reactExports.useEffect(()=>{if(!_e)return;const it=[removeUnderline.of(null)],ot=new Set,lt=[];for(const[,ut]of Object.entries(tt))if(ut)for(const ct of ut)ot.has(ct.id)||(ot.add(ct.id),lt.push(ct));if(lt.length){const{ranges:ut}=convertMyNodeToCode(rt);it.push(...lt.map(ct=>{const{from:ht=0,to:dt=0}=ut[ct.id]??{};return addUnderline.of({from:ht,to:dt})}))}_e.dispatch({effects:it})},[_e,tt,rt]),reactExports.useEffect(()=>{if(!_e||nt.length===0)return;(async()=>{const ot=[];for(const dt of nt){const{from:mt,to:gt,insert:Ot}=dt;if(Ot)for(let wt=0,St=Ot.length;wt<St;wt++)ot.push({from:mt,insert:Ot[wt]});else if(gt!==void 0){const wt=gt-mt;for(let St=0;St<wt;St++)ot.push({from:mt+St,to:mt+St+1})}}const lt=[];for(let dt=0,mt=ot.length;dt<mt;dt++){const gt=ot.slice(0,dt),Ot=_e.state.changes(gt),wt=ot[dt],St={from:Ot.mapPos(wt.from,1),to:wt.to?Ot.mapPos(wt.to):void 0,insert:wt.insert};lt.push(St)}for(const dt of lt)_e.dispatch({changes:dt}),await wait(25);et(cleanEdits());const ut=store.getState().ast,[,ct]=conertToTree(ut.rootNode);processAstNode(ct),ct?.type===NodeType$1.module&&(ct.id=0);const ht=convertAstNode2MyNode(ct);et(resetMytree(ht))})()},[_e,nt,et]),reactExports.useEffect(()=>{if(!_e||nt.length)return;const{code:it}=convertMyNodeToCode(rt),ot=_e.state.changes({from:0,to:_e.state.doc.length,insert:it});_e.dispatch({changes:ot})},[nt.length,rt,_e]),{view:_e,ref:$}}function useDebounce(_e,$=500){const et=reactExports.useRef();return reactExports.useEffect(()=>{et.current=_e},[_e]),reactExports.useMemo(()=>{const nt=(...rt)=>et.current?.(...rt);return lodashExports.debounce(nt,$)},[$])}function CodeEditor(){const{view:_e,ref:$}=useCodeEditor(),et=useAppDispatch(),tt=useAppSelector(selectPrompt),nt=useDebounce(async(lt,ut,ct)=>{const{payload:ht}=await et(analyzePrompt(lt)),dt=ht;console.log("after analyzePrompt",dt),appendPipeline(ut,ct,dt)},100),rt=reactExports.useCallback(async(lt,ut)=>{if(!_e||!ut.docChanged)return;console.group("##Ext## onChange======>",lt);const ct=ut.view;et(changePrompt(lt));const{payload:ht}=await et(tokenizePrompt(lt));if(console.log("##Ext## onChange======> updateFillerFieldIDs"),updateFillerFieldIDs(ct,ht),console.groupEnd(),ut.transactions.length===1&&ut.transactions[0].isUserEvent("input.fillHole")){console.log("fillHole transaction, should do nothing");return}else ut.transactions.length===1&&ut.transactions[0].isUserEvent("input.ref")&&refPipeline(ut,ht);console.log("##Ext## onChange ===> getCurrentFillerField");const dt=getCurrentFillerField(ut.view);dt?(editPipeline(dt,ct,_e,ht),updateFillerFieldIDs(ct,ht)):nt(lt,ut,_e),startCompletion(ct)},[_e,nt,et]),it=[snipCompletions,localCompletionSource],{ref:ot}=useCodeMirror({initialDoc:tt,extensions:[wordHover,inlineCode(),promptGutter,keywordHL,useCursorHighlightExt(),autocompletion({activateOnTyping:!1,override:it}),useAppKeymapExt(),EditorView.baseTheme({".cm-tooltip.cm-completionInfo":{backgroundColor:"#fff"}})],onChange:rt});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:ot,style:{width:"100%",position:"relative",zIndex:999,color:"rgb(0, 116, 0)"}}),jsxRuntimeExports.jsx("div",{ref:$,style:{width:"100%",position:"relative",zIndex:888}})]})}function Divider(){return jsxRuntimeExports.jsx("div",{style:{width:"4px",backgroundColor:"#ddd",height:"100%"}})}function App(){return jsxRuntimeExports.jsxs("div",{className:"app",children:[jsxRuntimeExports.jsx("div",{className:"row",children:jsxRuntimeExports.jsx(Toolbar,{})}),jsxRuntimeExports.jsxs("div",{className:"row",style:{height:"calc(100% - 80px)"},children:[jsxRuntimeExports.jsx("div",{className:"col col-10",style:{zIndex:2e3},children:jsxRuntimeExports.jsx(CodeEditor,{})}),jsxRuntimeExports.jsx(Divider,{})]})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(Provider,{store,children:jsxRuntimeExports.jsx(App,{})}));
